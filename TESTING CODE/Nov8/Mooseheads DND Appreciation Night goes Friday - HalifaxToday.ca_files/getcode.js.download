
(function () {
    var __b = document.body || document.documentElement;
    var __vndr = "";
    if (__b && (__b.style.transform === null || __b.style.transform === undefined)
            && window.getComputedStyle) {
        __vndr = (Array.prototype.slice
                .call(window.getComputedStyle(__b, ""))
                .join('')
                .match(/-(moz|webkit|ms|o)-/))[1];
        __vndr = __vndr ? "-" + __vndr + "-" : "";
    }
    var IID = "0e4843955b0442f68ffa13d309695d92";
    var BODY = function () {/*
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript">
        var ENV = {"UserIPs":{"HTTP-X-FORWARDED-FOR":"142.177.81.10, 10.0.112.226","HTTP-X-REAL-IP":"10.0.112.226","REMOTE_ADDR":"127.0.0.1:53484"},"ad_id":32924,"additionEngagements":"\u003cimg src=\"https://crucialinteractive.demdex.net/event?d_sid=12304245\" width=\"0\" height=\"0\" /\u003e\r\n\r\n\u003cIMG SRC=\"https://ad.doubleclick.net/ddm/trackimp/N35509.149225CRUCIALINTERACTIVEE/B21580235.230568878;dc_trk_aid=428443932;dc_trk_cid=104888103;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?\" BORDER=\"0\" HEIGHT=\"1\" WIDTH=\"1\" ALT=\"Advertisement\"\u003e","additionRetargeting":"","additionTrackers":"\u003cIMG SRC=\"https://ad.doubleclick.net/ddm/trackimp/N35509.149225CRUCIALINTERACTIVEE/B21580235.228086920;dc_trk_aid=428443043;dc_trk_cid=104888103;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?\" BORDER=\"0\" HEIGHT=\"1\" WIDTH=\"1\" ALT=\"Advertisement\"\u003e","brand_id":1073,"brand_name":"Mark's Work Warehouse","busted":false,"campaign_name":"Mark's Work Warehouse - Contobox Fall 2018","category_id":56,"category_name":"Retailer - Clothing \u0026 Apparel","clickTag":"https://adclick.g.doubleclick.net/pcs/click%253Fxai%253DAKAOjsvGvpgi0Bwu2OT9hq1Ea42UwgM1CaJ0AVPmaAM0C37-WDiSq3ub8lUDsf7mhs1naRst9ObuxUPyshA2PvHoAdY8XbjeCaa-06THxFFPmYUwag17L_YoPoMAK3iarBCorZmKKT9Km6TuVbLNnxhPeEUoomjHdiZNplHx_3WON4rzfBQEsPenJJRAmn1I5DxCaFv5pLLMXAuvlY-XtgM-THsJG040eQwsafGC_YfZCqfjrtIweYf857Gz9_I6CcSKUzl6O0CQgIdC8NLVFw626kY%2526sai%253DAMfl-YQ6OgdX6dlwMggc6Ly0JCxH9lMKJtf_WZcYUnMUJlq-5QO0Gpt98be7ZeIu3gX7kL2xf5kw22aXW0cnk2Tbw3OxG4sjad6GcDqV_fLO3F9aqYyiwdwElYZA2IDY%2526sig%253DCg0ArKJSzJIIB9MVerqbEAE%2526urlfix%253D1%2526adurl%253Dhttps://googleads.g.doubleclick.net/dbm/clk%25253Fsa%25253DL%252526ai%25253DCunTl21jkW7i0JIvmowbS0YMw-ofxjFTLyae5vwi90dCDqxAQASDM08kcYP2QhIHcA8gBCagDAaoEtQFP0EQTb4OJblVT-CEFVN6qEtPoeQ-Sw0arQy-1tD6dGhVbhlQ-BmjFcrkwxGqzadr-cZcqTvsy7t_UiWKIAlsmMeHA5F5aFUbHfYLA28692h0qFgXTwJVakY2FOTVWh3pAIKceVYIF2Z0a75pQa3yWUzZcTS8HbTi8L0AEHDN1LCdpnzAn8sRrDNFmHg78I00no7uF_KH3mrPnXgyTLMkQ_N6gS_7KwfiLyzxTue5lp01VyUNT4AQDkAYBoAZNgAfi09hfqAeOzhuoB9XJG6gHqAaoB9nLG6gHz8wbqAemvhvYBwDSCAcIgCEQARgD8ggbYWR4LXN1YnN5bi05ODIzNjcyMzQxMTY5MjczgAoDsBPi9MUF0BMA2BMD%252526num%25253D1%252526cid%25253DCAASEuRoZnjp0gs6DgBqBh_CxaD_bw%252526sig%25253DAOD64_3k2KbYiPohWuTYNchxqlCna9efJQ%252526dbm_c%25253DAKAmf-AR_-c2HsZPD6HpxBNo2-eu1V9AEhGevCwN2rIVs9rEh3hT3sNqToFh18Dnn8O9689Vu4_R%252526dbm_d%25253DAKAmf-AF-kizGtZS-BIcVVGEY2dzCN-bCbciktaBymkINJm5ZBX9UR4t0m3xqhlwLi4Hxsm2WotyVs5lpBR7gOmG250b52xa387Lux_XJsiHxQjYRo5UchLunMkRi_rGxwwuRT17CFZXpzC430Puw7aJVOdLf1CN8fX6dhMay1oGNYZcbqj2WrGhSFAFuKqconHNlOpPhSQJvfNUzGYHoLX4zcx0uyUh2g%252526adurl%25253D","cookieid":"58d463aea9b9486b97d50c371b7773b5","customMacros":{"a":"DFP","c":"4853000820","s":"halifaxtoday.ca"},"d_src":"152904","debugIP":"","disableTracking":false,"dyno_tag_values":{"cookie":{},"query":{},"zone":{}},"expandOnLoad":0,"expandedShare":false,"fallback":false,"fingerprint":"","fromUrl":"aHR0cHM6Ly93d3cuaGFsaWZheHRvZGF5LmNhL2xvY2FsLW5ld3MvbW9vc2VoZWFkcy1kbmQtYXBwcmVjaWF0aW9uLW5pZ2h0LWdvZXMtZnJpZGF5LTExMTUwNjY=","ifr":false,"iframe_type":"non-iframe","io_id":7214,"io_line_id":11710,"isSF":"nosf","layout":"desktop","lid":"a_DFP_!!_c_4853000820_!!_s_halifaxtoday.ca","lid_domain":"a_DFP_!!_c_4853000820_!!_s_halifaxtoday.ca-*-halifaxtoday.ca","ltype":1,"nC":"","noMRAID":false,"optout":false,"ph_id":"cbox_ph_71317","raw_data":{"ad_id":32924,"campaign_id":"4853000820","cookie_id":"58d463aea9b9486b97d50c371b7773b5","domain":"halifaxtoday.ca","dsp":"DFP","from_url":"https://www.halifaxtoday.ca/local-news/mooseheads-dnd-appreciation-night-goes-friday-1115066","rd_iframe":"non-iframe","ip_address":"142.177.81.10","l_type":1,"rule_id":0,"sid":"0e4843955b0442f68ffa13d309695d92","site_id":"halifaxtoday.ca","zone_id":41166},"ref":"aHR0cHM6Ly93d3cuaGFsaWZheHRvZGF5LmNhL2xvY2FsLW5ld3MvbW9vc2VoZWFkcy1kbmQtYXBwcmVjaWF0aW9uLW5pZ2h0LWdvZXMtZnJpZGF5LTExMTUwNjY=","rule_id":0,"sid":"0e4843955b0442f68ffa13d309695d92","sourceUrl":"https%3A%2F%2Fwww.halifaxtoday.ca%2Flocal-news%2Fmooseheads-dnd-appreciation-night-goes-friday-1115066","tabToOpenOnExpansion":"0","uaCheckData":{"IEVersion":"","OS":"Windows 10","browserName":"Chrome","browserVersion":"70.0.3538.77","engineName":"AppleWebKit","engineVersion":"537.36","isAndroid":false,"isBlackBerry":false,"isBot":false,"isChrome":true,"isEdge":false,"isFirefox":false,"isIE":false,"isIE10":false,"isIE11":false,"isIE7":false,"isIE8":false,"isIE9":false,"isIOS":false,"isMobile":false,"isOpera":false,"isSafari":false,"isWindows":true,"isWindowsDesktop":true,"isWindowsMobile":false,"mozillaVersion":"5.0","platform":"Windows"},"website_domain":"halifaxtoday.ca","zoneAdditionEngagements":"","zoneAdditionTrackers":"","zoneID":41166,"zone_id":41166};
    </script>
</head>
<body style="margin: 0;" class="cbox_lang_en cbox_format_300x600    windowsd  chrome  windows ">

<div class="banner">
    
        
<div id="panel" class="layout banner-layout">
    <div class="layout-inner">

        <div class="layout-header"></div>

        <div class="layout-components">
            
                  
<div id="tab-frames" class="tab-frames">

    

    <div class="tab-scroll-container">
        
            <div tab-index="0" data-tab-index="0" class="tab-frame tab-frame-0">
                
                <div class="sub-tab-scroll-wrapper">
                    <div class="sub-tab-scroll-frame">
                        <div class="sub-tab-scroll-container">
                            
                            <div class="tab-sub-frame frame-index-0 tab-sub-frame-0">
                                

                                    <div id="component-frame-0" class="htmlbox-component component-frame component-frame-index-0 main_tab" dyna-value="0" dyna-target="">
                                        <div class="tab-frame-inner tab-inner-area">
                                            
                                                
<div class="htmlbox-container">
    		<div class="banner-container container">
			<div class="content-container container">
				<div class="content container">
					<div class="content-wrapper container">
						<div class="bg container">&nbsp;</div>
						<div class="logo container">&nbsp;</div>
						<div class="text container">&nbsp;</div>
						<div class="cta container">&nbsp;</div>
					</div>
				</div>
			</div>
		</div>
</div>

                                            


                                        <div class="component-custom-links">
                                            
                                        </div>
                                        <div class="tab-frame-inner-overlay"></div>
                                    </div>
                                </div>
                                
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
        
    </div>
</div>

            
            
                


            
        </div>

        <div class="layout-nav-bar">
            <div class="layout-nav-overlay"></div>
            <div class="layout-nav-logo"></div>
            
                
<div id="layout-tabs" class="layout-tabs">
    <ul class="layout-tab-holder">
        
        <li id="component-button-0" class="htmlbox-button tab-button tab-button-0" title="Banner" data-tab-index="0" data-component-index="0" data-event-target="Tab: Banner">
                <span class="tab-icon"></span>
                <span class="tab-title">Banner</span>
            </li>
        
    </ul>
</div>

            
        </div>

        <div class="layout-side-bar">
            
                



<div id="social-buttons" class="social-buttons">
    <div class="sl-header"></div>
    <div class="sl-buttons">
        
            
            <a  href="https://ad.doubleclick.net/ddm/trackclk/N35509.149225CRUCIALINTERACTIVEE/B21580235.230855457;dc_trk_aid=428443929;dc_trk_cid=104888103;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=" class="social-button facebook-social-icon" target="_blank" data-dmp-target="facebook-social-icon" title="facebook">
                     
                <svg version="1.1" class="social_media facebookSVG" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                viewBox="-299 390.1 12.9 12.9" style="enable-background:new -299 390.1 12.9 12.9;" xml:space="preserve">

                <g>
                    <path class="st0" d="M-292.6,390.1c-3.5,0-6.4,2.9-6.4,6.4s2.9,6.4,6.4,6.4s6.4-2.9,6.4-6.4S-289,390.1-292.6,390.1L-292.6,390.1z
                         M-290.9,396.5h-1.1v3.8h-1.4v-3.8h-1v-1.3h1v-0.8c0-1.1,0.3-1.7,1.6-1.7h1.1v1.3h-0.8c-0.4,0-0.5,0.2-0.5,0.5v0.7h1.2
                        L-290.9,396.5z"/>
                </g>
                </svg>
                
                <span></span>
            </a>
            
        
            
            <a  href="https://ad.doubleclick.net/ddm/trackclk/N35509.149225CRUCIALINTERACTIVEE/B21580235.230692543;dc_trk_aid=428444294;dc_trk_cid=104888103;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=" class="social-button twitter-social-icon" target="_blank" data-dmp-target="twitter-social-icon" title="twitter">
                
                <svg version="1.1" class="social_media twitterSVG" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                     viewBox="0 0 39.8 40" style="enable-background:new 0 0 39.8 40;" xml:space="preserve">

                <g>
                    <path class="st0" d="M19.9,0.1C9,0.1,0,9,0,20c0,11,8.9,19.9,19.9,19.9c11,0,19.9-8.9,19.9-19.9C39.8,9,30.9,0.1,19.9,0.1L19.9,0.1
                        z M28.8,15.4c0,0.2,0,0.4,0,0.6c0,6-4.6,13-13,13c-2.6,0-5-0.8-7-2.1C9.1,27,9.5,27,9.9,27c2.1,0,4.1-0.7,5.7-2
                        c-2,0-3.7-1.4-4.3-3.2c0.3,0.1,0.6,0.1,0.9,0.1c0.4,0,0.8-0.1,1.2-0.2c-2.1-0.4-3.7-2.3-3.7-4.5c0,0,0,0,0-0.1
                        c0.6,0.3,1.3,0.5,2.1,0.6c-1.2-0.8-2-2.2-2-3.8c0-0.8,0.2-1.6,0.6-2.3c2.3,2.8,5.6,4.6,9.4,4.8c-0.1-0.3-0.1-0.7-0.1-1
                        c0-2.5,2-4.6,4.6-4.6c1.3,0,2.5,0.6,3.3,1.4c1-0.2,2-0.6,2.9-1.1c-0.3,1.1-1.1,2-2,2.5c0.9-0.1,1.8-0.4,2.6-0.7
                        C30.4,14,29.7,14.8,28.8,15.4L28.8,15.4z M28.8,15.4"/>
                </g>
                </svg>
                
                <span></span>
            </a>
            
        
            
            <a  href="https://ad.doubleclick.net/ddm/trackclk/N35509.149225CRUCIALINTERACTIVEE/B21580235.230568890;dc_trk_aid=428444597;dc_trk_cid=104888103;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=" class="social-button instagram-social-icon" target="_blank" data-dmp-target="instagram-social-icon" title="instagram">
                
                <svg version="1.1" class="social_media instagramSVG" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                     viewBox="0 0 39.9 39.9" style="enable-background:new 0 0 39.9 39.9;" xml:space="preserve">

                <g>
                    <path class="st0" d="M20,23.9c2.2,0,4-1.8,4-4c0-0.9-0.3-1.7-0.8-2.3c-0.7-1-1.9-1.7-3.2-1.7c-1.3,0-2.5,0.7-3.2,1.7
                        c-0.5,0.7-0.8,1.5-0.8,2.3C16,22.1,17.8,23.9,20,23.9L20,23.9z M20,23.9"/>
                    <path class="st0" d="M28.7,15.1v-3.8h-0.5l-3.3,0l0,3.8L28.7,15.1z M28.7,15.1"/>
                    <path class="st0" d="M20,0.1C9,0.1,0.1,9,0.1,19.9c0,11,8.9,19.9,19.9,19.9c11,0,19.9-8.9,19.9-19.9C39.8,9,30.9,0.1,20,0.1L20,0.1
                        z M31.3,17.6v9.2c0,2.4-2,4.4-4.4,4.4H13.1c-2.4,0-4.4-2-4.4-4.4V13c0-2.4,2-4.4,4.4-4.4h13.9c2.4,0,4.4,2,4.4,4.4V17.6z
                         M31.3,17.6"/>
                    <path class="st0" d="M26.2,19.9c0,3.4-2.8,6.2-6.2,6.2c-3.4,0-6.2-2.8-6.2-6.2c0-0.8,0.2-1.6,0.5-2.3h-3.4v9.2c0,1.2,1,2.2,2.2,2.2
                        h13.9c1.2,0,2.2-1,2.2-2.2v-9.2h-3.4C26,18.3,26.2,19.1,26.2,19.9L26.2,19.9z M26.2,19.9"/>
                </g>
                </svg>
                
                <span></span>
            </a>
            
        
            
            <a  href="https://ad.doubleclick.net/ddm/trackclk/N35509.149225CRUCIALINTERACTIVEE/B21580235.230692180;dc_trk_aid=428443046;dc_trk_cid=104888103;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=" class="social-button youtube-social-icon" target="_blank" data-dmp-target="youtube-social-icon" title="youtube">
                
                <svg version="1.1" class="social_media youtubeSVG" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                     viewBox="0 0 78.8 78.7" style="enable-background:new 0 0 78.8 78.7;" xml:space="preserve">

                <g>
                    <path class="st0" d="M20.9,42.2H24v16.8h2.9V42.2h3.2v-2.7h-9.2V42.2z M20.9,42.2"/>
                    <path class="st0" d="M45.7,44.2c-1,0-1.9,0.5-2.7,1.6v-6.4h-2.6v19.5h2.6v-1.4c0.9,1.1,1.8,1.6,2.7,1.6c1,0,1.8-0.6,2.1-1.6
                        c0.2-0.6,0.3-1.6,0.3-2.9v-5.8c0-1.4-0.1-2.3-0.3-2.9C47.4,44.8,46.7,44.2,45.7,44.2L45.7,44.2z M45.4,54.8c0,1.3-0.4,2-1.1,2
                        c-0.4,0-0.9-0.2-1.3-0.6v-8.9c0.4-0.4,0.9-0.6,1.3-0.6c0.8,0,1.1,0.7,1.1,2V54.8z M45.4,54.8"/>
                    <path class="st0" d="M35.4,55.5c-0.6,0.8-1.1,1.2-1.7,1.2c-0.4,0-0.6-0.2-0.6-0.6c0-0.1,0-0.4,0-1V44.4h-2.6v11.5
                        c0,1,0.1,1.7,0.2,2.2c0.3,0.7,0.9,1.1,1.7,1.1c1,0,2-0.6,3-1.8v1.6H38V44.4h-2.6V55.5z M35.4,55.5"/>
                    <path class="st0" d="M37.7,30.9c0.9,0,1.3-0.7,1.3-2v-6.2c0-1.4-0.4-2-1.3-2c-0.9,0-1.3,0.7-1.3,2v6.2
                        C36.4,30.3,36.8,30.9,37.7,30.9L37.7,30.9z M37.7,30.9"/>
                    <path class="st0" d="M39.4,0.2C17.8,0.2,0.3,17.7,0.3,39.3c0,21.6,17.5,39.1,39.1,39.1c21.6,0,39.1-17.5,39.1-39.1
                        C78.5,17.7,61,0.2,39.4,0.2L39.4,0.2z M43.8,18.5h2.7v10.8c0,0.6,0,0.9,0,1c0.1,0.4,0.3,0.6,0.6,0.6c0.5,0,1.1-0.4,1.7-1.2V18.5
                        h2.7v14.7h-2.7v-1.6c-1.1,1.2-2.1,1.8-3,1.8c-0.9,0-1.4-0.4-1.7-1.1c-0.1-0.4-0.2-1.1-0.2-2.2V18.5z M33.7,23.2
                        c0-1.6,0.3-2.7,0.8-3.5c0.7-1,1.8-1.5,3.1-1.5c1.3,0,2.4,0.5,3.1,1.5c0.6,0.7,0.8,1.9,0.8,3.5v5.1c0,1.6-0.3,2.7-0.8,3.5
                        c-0.7,1-1.8,1.5-3.1,1.5c-1.3,0-2.4-0.5-3.1-1.5c-0.6-0.7-0.8-1.9-0.8-3.5V23.2z M26.6,13.4l2.1,7.7l2-7.7h3l-3.6,11.7v8h-3v-8
                        c-0.3-1.4-0.9-3.5-1.8-6.2c-0.6-1.8-1.3-3.7-1.9-5.5H26.6z M60.5,60.2c-0.5,2.3-2.4,4-4.7,4.3c-5.4,0.6-10.9,0.6-16.3,0.6
                        c-5.5,0-10.9,0-16.3-0.6c-2.3-0.3-4.2-2-4.7-4.3c-0.8-3.3-0.8-6.9-0.8-10.3c0-3.4,0-7,0.8-10.3c0.5-2.3,2.4-4,4.7-4.3
                        c5.4-0.6,10.9-0.6,16.3-0.6c5.5,0,10.9,0,16.3,0.6c2.3,0.3,4.2,2,4.7,4.3c0.8,3.3,0.8,6.9,0.8,10.3C61.2,53.3,61.2,56.9,60.5,60.2
                        L60.5,60.2z M60.5,60.2"/>
                    <path class="st0" d="M54.1,44.2c-1.3,0-2.4,0.5-3.2,1.5c-0.6,0.7-0.8,1.9-0.8,3.4v5.1c0,1.5,0.3,2.7,0.8,3.4c0.8,1,1.8,1.5,3.2,1.5
                        c1.4,0,2.5-0.5,3.2-1.6c0.3-0.5,0.5-1,0.6-1.6c0-0.3,0.1-0.8,0.1-1.7v-0.4h-2.7c0,1.1,0,1.6-0.1,1.8c-0.2,0.7-0.5,1.1-1.2,1.1
                        c-0.9,0-1.3-0.7-1.3-2v-2.6H58v-3c0-1.6-0.3-2.7-0.8-3.4C56.4,44.7,55.4,44.2,54.1,44.2L54.1,44.2z M55.4,49.9h-2.6v-1.3
                        c0-1.3,0.4-2,1.3-2c0.9,0,1.3,0.7,1.3,2V49.9z M55.4,49.9"/>
                </g>
                </svg>
                
                <span></span>
            </a>
            
        
    </div>
    <div class="sl-footer"></div>
</div>


            
        </div>

        <div class="layout-footer">
            
            

<div class="messenger">
    <div class="message-lines"></div>
    <div class="message-previews-wrap">
        <div class="massage-previews"></div>
    </div>
</div>


            
        </div>

        <div class="layout-extensions">
            
                
    <div id="cb-peek">
        <div id="cb-peek-ticker">
            <span id="cb-peek-ticker-text"></span>
            <div id="cb-peek-icon">
                <div class="p-l-sq">
                    <div class="p-l-t"></div>
                    <div class="p-l-r"></div>
                    <div class="p-l-l"></div>
                    <div class="p-l-b"></div>
                </div>
                <div class="p-l-tr"></div>
                <div class="p-l-rr"></div>
                <div class="p-l-db"></div>
            </div>
        </div>
    </div>

    <div id="cb-peek-previews">
        <canvas id="cb-peek-particles"></canvas>
        <img id="cb-peek-image" alt="">
        <div id="cb-peek-caption-area">
            <span id="cb-peek-ticker-image-caption"></span>
        </div>
    </div>

    <div id="cb-ripple"></div>

            
        </div>

        <div class="layout-custom-links">
            
                
<div id="custom-links" class="custom-links">
    
    
        <a class="custom-link main-cta" href="https://ad.doubleclick.net/ddm/trackclk/N35509.149225CRUCIALINTERACTIVEE/B21580235.228086920;dc_trk_aid=428443043;dc_trk_cid=104888103;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=" title="Visit Marks.com" data-dmp-target="main_cta" target="_blank">
            <span> Visit Marks.com </span>
        </a>
    
    </div>

            
        </div>

        <div id="expand-button" class="expand-button"></div>

        <div class="advertisement-text"></div>
    </div>
</div>

    
        
<style type="text/css"> 
	html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:0.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:0.35em 0.625em 0.75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*{-webkit-user-select:initial;-moz-user-select:initial;-ms-user-select:initial;user-select:initial;outline:initial}.hidden{display:none}.clear{clear:both}.custom-link span{display:none}.tab-hidden{height:0!important;visibility:hidden!important}.banner{position:relative}html,body{margin:0;padding:0}html,body,.banner,.banner-layout,.banner-layout>*,.layout-components,.layout-extensions{position:absolute;width:100%;height:100%}body.ltie10{overflow:hidden}.layout-nav-bar,.layout-side-bar{position:absolute}.sub-tab-scroll-container{width:100%}.tab-sub-frame{width:100%}.cbox-fn-banner-loader,.cbox-fn-bl-i{position:absolute;top:0;right:0;bottom:0;left:0;display:block}.cbox-fn-banner-loader{opacity:.5;filter:alpha(opacity=50);z-index:100001}.cbox-fn-bl-i{width:4px;height:20px;margin:auto;border:0;-VENDOR-border-radius:60px;border-radius:60px}.notr.cbox-fn-bl-i{width:7px;height:7px}.banner .social_media{display:none}.slideToExpand::-ms-track{width:100%;height:100%;-webkit-appearance:none;margin:0;padding:0;border:0 0;background:transparent;color:transparent;overflow:visible}.slideToExpand::-moz-range-track{width:100%;height:100%;-moz-appearance:none;margin:0;padding:0;border:0 0;background:transparent;color:transparent;overflow:visible}.slideToExpand:focus::-webkit-slider-runnable-track{background:transparent;border:transparent}.slideToExpand:focus{outline:0}.slideToExpand::-moz-focus-outer{border:0}.slideToExpand::-ms-fill-lower{background:transparent;border:0 0}.slideToExpand::-ms-fill-upper{background:transparent;border:0 0}.slideToExpand::-ms-tooltip{display:none}.slideToExpand{width:95%;height:84%;position:absolute;-webkit-appearance:none;-moz-appearance:none;border-radius:30px;margin-top:1%;padding:0 2px;border:1px solid #fff;transition:opacity 0.5s;z-index:9999999!important}.slideToExpand::-webkit-slider-thumb{width:30px;height:30px;background:transparent!important;-webkit-appearance:none;border-radius:30px;z-index:1;position:relative;border:1px solid #fff}.slideToExpand::-moz-range-thumb{width:30px;height:30px;background:transparent!important;-moz-appearance:none;border-radius:30px;z-index:1;position:relative;border:1px solid #a3a3a3}.desktop-layout .slideToExpand{width:calc(100% - 15px);height:100%;margin:0;background:0 0;left:0}.desktop-layout .slideToExpand::-webkit-slider-thumb{width:0;padding-left:6%;height:0;padding-bottom:6%;background:#fff!important;-webkit-appearance:none;z-index:1;border:1px solid #fff}.desktop-layout .slideToExpand::-moz-range-thumb{width:0;padding-left:6%;height:0;padding-bottom:6%;background:#fff!important;-moz-appearance:none;z-index:1;border:1px solid #fff}.desktop-layout .slideToExpand::before{content:"Slide to expand";position:absolute;display:block;font-size:12px;left:9%;left:calc(6% + 8px);height:0;bottom:0;top:0;margin:auto;line-height:0}.cbox_format_320x50 .slideToExpand{width:95%;height:84%;background:rgba(255,255,255,0.25);position:absolute;-webkit-appearance:none;-moz-appearance:none;border-radius:30px;margin-top:1%;padding:0 2px;border:1px solid #fff;transition:opacity 0.5s;z-index:9999999!important}.cbox_format_320x50 .slideToExpand::before{content:" ";width:100%;height:100%;left:0;top:0;display:block;position:absolute;background:url(https://cbmedia3.contobox.com/external/slideToExpandImages/slideToExpand_text.png) no-repeat;background-size:82px 12px;background-position:28px 7px;transition:opacity 0.2s;opacity:1;margin:0;bottom:auto}.cbox_format_320x50 .slideToExpand.sliding::before{opacity:0}.cbox_format_320x50 .slideToExpand::-webkit-slider-thumb{width:21px;height:21px;background:transparent!important;-webkit-appearance:none;border-radius:21px;z-index:1;position:relative;border:1px solid #fff;padding:0}.cbox_format_320x50 .slideToExpand::-moz-range-thumb{width:21px;height:21px;background:transparent!important;-moz-appearance:none;border-radius:21px;z-index:1;position:relative;border:1px solid #fff;padding:0}.cbox-banner-disabled .banner::after{content:' ';width:100%;height:100%;position:absolute;left:0;top:0;z-index:999999}.cbox-no-supported .main-cta{width:100%;height:100%;position:absolute;left:0;top:0;display:block;z-index:9999}.tab-frames{left:0;top:0;width:100%;height:100%;position:absolute;overflow:hidden}.tab-scroll-container{height:100%;position:relative}.sub-tab-scroll-wrapper,.sub-tab-scroll-frame{height:100%}.sub-tab-scroll-container{height:100%;position:relative;float:left}.tab-sub-frame{height:100%;position:relative;float:left}.tab-frame{width:100%;height:100%;position:relative}.banner-rotation .tab-frame{position:absolute}.component-frame{width:100%;height:100%;position:absolute;left:0;top:0}.cb-tip{padding:15px 20px;opacity:0;position:absolute;cursor:default;box-sizing:border-box;max-width:450px;cursor:pointer}.cb-tip.cb-tip-init{-VENDOR-transition:all .3s ease;z-index:999999999}.cb-tip-content{position:relative;z-index:1;white-space:pre-wrap}.cb-tip-content a{color:#fff}.cb-tip-box{position:absolute;box-sizing:border-box;top:0;left:0;width:100%;height:100%}.cb-tip-arrow{pointer-events:none}.tip-style-style_1.cb-tip{max-width:300px}.tip-style-style_1.cb-tip.cb-tip-show{opacity:1}.tip-style-style_1.cb-tip.cb-tip-hide{-VENDOR-transition:all 1s linear;opacity:0}.tip-style-style_1.cb-tip.cb-tip-hide-fast{-VENDOR-transition:all .3s linear;opacity:0}.tip-style-style_1 .cb-tip-box{border-radius:8px;box-shadow:1px 1px 10px -2px rgba(0,0,0,.8);opacity:1}.tip-style-style_1 .cb-tip-box,.tip-style-style_1.cb-tip-left-side .cb-tip-box{background-image:-moz-linear-gradient(to right,rgba(24,177,214,1) 0,#18b1d6 100%);background-image:-webkit-linear-gradient(to right,rgba(24,177,214,1) 0,#18b1d6 100%);background-image:linear-gradient(to right,rgba(24,177,214,.8) 0,#18b1d6 100%)}.tip-style-style_1.cb-tip-right-side .cb-tip-box{background-image:-moz-linear-gradient(to right,rgba(24,177,214,1) 0,rgba(24,177,214,.8) 100%);background-image:-webkit-linear-gradient(to right,rgba(24,177,214,1) 0,rgba(24,177,214,.8) 100%);background-image:linear-gradient(to right,rgba(24,177,214,1) 0,rgba(24,177,214,.8) 100%)}.tip-style-style_1 .cb-tip-content{color:#fff;text-align:center;font-family:Trebuchet MS;text-shadow:1px 1px 3px rgba(0,0,0,.2)}.tip-style-style_1 .cb-tip-arrow{position:absolute;overflow:hidden}.tip-style-style_1 .cb-tip-arrow::before{content:'';position:absolute;display:block}.tip-style-style_1.cb-tip.cb-tip-init .cb-tip-arrow::before{transition:all .35s ease .3s}.tip-style-style_1 .cb-tip-arrow{width:57px;height:37px}.tip-style-style_1 .cb-tip-arrow::before{width:37px;height:37px}.tip-style-style_1.cb-tip-top-left .cb-tip-arrow{top:100%;right:0}.tip-style-style_1.cb-tip-left .cb-tip-arrow,.tip-style-style_1.cb-tip-bottom-left .cb-tip-arrow{bottom:100%;right:0}.tip-style-style_1.cb-tip-top-right .cb-tip-arrow{top:100%;left:0}.tip-style-style_1.cb-tip-right .cb-tip-arrow,.tip-style-style_1.cb-tip-bottom-right .cb-tip-arrow{bottom:100%;left:0}.tip-style-style_1 .cb-tip-arrow::before{background:url(data:image/png;base64,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);background-size:100% auto}.tip-style-style_1.cb-tip-left-side.cb-tip-init{transform:translateY(100px) rotate(-45deg);transform-origin:100% 100%}.tip-style-style_1.cb-tip-right-side.cb-tip-init{transform:translateY(100px) rotate(45deg);transform-origin:0 100%}.tip-style-style_1.cb-tip-left-side.cb-tip-show,.tip-style-style_1.cb-tip-right-side.cb-tip-show{transform:translateY(0) rotate(0)}.tip-style-style_1 .cb-tip-arrow::before{transform-origin:100% 0;transform:rotate(60deg);top:-9px}.tip-style-style_1.cb-tip-show .cb-tip-arrow::before{transform:rotate(-15deg)}.tip-style-style_1.cb-tip-left .cb-tip-arrow,.tip-style-style_1.cb-tip-bottom-left .cb-tip-arrow{transform:scaleY(-1)}.tip-style-style_1.cb-tip-top-right .cb-tip-arrow{transform:scaleX(-1)}.tip-style-style_1.cb-tip-right .cb-tip-arrow,.tip-style-style_1.cb-tip-bottom-right .cb-tip-arrow{transform:scale(-1,-1)}.tip-style-style_1.cb-tip-tb-side .cb-tip-arrow{width:32px;height:32px}.tip-style-style_1.cb-tip-tb-side .cb-tip-arrow::before{background:url(data:image/png;base64,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) no-repeat 50% 50%;background-size:32px auto;width:100%;height:100%}.tip-style-style_1.cb-tip-tb-side.cb-tip-top.cb-tip-init{transform:translateY(-50px)}.tip-style-style_1.cb-tip-tb-side.cb-tip-top.cb-tip-show{transform:translateY(0)}.tip-style-style_1.cb-tip-tb-side.cb-tip-top .cb-tip-arrow{top:100%;left:50%;margin-left:-16px;transform:scaleY(1)}.tip-style-style_1.cb-tip-tb-side.cb-tip-bottom.cb-tip-init{transform:translateY(50px)}.tip-style-style_1.cb-tip-tb-side.cb-tip-bottom.cb-tip-show{transform:translateY(0)}.tip-style-style_1.cb-tip-tb-side.cb-tip-bottom .cb-tip-arrow{bottom:100%;left:50%;margin-left:-16px;transform:scaleY(-1)}.tip-style-style_1.cb-tip-tb-side.cb-tip-left.cb-tip-init{transform:translateX(-50px)}.tip-style-style_1.cb-tip-tb-side.cb-tip-left.cb-tip-show{transform:translateX(0)}.tip-style-style_1.cb-tip-tb-side.cb-tip-right.cb-tip-init{transform:translateX(50px)}.tip-style-style_1.cb-tip-tb-side .cb-tip-arrow::before{top:-1px;transform:translateY(-100%)}.tip-style-style_1.cb-tip-tb-side.cb-tip-show .cb-tip-arrow::before{transform:translateY(0)}.tip-style-generic.cb-tip.cb-tip-show{opacity:1;-VENDOR-animation:CB_TIP_SHOW_GENERIC .3s ease}.tip-style-generic.cb-tip.cb-tip-hide{-VENDOR-transition:all 1s linear;opacity:0}.tip-style-generic.cb-tip.cb-tip-hide-fast{-VENDOR-transition:all .3s linear;opacity:0}.tip-style-generic.cb-tip-left{-VENDOR-transform-origin:100% 50%}.tip-style-generic.cb-tip-right{-VENDOR-transform-origin:0 50%}.tip-style-generic.cb-tip-top{-VENDOR-transform-origin:50% 100%}.tip-style-generic.cb-tip-bottom{-VENDOR-transform-origin:50% 0}.tip-style-generic.cb-tip-bottom-right{-VENDOR-transform-origin:0 0}.tip-style-generic.cb-tip-top-left{-VENDOR-transform-origin:100% 100%}.tip-style-generic.cb-tip-bottom-left{-VENDOR-transform-origin:100% 0}.tip-style-generic.cb-tip-top-right{-VENDOR-transform-origin:0 100%}.tip-style-generic .cb-tip-box{border:solid 2px #FFE249;border-radius:10px;box-shadow:0 1px 10px 0 rgba(0,0,0,.3);text-shadow:1px 1px 3px rgba(0,0,0,.5);background:#2eb6ee;opacity:.95}.tip-style-generic .cb-tip-content{color:#fff}.tip-style-generic.cb-tip-left .cb-tip-arrow{position:absolute;right:-14px;top:50%;margin-top:-10px;border-top:solid 10px transparent;border-bottom:solid 10px transparent;border-left:solid 14px #FFE249}.tip-style-generic.cb-tip-left .cb-tip-arrow::after{content:'';position:absolute;right:3px;margin-top:-7px;border-top:solid 7px transparent;border-bottom:solid 7px transparent;border-left:solid 11px #2eb6ee}.tip-style-generic.cb-tip-corner .cb-tip-arrow{position:absolute;border-top:solid 10px transparent;border-bottom:solid 10px transparent;border-right:solid 25px #FFE249}.tip-style-generic.cb-tip-corner .cb-tip-arrow::after{position:absolute;content:'';margin-top:-10px;border-top:solid 10px transparent;border-bottom:solid 10px transparent;border-right:solid 25px #2eb6ee;margin-left:5px}.tip-style-generic.cb-tip-bottom-right .cb-tip-arrow{-VENDOR-transform:rotate(45deg);left:-16px;top:-14px}.tip-style-generic.cb-tip-bottom-left .cb-tip-arrow{-VENDOR-transform:rotate(135deg);right:-16px;top:-14px}.tip-style-generic.cb-tip-top-left .cb-tip-arrow{-VENDOR-transform:rotate(225deg);right:-16px;bottom:-14px}.tip-style-generic.cb-tip-top-right .cb-tip-arrow{-VENDOR-transform:rotate(-45deg);left:-16px;bottom:-14px}.tip-style-generic.cb-tip-top .cb-tip-arrow{position:absolute;bottom:-14px;left:50%;margin-left:-10px;border-left:solid 10px transparent;border-right:solid 10px transparent;border-top:solid 14px #FFE249}.tip-style-generic.cb-tip-top .cb-tip-arrow::after{content:'';position:absolute;bottom:3px;margin-left:-7px;border-top:solid 11px #2eb6ee;border-left:solid 7px transparent;border-right:solid 7px transparent}.tip-style-generic.cb-tip-bottom .cb-tip-arrow{position:absolute;top:-14px;left:50%;margin-left:-10px;border-left:solid 10px transparent;border-right:solid 10px transparent;border-bottom:solid 14px #FFE249}.tip-style-generic.cb-tip-bottom .cb-tip-arrow::after{content:'';position:absolute;top:3px;margin-left:-7px;border-left:solid 7px transparent;border-right:solid 7px transparent;border-bottom:solid 11px #2eb6ee}.tip-style-generic.cb-tip-right .cb-tip-arrow{position:absolute;left:-14px;top:50%;margin-top:-10px;border-top:solid 10px transparent;border-bottom:solid 10px transparent;border-right:solid 14px #FFE249}.tip-style-generic.cb-tip-right .cb-tip-arrow::after{content:'';position:absolute;left:3px;margin-top:-7px;border-top:solid 7px transparent;border-bottom:solid 7px transparent;border-right:solid 11px #2eb6ee}.cb-tip-content .macro-fb-share-button,.cb-tip-content .macro-tw-share-button{display:inline-block;padding:5px 8px;border-radius:3px;box-shadow:1px 1px 5px rgba(0,0,0,.5);text-decoration:none}.cb-tip-content .macro-fb-share-button svg,.cb-tip-content .macro-tw-share-button svg{height:21px;width:21px;margin-right:5px;display:inline-block;vertical-align:middle}.cb-tip-content .macro-fb-share-button svg path,.cb-tip-content .macro-tw-share-button svg path{fill:#fff}.cb-tip-content .macro-fb-share-button{background:#4468B0}.cb-tip-content .macro-fb-share-button svg{width:14px}.cb-tip-content .macro-tw-share-button{background:#00aced}@-VENDOR-keyframes CB_TIP_SHOW_GENERIC{0%{-VENDOR-transform:scale(.8)}80%{-VENDOR-transform:scale(1.1)}100%{-VENDOR-transform:scale(1)}}.layout-tab-holder{margin:0;padding:0;position:absolute;top:5px;left:5px}.tab-button{background:#ddd;line-height:30px;height:30px;padding:0 5px;cursor:pointer;display:inline-block;margin:0 2px}.tab-button.current{cursor:default;background:#eee}.tab-nav-arrows{bottom:0;left:0;position:absolute;right:0;top:0;display:none}.tab-arrow{z-index:2;opacity:0;position:absolute}.tab-up,.tab-down{left:50%;margin-left:-25px}.tab-up{top:5px}.tab-down{bottom:5px}.tab-left,.tab-right{top:50%;margin-top:-25px}.tab-left{left:5px}.tab-right{right:5px}.tab-prev,.tab-next{position:absolute;bottom:5px;height:30px;width:100px;z-index:2;opacity:.5;-webkit-tap-highlight-color:transparent}.tab-prev{left:5px}.tab-next{right:5px}.tab-arrow{display:none;cursor:pointer}.tab-arrow.init{display:block;-VENDOR-transition:opacity .3s linear;opacity:0}.tab-arrow.show{opacity:1}.arrow{overflow:hidden;display:block;-webkit-tap-highlight-color:transparent}.arrow-up,.arrow-down{width:60px;height:15px}.arrow-left,.arrow-right{width:15px;height:60px}.tab-arrow svg{width:100%;height:100%}#cb-ctr{z-index:999;overflow:hidden;cursor:pointer;background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)}#cb-ctr,.cb-321-o,.cb-321-o-c,.cb-321-container,.cb-321,.cb-321 *{position:absolute}#cb-ctr,.cb-321-o,.cb-321-o-c,.cb-321,.cb-321-container,.cb-321-tri-cxn,.cb-321-tri-brn,.cb-321-numbers{top:0;left:0;right:0;bottom:0;margin:auto}#cb-ctr,.cb-321-container,.cb-321-num,.cb-321-num-bg,.cb-321-tri{width:100%;height:100%}.cb-321-o-c{top:-1000px;left:-1000px;right:-1000px;bottom:-1000px;border:solid 1000px #000;opacity:0.7;filter:alpha(opacity=70)}.cb-321-o,.cb-321{top:-100%;left:-100%;right:-100%;bottom:-100%;z-index:-1}.cb-321-num{text-align:center;color:#666;font-family:Helvetica Neue,sans-serif;font-weight:300;z-index:1}.cb-321-o-c,.cb-321-tri-nub,.cb-321-numbers{width:13%;height:13%}.cb-321-tri-brn{height:49%}.cb-321-tri-cxn{width:30%;height:40%;top:20%;bottom:auto;margin:0 auto}.cb-321-tri-cxn,.cb-321-tri-nub,.cb-321-num-bg{background:#fff;box-shadow:0 0 40px rgba(255,255,255,0.6)}.cb-321-o,.ended .cb-321-num{box-shadow:none;display:none}.active .cb-321-o{display:block}#cb-peek,#cb-peek-previews{position:absolute;width:100%;height:100%;overflow:hidden}#cb-peek-previews{display:none}.ie9 #cb-peek,.ie9 #cb-peek-previews{z-index:2}#cb-peek-particles{position:absolute}#cb-peek-caption-area{width:100%;height:auto;min-height:40px;position:absolute;bottom:0;z-index:1;background:#000;overflow:hidden;display:none;box-sizing:border-box;padding:10px}#cb-peek-image{display:block;position:absolute;height:auto;box-shadow:0 0 10px 0 rgba(0,0,0,0.5)}.pre-x-horizontal #cb-peek-image{top:0;bottom:0;margin:auto}#cb-peek-ticker{width:100%;height:40px;position:absolute;bottom:0;overflow:hidden;background:rgba(0,0,0,0.5)}.cbox_format_160x600 #cb-peek-ticker{height:60px}#cb-peek-ticker.pre-x-horizontal,#cb-peek-caption-area.pre-x-horizontal{right:0;width:145px;height:100%}.cbox_format_320x50 #cb-peek-ticker.pre-x-horizontal,.cbox_format_300x50 #cb-peek-ticker.pre-x-horizontal{width:40px}#cb-peek-ticker-image-caption,#cb-peek-ticker-text{color:#fff;font-family:Helvetica Neue,sans-serif;font-weight:300;letter-spacing:1px;position:absolute;left:40px;right:10px;line-height:20px;bottom:50%;-VENDOR-transform:translateY(50%)}#cb-peek-ticker-image-caption{top:0;left:0;right:0;bottom:0;text-align:center;position:relative;display:block;margin:auto;-VENDOR-transform:none}.pre-x-horizontal #cb-peek-ticker-image-caption{top:auto;left:10px;right:10px;bottom:50%;position:absolute;-VENDOR-transform:translateY(50%)}.cbox_format_160x600 #cb-peek-ticker-text,.pre-x-horizontal #cb-peek-ticker-text{text-align:left}.mobileDevice #cb-peek-ticker-text{right:0}.mobileDevice #cb-peek-ticker-text{content:"";font-size:0}.mobileDevice #cb-peek-ticker{z-index:9999999}.cbox_format_320x50 #cb-peek-ticker{overflow:visible}.cbox_format_320x50 #cb-peek-ticker-text{width:120px;height:30px;position:absolute;left:-270px;font-size:0;letter-spacing:0;-VENDOR-animation:CBMOBTICKERFADEIN 2s ease}@-VENDOR-keyframes CBMOBTICKERFADEIN{0%,75%{opacity:0}100%{opacity:1}}#cb-peek-icon{position:absolute;top:0;left:10px;bottom:0;margin:auto;overflow:hidden;width:20px;height:20px}.p-l-sq{position:absolute;bottom:0;left:0;width:75%;height:75%}.p-l-sq>div,.p-l-tr,.p-l-rr,.p-l-db{position:absolute;background:#fff}.p-l-db,.p-l-tr,.p-l-t,.p-l-b{height:2px;width:100%}.p-l-rr,.p-l-r,.p-l-l{width:2px;height:100%}.p-l-tr,.p-l-rr,.p-l-t,.p-l-r{top:0;right:0}.p-l-db,.p-l-b,.p-l-l{bottom:0;left:0}.p-l-tr{width:50%}.p-l-rr{height:50%}.p-l-db{width:200%}#cb-ripple,#cb-ripple canvas{position:absolute;width:100%;height:100%}.cbox-no-supported #cb-ctr,.cbox-no-supported #cb-ripple,.cbox-no-supported #cb-peek,.cbox-no-supported #cb-peek-previews{display:none!important}#cb-rollover{width:100%;height:100%;position:absolute;cursor:pointer;overflow:hidden!important;background:transparent;transition:0.6s ease;z-index:10}#cb-rollover.active{background:rgba(0,0,0,0.95)}.cbox-fn-overlay{width:100%;height:100%;opacity:1;position:absolute;top:0;z-index:99}.cbox-fn-overlay .circle-wrap{position:absolute;top:0;right:0;bottom:0;left:0;display:block!important;z-index:99}.cbox_format_970x66 .cbox-fn-overlay .circle-wrap{-VENDOR-transform:scale(0.7)}.cbox-fn-overlay .circle-outer{position:relative;margin:100px auto;width:90px;height:90px}.cbox-fn-overlay .circle{width:40px;height:40px;position:absolute;top:30px;z-index:1;-VENDOR-animation:cirlce 2.1s;left:29px}.cbox-fn-overlay .circle1{width:25px;height:25px;position:absolute;top:2px;-VENDOR-animation:cirlce1 1.4s;left:36px}.cbox-fn-overlay .circle2{width:25px;height:25px;position:absolute;top:55px;-VENDOR-animation:cirlce2 2.1s;left:68px}.cbox-fn-overlay .circle3{width:25px;height:25px;position:absolute;top:55px;-VENDOR-animation:cirlce3 2.8s;left:5px}.cbox-fn-overlay .circle,.cbox-fn-overlay .circle1,.cbox-fn-overlay .circle2,.cbox-fn-overlay .circle3{-VENDOR-border-radius:60px;border-radius:60px;border:#969696 solid 2px}.cbox-fn-overlay .one{font-family:Arial,Helvetica,sans-serif;font-size:28px;color:#fff;position:absolute;top:37px;left:43px;opacity:0;-VENDOR-animation:number 1.4s}.cbox-fn-overlay .two{font-family:Arial,Helvetica,sans-serif;font-size:28px;color:#fff;position:absolute;top:37px;left:43px;opacity:0;-VENDOR-animation:number 2.1s}.cbox-fn-overlay .three{font-family:Arial,Helvetica,sans-serif;font-size:28px;color:#fff;position:absolute;top:37px;left:43px;opacity:0;-VENDOR-animation:number 2.8s}.counter-down-simple .counter-down-num{font-family:Arial,Helvetica,sans-serif;font-size:100px;color:#fff;line-height:90px;text-align:center;position:absolute;width:100%;opacity:0;-VENDOR-animation:numberFade 1s ease}#double-wrapper{padding:30px 10px;box-sizing:border-box;width:100%;height:100%}.horizontal #double-wrapper{padding:10px!important}.horizontal .double-dip-img-w{width:33.33%!important;height:100%!important;padding:10px!important}.square .double-dip-img-w{width:100%!important;height:100%!important;padding:10px!important;position:absolute;top:0;left:0}.double-dip-img-w{width:100%;height:33.33%;display:inline-block;z-index:10;padding:21px;box-sizing:border-box;overflow:hidden;position:relative}.double-dip-img{width:100%;height:100%;opacity:0;background-color:blue;transform:scale(0.3);background-size:cover;background-position:center center;transition:0.6s ease}.double-dip-img.active{opacity:1;transform:scale(1)}@-VENDOR-keyframes cirlce{0%,20%{-VENDOR-border-radius:1px;border-radius:1px;-VENDOR-transform:scale(0)}30%,50%,60%{-VENDOR-border-radius:1px;border-radius:1px;-VENDOR-transform:scale(1)}40%{-VENDOR-border-radius:1px;border-radius:1px;-VENDOR-transform:scale(1.3)}70%{-VENDOR-border-radius:30px 1px 1px 1px;border-radius:30px 1px 1px 1px;-VENDOR-transform:scale(1)}80%{-VENDOR-border-radius:30px 1px 30px 1px;border-radius:30px 1px 30px 1px;-VENDOR-transform:scale(1)}90%{-VENDOR-border-radius:30px 1px 30px 30px;border-radius:30px 1px 30px 30px;-VENDOR-transform:scale(1)}100%{-VENDOR-border-radius:30px 30px 30px 30px;border-radius:30px 30px 30px 30px;-VENDOR-transform:scale(1)}}@-VENDOR-keyframes cirlce1{0%,70%{opacity:0;top:38px;-VENDOR-transform:scale(1.3)}80%{opacity:1;top:38px;-VENDOR-transform:scale(1.3)}90%,100%{opacity:1;top:2px;-VENDOR-transform:scale(1)}}@-VENDOR-keyframes cirlce2{0%,70%{opacity:0;top:38px;left:36px;-VENDOR-transform:scale(1.3)}80%{opacity:1;top:38px;left:36px;-VENDOR-transform:scale(1.3)}90%,100%{opacity:1;top:55px;left:68px;-VENDOR-transform:scale(1)}}@-VENDOR-keyframes cirlce3{0%,70%{opacity:0;top:38px;left:36px;-VENDOR-transform:scale(1.3)}80%{opacity:1;top:38px;left:36px;-VENDOR-transform:scale(1.3)}90%,100%{opacity:1;top:55px;left:5px;-VENDOR-transform:scale(1)}}@-VENDOR-keyframes number{0%,70%,100%{opacity:0;-VENDOR-transform:scale(0)}80%{opacity:1;-VENDOR-transform:scale(1)}}@-VENDOR-keyframes numberFade{0%{opacity:0;-VENDOR-transform:scale(0.4)}100%{opacity:1;-VENDOR-transform:scale(1)}}.expand-button,.banner-layout .htmlbox-button,.banner-layout .tab-nav-arrows{display:none}.banner-layout .htmlbox-tab-frame{position:absolute;top:0;left:0;width:100%}.htmlbox-component .tab-frame-inner,.htmlbox-container{position:absolute;width:100%;height:100%}i.mmrk{font-style:normal;color:transparent;font-size:0}#cb-peek{display:none}@-webkit-keyframes fadeInOnly{0%{opacity:0;-webkit-transform:translate(0,0)}100%{opacity:1;-webkit-transform:translate(0,0)}}@-moz-keyframes fadeInOnly{0%{opacity:0;-moz-transform:translate(0,0)}100%{opacity:1;-moz-transform:translate(0,0)}}@keyframes fadeInOnly{0%{opacity:0;transform:translate(0,0)}100%{opacity:1;transform:translate(0,0)}}@-webkit-keyframes fadeIn{0%{opacity:0;visibility:visible;-webkit-transform:translate(0,0)}100%{opacity:1;-webkit-transform:translate(0,0);visibility:visible}}@-moz-keyframes fadeIn{0%{opacity:0;-moz-transform:translate(0,0);visibility:visible}100%{opacity:1;-moz-transform:translate(0,0);visibility:visible}}@keyframes fadeIn{0%{opacity:0;transform:translate(0,0);visibility:visible}100%{opacity:1;transform:translate(0,0);visibility:visible}}@-webkit-keyframes fadeOut{0%{opacity:1;visibility:visible;-webkit-transform:translate(0,0)}100%{opacity:0;-webkit-transform:translate(0,0);visibility:visible}}@-moz-keyframes fadeOut{0%{opacity:1;-moz-transform:translate(0,0);visibility:visible}100%{opacity:0;-moz-transform:translate(0,0);visibility:visible}}@keyframes fadeOut{0%{opacity:1;transform:translate(0,0);visibility:visible}100%{opacity:0;transform:translate(0,0);visibility:visible}}@-webkit-keyframes hideContent{0%{visibility:hidden}100%{visibility:hidden}}@-moz-keyframes hideContent{0%{visibility:hidden}100%{visibility:hidden}}@keyframes hideContent{0%{visibility:hidden}100%{visibility:hidden}}@-webkit-keyframes fadeInDown{0%{visibility:visible;-webkit-transform:translate(0,-20px);opacity:0}100%{visibility:visible;-webkit-transform:translate(0,0);opacity:1}}@-moz-keyframes fadeInDown{0%{visibility:visible;-moz-transform:translate(0,-20px);opacity:0}100%{visibility:visible;-moz-transform:translate(0,0);opacity:1}}@keyframes fadeInDown{0%{visibility:visible;transform:translate(0,-20px);opacity:0}100%{visibility:visible;transform:translate(0,0);opacity:1}}@-webkit-keyframes fadeInDown100{0%{visibility:visible;-webkit-transform:translate(0,-100%);opacity:0}100%{visibility:visible;-webkit-transform:translate(0,0);opacity:1}}@-moz-keyframes fadeInDown100{0%{visibility:visible;-moz-transform:translate(0,-100%);opacity:0}100%{visibility:visible;-moz-transform:translate(0,0);opacity:1}}@keyframes fadeInDown100{0%{visibility:visible;transform:translate(0,-100%);opacity:0}100%{visibility:visible;transform:translate(0,0);opacity:1}}@-webkit-keyframes fadeInUp{0%{visibility:visible;-webkit-transform:translate(0,20px);opacity:0}100%{visibility:visible;-webkit-transform:translate(0,0);opacity:1}}@-moz-keyframes fadeInUp{0%{visibility:visible;-moz-transform:translate(0,20px);opacity:0}100%{visibility:visible;-moz-transform:translate(0,0);opacity:1}}@keyframes fadeInUp{0%{visibility:visible;transform:translate(0,20px);opacity:0}100%{visibility:visible;transform:translate(0,0);opacity:1}}@-webkit-keyframes fadeInUp100{0%{visibility:visible;-webkit-transform:translate(0,100%);opacity:0}100%{visibility:visible;-webkit-transform:translate(0,0);opacity:1}}@-moz-keyframes fadeInUp100{0%{visibility:visible;-moz-transform:translate(0,100%);opacity:0}100%{visibility:visible;-moz-transform:translate(0,0);opacity:1}}@keyframes fadeInUp100{0%{visibility:visible;transform:translate(0,100%);opacity:0}100%{visibility:visible;transform:translate(0,0);opacity:1}}@-webkit-keyframes fadeInRight100{0%{visibility:visible;-webkit-transform:translate(-100%,0);opacity:0}100%{visibility:visible;-webkit-transform:translate(0,0);opacity:1}}@-moz-keyframes fadeInRight100{0%{visibility:visible;-moz-transform:translate(-100%,0);opacity:0}100%{visibility:visible;-moz-transform:translate(0,0);opacity:1}}@keyframes fadeInRight100{0%{visibility:visible;transform:translate(-100%,0);opacity:0}100%{visibility:visible;transform:translate(0,0);opacity:1}}@-webkit-keyframes fadeInRight{0%{visibility:visible;-webkit-transform:translate(-30px,0);opacity:0}100%{visibility:visible;-webkit-transform:translate(0,0);opacity:1}}@-moz-keyframes fadeInRight{0%{visibility:visible;-moz-transform:translate(-30px,0);opacity:0}100%{visibility:visible;-moz-transform:translate(0,0);opacity:1}}@keyframes fadeInRight{0%{visibility:visible;transform:translate(-30px,0);opacity:0}100%{visibility:visible;transform:translate(0,0);opacity:1}}@-webkit-keyframes fadeInLeft100{0%{visibility:visible;-webkit-transform:translate(100%,0);opacity:0}100%{visibility:visible;-webkit-transform:translate(0,0);opacity:1}}@-moz-keyframes fadeInLeft100{0%{visibility:visible;-moz-transform:translate(100%,0);opacity:0}100%{visibility:visible;-moz-transform:translate(0,0);opacity:1}}@keyframes fadeInLeft100{0%{visibility:visible;transform:translate(100%,0);opacity:0}100%{visibility:visible;transform:translate(0,0);opacity:1}}@-webkit-keyframes fadeInLeft{0%{visibility:visible;-webkit-transform:translate(30px,0);opacity:0}100%{visibility:visible;-webkit-transform:translate(0,0);opacity:1}}@-moz-keyframes fadeInLeft{0%{visibility:visible;-moz-transform:translate(30px,0);opacity:0}100%{visibility:visible;-moz-transform:translate(0,0);opacity:1}}@keyframes fadeInLeft{0%{visibility:visible;transform:translate(30px,0);opacity:0}100%{visibility:visible;transform:translate(0,0);opacity:1}}@-webkit-keyframes zoomOut{0%{visibility:visible;-webkit-transform:scale(1.25,1.25)}100%{visibility:visible;-webkit-transform:scale(1,1)}}@-moz-keyframes zoomOut{0%{visibility:visible;-moz-transform:scale(1.25,1.25)}100%{visibility:visible;-moz-transform:scale(1,1)}}@keyframes zoomOut{0%{visibility:visible;transform:scale(1.25,1.25)}100%{visibility:visible;transform:scale(1,1)}}@-webkit-keyframes zoomIn{0%{visibility:visible;-webkit-transform:scale(0.75,0.75)}100%{visibility:visible;-webkit-transform:scale(1,1)}}@-moz-keyframes zoomIn{0%{visibility:visible;-moz-transform:scale(0.75,0.75)}100%{visibility:visible;-moz-transform:scale(1,1)}}@keyframes zoomIn{0%{visibility:visible;transform:scale(0.75,0.75)}100%{visibility:visible;transform:scale(1,1)}}@-webkit-keyframes rotate360{0%{visibility:visible;-webkit-transform:rotate(1deg)}100%{visibility:visible;-webkit-transform:rotate(360deg)}}@-moz-keyframes rotate360{0%{visibility:visible;-moz-transform:rotate(1deg)}100%{visibility:visible;-moz-transform:rotate(360deg)}}@keyframes rotate360{0%{visibility:visible;transform:rotate(1deg)}100%{visibility:visible;transform:rotate(360deg)}}@-webkit-keyframes slideInUp{0%{visibility:visible;-webkit-transform:translate(0,100%)}100%{visibility:visible;-webkit-transform:translate(0,0)}}@-moz-keyframes slideInUp{0%{visibility:visible;-moz-transform:translate(0,100%)}100%{visibility:visible;-moz-transform:translate(0,0)}}@keyframes slideInUp{0%{visibility:visible;transform:translate(0,100%)}100%{visibility:visible;transform:translate(0,0)}}@-webkit-keyframes slideInDown{0%{visibility:visible;-webkit-transform:translate(0,-100%)}100%{visibility:visible;-webkit-transform:translate(0,0)}}@-moz-keyframes slideInDown{0%{visibility:visible;-moz-transform:translate(0,-100%)}100%{visibility:visible;-moz-transform:translate(0,0)}}@keyframes slideInDown{0%{visibility:visible;transform:translate(0,-100%)}100%{visibility:visible;transform:translate(0,0)}}@-webkit-keyframes slideInRight{0%{visibility:visible;-webkit-transform:translate(-100%,0)}100%{visibility:visible;-webkit-transform:translate(0,0)}}@-moz-keyframes slideInRight{0%{visibility:visible;-moz-transform:translate(-100%,0)}100%{visibility:visible;-moz-transform:translate(0,0)}}@keyframes slideInRight{0%{visibility:visible;transform:translate(-100%,0)}100%{visibility:visible;transform:translate(0,0)}}@-webkit-keyframes slideInLeft{0%{visibility:visible;-webkit-transform:translate(100%,0)}100%{visibility:visible;-webkit-transform:translate(0,0)}}@-moz-keyframes slideInLeft{0%{visibility:visible;-moz-transform:translate(100%,0)}100%{visibility:visible;-moz-transform:translate(0,0)}}@keyframes slideInLeft{0%{visibility:visible;transform:translate(100%,0)}100%{visibility:visible;transform:translate(0,0)}}@-webkit-keyframes slideOutLeft{0%{visibility:visible;-webkit-transform:translate(0,0)}100%{visibility:visible;-webkit-transform:translate(-100%,0)}}@-moz-keyframes slideOutLeft{0%{visibility:visible;-moz-transform:translate(0,0)}100%{visibility:visible;-moz-transform:translate(-100%,0)}}@keyframes slideOutLeft{0%{visibility:visible;transform:translate(0,0)}100%{visibility:visible;transform:translate(-100%,0)}}@-webkit-keyframes slideOutRight{0%{visibility:visible;-webkit-transform:translate(0,0)}100%{visibility:visible;-webkit-transform:translate(100%,0)}}@-moz-keyframes slideOutRight{0%{visibility:visible;-moz-transform:translate(0,0)}100%{visibility:visible;-moz-transform:translate(100%,0)}}@keyframes slideOutRight{0%{visibility:visible;transform:translate(0,0)}100%{visibility:visible;transform:translate(100%,0)}}@-webkit-keyframes zoomOutAndFadeOut{0%{visibility:visible;opacity:1;-webkit-transform:scale(1,1)}100%{visibility:visible;opacity:0;-webkit-transform:scale(0.2,0.2)}}@-moz-keyframes zoomOutAndFadeOut{0%{visibility:visible;opacity:1;-moz-transform:scale(1,1)}100%{visibility:visible;opacity:0;-moz-transform:scale(0.2,0.2)}}@keyframes zoomOutAndFadeOut{0%{visibility:visible;opacity:1;transform:scale(1,1)}100%{visibility:visible;opacity:0;transform:scale(0.2,0.2)}}@-webkit-keyframes zoomOutFadeIn{0%{visibility:visible;-webkit-transform:scale(1.25,1.25);opacity:0}100%{visibility:visible;-webkit-transform:scale(1,1);opacity:1}}@-moz-keyframes zoomOutFadeIn{0%{visibility:visible;-moz-transform:scale(1.25,1.25);opacity:0}100%{visibility:visible;-moz-transform:scale(1,1);opacity:1}}@keyframes zoomOutFadeIn{0%{visibility:visible;transform:scale(1.25,1.25);opacity:0}100%{visibility:visible;transform:scale(1,1);opacity:1}}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box}.absolute{position:absolute}.container{position:absolute;top:0;left:0;width:300px;height:600px;display:block}.banner-container{overflow:hidden;background-color:#fff}.content-hide-ie{opacity:0;-ms-filter:"alpha(opacity=0)";z-index:0;-webkit-animation:fadeInOnly 10ms ease-in-out 0 forwards;-moz-animation:fadeInOnly 10ms ease-in-out 0 forwards;animation:fadeInOnly 10ms ease-in-out 0 forwards}.content-container{-webkit-animation:hideContent 10ms ease-in-out 0 forwards;-moz-animation:hideContent 10ms ease-in-out 0 forwards;animation:hideContent 10ms ease-in-out 0 forwards}.content{background-color:#fff;-webkit-animation:fadeIn 0.75s ease-in-out 0.5s forwards;-moz-animation:fadeIn 0.75s ease-in-out 0.5s forwards;animation:fadeIn 0.75s ease-in-out 0.5s forwards;overflow:hidden}.content-wrapper{-webkit-animation:hideContent 10ms ease-in-out 0 forwards;-moz-animation:hideContent 10ms ease-in-out 0 forwards;animation:hideContent 10ms ease-in-out 0 forwards}.bg{background:url("https://cbmedia2.contobox.com/cbox_themes_v3/marks_work_warehouse_q4_2018/./images/shirt_300x600_bg.png?ac=1538598578");-webkit-animation:fadeIn 0.75s ease-in-out 0.5s forwards;-moz-animation:fadeIn 0.75s ease-in-out 0.5s forwards;animation:fadeIn 0.75s ease-in-out 0.5s forwards}.logo{background:url("https://cbmedia2.contobox.com/cbox_themes_v3/marks_work_warehouse_q4_2018/./images/boots_300x600_logo.png?ac=1538598578");-webkit-animation:fadeIn 0.75s ease-in-out 1s forwards;-moz-animation:fadeIn 0.75s ease-in-out 1s forwards;animation:fadeIn 0.75s ease-in-out 1s forwards}.text{background:url("https://cbmedia2.contobox.com/cbox_themes_v3/marks_work_warehouse_q4_2018/./images/shirt_300x600_text.png?ac=1538598578");top:-30px;-webkit-animation:slideInRight 0.75s ease-in-out 1.75s forwards;-moz-animation:slideInRight 0.75s ease-in-out 1.75s forwards;animation:slideInRight 0.75s ease-in-out 1.75s forwards}.cta{background:url("https://cbmedia2.contobox.com/cbox_themes_v3/marks_work_warehouse_q4_2018/./images/boots_300x600_cta.png?ac=1538598578");-webkit-animation:fadeIn 0.75s ease-in-out 2.5s forwards;-moz-animation:fadeIn 0.75s ease-in-out 2.5s forwards;animation:fadeIn 0.75s ease-in-out 2.5s forwards}
</style>

    
        
<script type="text/javascript"> 
(function (w) {
	var $ = ContoBox = {};
	$.ui = {};
	$.layout = null;
	$.components = [];
    $.coreExtensions = [];
	$.extensions = [];
	$.baseUrl = "https://am.contobox.com/";
	$.uploadsUrl = "https://cbmedia2.contobox.com/uploads/";
	$.videosUrl = "https://cbmedia2.contobox.com/uploads/";
	$.themeUrl = "https://cbmedia2.contobox.com/cbox_themes_v3/marks_work_warehouse_q4_2018";
	$.params = {"base":{"auto_expand":false,"banner_type":1,"custom_links":[{"cssClass":"learn-more","link":"https://ad.doubleclick.net/ddm/trackclk/N35509.149225CRUCIALINTERACTIVEE/B21580235.230568878;dc_trk_aid=428443932;dc_trk_cid=104888103;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=","name":"","place":"expansion","tab":"","title":"Learn More"},{"cssClass":"visit-marks-com","link":"https://ad.doubleclick.net/ddm/trackclk/N35509.149225CRUCIALINTERACTIVEE/B21580235.230692183;dc_trk_aid=428493688;dc_trk_cid=104888103;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=","name":"","place":"expansion","tab":"","title":"VISIT MARKS.COM"},{"cssClass":"soc-icon-email","link":"https://ad.doubleclick.net/ddm/trackclk/N35509.149225CRUCIALINTERACTIVEE/B21580235.230852151;dc_trk_aid=428493679;dc_trk_cid=104888103;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=","name":"","place":"expansion","tab":"","title":"Email"}],"dynamic_width":false,"expand_on":"rollover","expand_type":"floating","format":"300x600","is_vpaid":false,"lang":"en","layout":"desktop","main_cta":"https://ad.doubleclick.net/ddm/trackclk/N35509.149225CRUCIALINTERACTIVEE/B21580235.228086920;dc_trk_aid=428443043;dc_trk_cid=104888103;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=","main_cta_title":"Visit Marks.com","messages":[],"rollover_data":[],"rollover_type":"default","social_links":[{"link":"https://ad.doubleclick.net/ddm/trackclk/N35509.149225CRUCIALINTERACTIVEE/B21580235.230855457;dc_trk_aid=428443929;dc_trk_cid=104888103;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=","type":"facebook"},{"link":"https://ad.doubleclick.net/ddm/trackclk/N35509.149225CRUCIALINTERACTIVEE/B21580235.230692543;dc_trk_aid=428444294;dc_trk_cid=104888103;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=","type":"twitter"},{"link":"https://ad.doubleclick.net/ddm/trackclk/N35509.149225CRUCIALINTERACTIVEE/B21580235.230568890;dc_trk_aid=428444597;dc_trk_cid=104888103;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=","type":"instagram"},{"link":"https://ad.doubleclick.net/ddm/trackclk/N35509.149225CRUCIALINTERACTIVEE/B21580235.230692180;dc_trk_aid=428443046;dc_trk_cid=104888103;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=","type":"youtube"}],"tips":{},"version":"v1 shirts"},"components":{"0":{"alias":"banner","css_class":"","custom_trackers":[],"description":"","extensions":[],"id":33,"instance_id":129869,"messages":[],"name":"htmlbox","params":{},"placement":"banner","pos":6,"preview_image":"","show_as":"main_tab","tips":{"data":[{"name":"general","opt":{"resetOnInteraction":true,"startDelay":5000,"switchTimeout":500},"tips":[]}]},"title":"Banner","type":"tab"}},"custom":{"msg-bar-position":"hidden","nav-bar-position":"top","nav-buttons-hide":true,"side-bar-position":"hidden","social-buttons-position":"bottom-left","tab_animation":"scrolling","tab_scroll_axis":"horizontal"}};
	$.preloads = {"images":["https://cbmedia3.contobox.com/external/slideToExpandImages/slideToExpand_text.png","data:image/png;base64,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","data:image/png;base64,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","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","https://cbmedia2.contobox.com/cbox_themes_v3/marks_work_warehouse_q4_2018/./images/shirt_300x600_bg.png?ac=1538598578","https://cbmedia2.contobox.com/cbox_themes_v3/marks_work_warehouse_q4_2018/./images/boots_300x600_logo.png?ac=1538598578","https://cbmedia2.contobox.com/cbox_themes_v3/marks_work_warehouse_q4_2018/./images/shirt_300x600_text.png?ac=1538598578","https://cbmedia2.contobox.com/cbox_themes_v3/marks_work_warehouse_q4_2018/./images/boots_300x600_cta.png?ac=1538598578"],"peek":[{"component_title":"Video","pos":0,"preview_description":"","preview_image":""},{"component_title":"HD1 Jeans","pos":1,"preview_description":"","preview_image":""},{"component_title":"Flannel Shirts","pos":2,"preview_description":"","preview_image":""},{"component_title":"Casual Boots","pos":3,"preview_description":"","preview_image":""},{"component_title":"Store Locator","pos":4,"preview_description":"","preview_image":""},{"component_title":"SOCIAL SHARE","pos":5,"preview_description":"","preview_image":""},{"component_title":"Banner","pos":6,"preview_description":"","preview_image":""}]};
    $.ua = ENV.uaCheckData;
	(function(){if(!window.console){window.console=(function(){var c={};c.log=c.warn=c.debug=c.info=c.error=c.time=c.dir=c.profile=c.clear=c.exception=c.trace=c.assert=function(){};return c;})();}
$.vendorPrefix=(function(){if(!window.getComputedStyle){return null;}
var styles=window.getComputedStyle(document.documentElement,'');if(!styles){return{dom:'',lowercase:'',css:'',js:''}}
var pre=(Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/)||(styles.OLink===''&&['','o']))[1],dom=('WebKit|Moz|MS|O').match(new RegExp('('+pre+')','i'))[1];return{dom:dom,lowercase:pre,css:'-'+pre+'-',js:pre==='ms'?pre:pre[0].toUpperCase()+pre.substr(1)};}());$.visPrefix=(function(){if('hidden'in document)return'';var prefixes=['webkit','moz','ms','o'];for(var i=0;i<prefixes.length;i++){if((prefixes[i]+'Hidden')in document)return prefixes[i];}
return'';})();$.isWindowHidden=function(){var hidden=($.visPrefix===''?'h':$.visPrefix+'H')+'idden';return document[hidden];};$.forIn=function(array,cb){var key;for(key in array){if(array.hasOwnProperty(key)){cb(key,array);}}};$.load=function(src,params,callback){var args={},opt,query,q=[],p,i,req,sep,script,onLoad,onError;if(src&&typeof src==='object'){args=src;}else{args.src=src;if(typeof params==='function'){callback=params;params={};}
if(params&&typeof params==='object'){args.params=params;}
if(typeof callback==='function'){args.callback=callback;}}
opt=$.extend({src:'',params:{},callback:undefined,onerror:undefined,cbArguments:[],type:'text/javascript',charset:'utf-8',loadOnce:false,context:window,window:window,insertFunc:undefined},args||{});for(p in opt.params){if(opt.params.hasOwnProperty(p)){if(opt.params[p]!==null){q.push(p+'='+opt.params[p]);}}}
query=q.join('&');sep=opt.src.indexOf('?')===-1?'?':'&';src=opt.src+sep+query.replace(/#/g,'');callback=function(){if(typeof opt.callback==='function'){opt.callback.apply(opt.context||window,opt.cbArguments||[]);}};onError=function(){if(typeof opt.onerror==='function'){opt.onerror.apply(opt.context||window,opt.cbArguments||[]);}};if(opt.loadOnce){if(!$.isArray($.load.load_)){$.load.load_=[];}
for(i=0,req=null;i<$.load.load_.length;i++){if($.load.load_[i].src===opt.src){req=$.load.load_[i];if(req.status==='loaded'){callback();}else
if(req.status==='loading'){req.cb.push(callback);}
return;}}
req={src:opt.src,status:'loading',cb:[callback]};$.load.load_.push(req);onLoad=function(){req.status='loaded';while(req.cb.length){(req.cb.shift())();}};}else{onLoad=callback;}
script=document.createElement("script");script.type=opt.type;script.charset=opt.charset;script.onerror=onError;if(script.readyState){script.onreadystatechange=function(){if(script.readyState==='loaded'||script.readyState==='complete'){script.onreadystatechange=null;onLoad();}};}else{script.onload=onLoad;}
script.src=src;if(typeof opt.insertFunc==='function'){opt.insertFunc.call(null,script);}else{(opt.window||window).document.getElementsByTagName('head')[0].appendChild(script);}};$.loadStyle=function(src,target){var link,i;if(!$.isArray($.loadStyle.load_)){$.loadStyle.load_=[];}
for(i=0;i<$.loadStyle.load_.length;i++){if($.loadStyle.load_[i]==src){return;}}
$.loadStyle.load_.push(src);link=document.createElement('link');link.rel='stylesheet';link.href=src;if(target){if(typeof target==='function'){target.call(link);}else if(typeof target==='object'){target.appendChild(link);}}else{document.getElementsByTagName('head')[0].appendChild(link);}};$.extend=function(retObj){var i,o,p;for(i=1;i<arguments.length;i++){o=arguments[i];if(typeof o==='function'){o=o();}
if(typeof o==='object'){for(p in o){if(o.hasOwnProperty(p)){retObj[p]=o[p];}}}}
return retObj;};$.getOffsets=function(element){var d=element.ownerDocument,w=d.defaultView||d.parentWindow;var scrollTop=w.pageYOffset||d.documentElement.scrollTop||d.body.scrollTop;var scrollLeft=w.pageXOffset||d.documentElement.scrollLeft||d.body.scrollLeft;var rect=element.getBoundingClientRect();return{x:Math.round(rect.left)+scrollLeft,y:Math.round(rect.top)+scrollTop};};$.getDocSize=function(w){w=w||window;var d=w.document;var width=Math.max(d.body.scrollWidth,d.documentElement.scrollWidth,d.body.offsetWidth,d.documentElement.offsetWidth,d.body.clientWidth,d.documentElement.clientWidth);var height=Math.max(d.body.scrollHeight,d.documentElement.scrollHeight,d.body.offsetHeight,d.documentElement.offsetHeight,d.body.clientHeight,d.documentElement.clientHeight);return{width:width,height:height};};$.getViewSize=function(w){w=w||window;var d=w.document,o={};var e=d.documentElement,b=d.body;o.width=w.innerWidth||(e&&e.clientWidth)||(b&&b.clientWidth)||0;o.height=w.innerHeight||(e&&e.clientHeight)||(b&&b.clientHeight)||0;if(window.pageYOffset!==undefined){o.offsetX=w.pageXOffset;o.offsetY=w.pageYOffset;}else{o.offsetX=(e&&e.scrollLeft)||(b&&b.scrollLeft)||0;o.offsetY=(e&&e.scrollTop)||(b&&b.scrollTop)||0;}
return o;};$.isArray=function(obj){return Object.prototype.toString.call(obj)==='[object Array]';};$.isInt=function(int){return int===parseInt(int,10);};$.css=function(elem,properties){if(!$.isArray(elem)){elem=[elem];}
var i,prop,val;for(i=0;i<elem.length;i++){for(prop in properties){if(properties.hasOwnProperty(prop)){val=properties[prop];if(/left|right|top|bottom|width|height|margin|border|weight|size/i.test(prop)&&/^(-|)\d+$/.test(properties[prop].toString())){val+='px';}
elem[i].style[prop]=val;}}}};$.escape=function(text){var textNode=document.createTextNode(text);var p=document.createElement('p');p.appendChild(textNode);return p.innerHTML;};var escapeMap={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#x27;','`':'&#x60;'};$.encodeHTMLEntities=function(str){Object.keys(escapeMap).forEach(function(entity){str=str.replace(entity,escapeMap[entity]);});return str;};$.decodeHTMLEntities=function(str){Object.keys(escapeMap).forEach(function(entity){str=str.replace(escapeMap[entity],entity);});return str;};$.execTemplate=function(tpl,data,tags){return({globalVar:"_execTemplateHTML_",localVar:"_html_",compile:function(){var i;var j=0;var b=0;var s='';var m='';var z=false;var dt=tags||['{%','%}'];var html=this.localVar;var code="var "+html+" = '';\n";var jsm=[];tpl=$.decodeHTMLEntities(tpl);Object.keys(data).forEach(function(prop){if(prop===html){console.warn("$.execTemplate: "+html+" name can't be used as a prop name");return;}
code+='var '+prop+' = '+JSON.stringify(data[prop])+";\n";});var writeHTML=function(str){if(z)code+=";\n";code+=html+' += '+JSON.stringify(str)+";\n";};for(i=0;i<tpl.length;i++){if(tpl.substr(i,dt[0].length)===dt[0]){jsm[j]=[i+dt[0].length];}else if(tpl.substr(i,dt[1].length)===dt[1]){jsm[j][1]=i;j++;}}
for(i=0,b=0;i<jsm.length;i++){s=tpl.substring(b,jsm[i][0]-dt[0].length);if(s!==''){writeHTML(s);}
s=tpl.substring(jsm[i][0],jsm[i][1]);m=tpl[jsm[i][0]];z=false;if(m==='='){code+=html+' += '+s.substr(1)+";\n";}else if(m==='-'){code+=html+' += $.escape('+s.substr(1)+");\n";}else{code+=s;z=true;}
b=jsm[i][1]+dt[1].length;}
s=tpl.substring(b,tpl.length-1);if(s!==''){writeHTML(s);}
code="(function($) {\n"
+code+";\n"
+"window['"+this.globalVar+"'] = "+html+";\n"
+"})(ContoBox.templateHelpers);\n";this.code=code;return this;},exec:function(){var g=this.globalVar;window[g]='';var scr=window.document.createElement('script');scr.type='text/javascript';scr.appendChild(window.document.createTextNode(this.code));window.document.body.appendChild(scr);scr.parentNode.removeChild(scr);var html=window[g];window[g]='';return html;}}).compile().exec();};$.renderTemplate=function(template,data){var str=template;Object.keys(data).forEach(function(key){var regExp=new RegExp('\\${'+key+'}','g');str=str.replace(regExp,data[key]);});return str;};$.createElement=function(html){var tmp=document.createElement('div');tmp.innerHTML=$.trim(html);if(tmp=tmp.firstElementChild){return tmp;}
return false;};$.prettyPrint=function(msg,styleStr){if(!styleStr){styleStr="#0282FF";}
if(styleStr.indexOf("color")===-1&&styleStr.indexOf("background")===-1){styleStr="color:"+styleStr+";";}
console.log("%c"+msg,styleStr);};$.events={on:function(elem,evt,fn,useCapture){if(!$.isArray(elem)){elem=[elem];}
if(!$.isArray(evt)){evt=$.trim(evt).split(/\s+/);}
var i,k;for(i=0;i<elem.length;i++){for(k=0;k<evt.length;k++){if(evt[k]==='tap'){this.addTapEvent(elem[i],fn);}else if(evt[k]==='swipe'){this.addSwipeEvent(elem[i],fn);}else if(elem[i].addEventListener){elem[i].addEventListener(evt[k],fn,useCapture);}else if(elem[i].attachEvent){elem[i].attachEvent('on'+evt[k],fn);}}}},off:function(elem,evt,fn,useCapture){if(!$.isArray(elem)){elem=[elem];}
if(!$.isArray(evt)){evt=$.trim(evt).split(/\s+/);}
var i,k;for(i=0;i<elem.length;i++){for(k=0;k<evt.length;k++){if(elem[i].removeEventListener){elem[i].removeEventListener(evt[k],fn,useCapture);}else if(elem[i].detachEvent){elem[i].detachEvent('on'+evt[k],fn);}}}},trigger:function(elem,eventType){var event;if(!$.isArray(elem)){elem=[elem];}
if(document.createEvent){event=document.createEvent("HTMLEvents");event.initEvent(eventType,true,true);}else{event=document.createEventObject();event.eventType=eventType;}
event.eventName=eventType;var i;for(i=0;i<elem.length;i++){if(document.createEvent){elem[i].dispatchEvent(event);}else{elem[i].fireEvent('on'+event.eventType,event);}}},addTapEvent:function(elem,fn){var touchStarted=false,currX=0,currY=0,startX=0,startY=0;var timeout;this.on(elem,'touchstart',function(e){var pos=e.targetTouches?e.targetTouches[0]:e;startX=currX=pos.pageX;startY=currY=pos.pageY;touchStarted=true;timeout=setTimeout(function(){if((startX===currX)&&!touchStarted&&(startY===currY)){fn.call(elem,e);}},200);});this.on(elem,'touchmove',function(e){clearTimeout(timeout);});this.on(elem,'touchend touchcancel',function(e){e.preventDefault();touchStarted=false;});},addSwipeEvent:function(elem,fn){var touchStarted=false,swipeDir,startX,startY,distX,distY,threshold=100,restraint=100,allowedTime=500,elapsedTime,startTime;this.on(elem,'touchstart',function(e){if(e.target.tagName==='INPUT'){return;}
var pos=e.changedTouches?e.changedTouches[0]:e;swipeDir=false;touchStarted=true;startX=pos.pageX;startY=pos.pageY;startTime=new Date().getTime();});this.on(elem,'touchmove',function(e){if($.swipeDisabled||!touchStarted){return;}
e.preventDefault();if(!swipeDir&&touchStarted){var pos=e.changedTouches?e.changedTouches[0]:e;distX=pos.pageX-startX;distY=pos.pageY-startY;elapsedTime=new Date().getTime()-startTime;if(elapsedTime<=allowedTime){if(Math.abs(distX)>=threshold&&Math.abs(distY)<=restraint){swipeDir=(distX<0)?'left':'right';}
else if(Math.abs(distY)>=threshold&&Math.abs(distX)<=restraint){swipeDir=(distY<0)?'up':'down';}}
if(swipeDir){e.swipeDirection=swipeDir;fn.call(elem,e);}}else{e.stopPropagation();}});this.on(elem,'touchend touchcancel',function(e){touchStarted=false;});},preventDefault:function(event){if(event.preventDefault){event.preventDefault();}else{event.returnValue=false;}},stopPropagation:function(event){if(event.stopPropagation){event.stopPropagation();}else{event.cancelBubble=true;}}};$.preLoadImages=function(images,cb,timeout){function validImageSrc(src){if(/\.(svg|ttf|woff|eot)/.test(src)){return false;}
return true;}
if(images&&typeof images==='object'&&images.length>0){timeout=timeout||15;var called=false;var callback=function(){if(called){return;}
called=true;cb();};var reqImages=images.length;var imgHandler=function(){if(--reqImages===0){callback();}};var i,src;for(i in images){if(images.hasOwnProperty(i)){src=images[i];if(validImageSrc(src)){images[i]=new Image();images[i].onload=imgHandler;images[i].onerror=imgHandler;images[i].src=src;}else{imgHandler();}}}
setTimeout(callback,timeout*1000);}else{cb();}};$.trim=function(str){return str.replace(/^\s\s__AST_FWDSLSH__,'').replace(/\s\s*$/,'');};$.addClass=function(elem,cls){if(!$.isArray(elem)){elem=[elem];}
if(!$.isArray(cls)){cls=$.trim(cls).split(/\s+/);}
var k,clReg,i;for(k=0;k<cls.length;k++){clReg=new RegExp('(\\s+|^)'+cls[k]+'(\\s+|$)');for(i=0;i<elem.length;i++){if(!elem[i]){continue;}
if(!clReg.test(elem[i].className)){elem[i].className=$.trim(elem[i].className+' '+cls[k]);}}}};$.removeClass=function(elem,cls){if(!$.isArray(elem)){elem=[elem];}
if(!$.isArray(cls)){cls=$.trim(cls).split(/\s+/);}
var k,clReg,i;for(k=0;k<cls.length;k++){clReg=new RegExp('(\\s+|^)'+cls[k]+'(\\s+|$)');for(i=0;i<elem.length;i++){if(!elem[i]){continue;}
elem[i].className=$.trim(elem[i].className.replace(clReg,' '));}}};$.hasClass=function(elem,cls){return(new RegExp('(\\s+|^)'+cls+'(\\s+|$)')).test(elem.className);};$.getAll=function(selector,context){var nodes=(context||document).querySelectorAll(selector);var arr=[];var i;for(i=0;i<nodes.length;i++){arr.push(nodes[i]);}
return arr;};$.get=function(selector,context){return(context||document).querySelector(selector);};$.elem=function(tag,cl,attr,par,html){if(attr&&typeof attr==='object'&&attr.appendChild){html=par;par=attr;attr={};}
var el=document.createElement(tag),p;el.className=cl;if(attr&&typeof attr==='object'){for(p in attr){el.setAttribute(p,attr[p]);}}
if(par){par.appendChild(el);}
if(html){el.innerHTML=html;}
return el;};$.attr=function(elem,properties){var i,prop;if(!$.isArray(elem)){elem=[elem];}
for(i=0;i<elem.length;i++){for(prop in properties){if(properties.hasOwnProperty(prop)){elem[i].setAttribute(prop,properties[prop]);}}}};$.parseValue=function(val,type){switch(type){case'int':return parseInt(val,10);case'float':return parseFloat(val);case'bool':return(/^(true|yes|on|1)$/).test(val);case'string':return(String(val)).valueOf();default:return val;}};$.param=function(name,def,type){var val;if($.params.custom){val=$.params.custom[name];}
if((val===null||val===undefined)&&$.params.base){val=$.params.base[name];}
if(val===null||val===undefined){val=def;}
return $.parseValue(val,type);};$.getComputedStyle=function(el,param){try{if(el.currentStyle){return el.currentStyle[param];}else if(document.defaultView.getComputedStyle(el,null)!==null){return document.defaultView.getComputedStyle(el,null)[param];}else{return el.style[param];}}catch(e){};};$.isCSS3Supported=function(p){var b=document.body||document.documentElement;var s=b.style;if(typeof s[p]==='string'){return true;}
var v=['Moz','webkit','Webkit','Khtml','O','ms'];p=p.charAt(0).toUpperCase()+p.substr(1);var i;for(i=0;i<v.length;i++){if(typeof s[v[i]+p]==='string'){return true;}}
return false;};$.is3dSupported=function(){if(!window.getComputedStyle){return false;}
var el=document.createElement('p'),has3d,transforms={'webkitTransform':'-webkit-transform','OTransform':'-o-transform','msTransform':'-ms-transform','MozTransform':'-moz-transform','transform':'transform'};document.body.insertBefore(el,null);for(var t in transforms){if(el.style[t]!==undefined){el.style[t]="translate3d(1px,1px,1px)";has3d=window.getComputedStyle(el).getPropertyValue(transforms[t]);}}
document.body.removeChild(el);return(has3d!==undefined&&has3d.length>0&&has3d!=="none");};$.getCursorPos=function(e){e=e||window.event;var cursor={x:0,y:0};if(e.changedTouches&&e.changedTouches.length){cursor.x=e.changedTouches[0].pageX;cursor.y=e.changedTouches[0].pageY;}else if(e.targetTouches&&e.targetTouches.length){cursor.x=e.targetTouches[0].pageX;cursor.y=e.targetTouches[0].pageY;}else if(e.pageX||e.pageY){cursor.x=e.pageX;cursor.y=e.pageY;}else{var de=document.documentElement;var b=document.body;cursor.x=e.clientX+(de.scrollLeft||b.scrollLeft)-(de.clientLeft||0);cursor.y=e.clientY+(de.scrollTop||b.scrollTop)-(de.clientTop||0);}
return cursor;};$.getClientCoordinates=function(e,targetElem){e=e||window.event;targetElem=targetElem||window.document.body;if(!e.target||!e.srcElement)return false;if(!targetElem)return false;var client=$.getCursorPos(e),targetElemOffset=$.getOffsets(targetElem);return{x:client.x-targetElemOffset.x,y:client.y-targetElemOffset.y}};$.recursiveAttribute=function(node,attr){var n=node;while(n&&n.getAttribute){if(n.hasAttribute(attr)){return n.getAttribute(attr);}
n=n.parentElement;}
return false;};$.getElemOffsets=function(el){return{offsetLeft:el.offsetLeft
-(parseInt($.getComputedStyle(el,'marginLeft'))||0),offsetTop:el.offsetTop
-(parseInt($.getComputedStyle(el,'marginTop'))||0),offsetWidth:el.offsetWidth
+(parseInt($.getComputedStyle(el,'marginLeft'))||0)
+(parseInt($.getComputedStyle(el,'marginRight'))||0),offsetHeight:el.offsetHeight
+(parseInt($.getComputedStyle(el,'marginTop'))||0)
+(parseInt($.getComputedStyle(el,'marginBottom'))||0)};};$.getNodeBounding=function(node){var rect,range;if(node.nodeType===3){if(document.createRange){range=document.createRange();range.selectNodeContents(node);if(range.getBoundingClientRect){rect=range.getBoundingClientRect();}}}else if(node.nodeType===1){if(node.getBoundingClientRect){rect=node.getBoundingClientRect();}}
return rect;};$.getHTTPQueryString=function(params,sign){var name,pairs=[];sign=sign||'';if(params&&typeof params==='object'){for(name in params){if(params.hasOwnProperty(name)){pairs.push(name+'='+encodeURIComponent(params[name]));}}}
return(pairs.length?sign:'')+pairs.join('&');};$.parseHTTPQueryString=function(query){var vars=query.split('&');var params={};for(var i=0;i<vars.length;i++){var pair=vars[i].split('=');var key=decodeURIComponent(pair[0]);var value=decodeURIComponent(pair[1]);if(typeof params[key]==='undefined'){params[key]=decodeURIComponent(value);}else if(typeof params[key]==='string'){var arr=[params[key],decodeURIComponent(value)];params[key]=arr;}else{params[key].push(decodeURIComponent(value));}}
return params;};$.urlEncode=function(url){url=(url+'').toString();return encodeURIComponent(url).replace(/!/g,'%21').replace(/'/g,'%27').replace(/\(/g,'%28').replace(/\)/g,'%29').replace(/\__AST_FWDSLSH__g,'%2A').replace(/%20/g,'+');};$.base64Decode=function(input){var output='';if(window.atob){try{output=window.atob(input);}catch(e){output=input;}}else{var base64regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;var chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0,keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";if(base64regex.test(input)){input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<input.length){enc1=keyStr.indexOf(input.charAt(i++));enc2=keyStr.indexOf(input.charAt(i++));enc3=keyStr.indexOf(input.charAt(i++));enc4=keyStr.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2)}
if(enc4!=64){output=output+String.fromCharCode(chr3)}}
output=$.utf8Decode(output);}else{output=input;}}
return output;};$.utf8Decode=function(utfText){var string='',i=0,c=0,c1=0,c2=0,c3;while(i<utfText.length){c=utfText.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++}else if((c>191)&&(c<224)){c2=utfText.charCodeAt(i+1);string+=String.fromCharCode(((c&31)<<6)|(c2&63));i+=2}else{c2=utfText.charCodeAt(i+1);c3=utfText.charCodeAt(i+2);string+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));i+=3}}
return string};$.stripTags=function(html){var tmp=document.createElement('div');tmp.innerHTML=html;return tmp.textContent||tmp.innerText;};$.getScaleLevel=function(scale){var outerScale=parseFloat($.cbOuterScale)||1;var panelScale=parseFloat($.cbPanelScale)||1;var scale=parseFloat(scale)||1;return scale*panelScale*outerScale;};$.getTimeStamp=function(){return(new Date()).getTime().toString().substr(0,10);};$.scaleFontSize=function(line,lineParent,singleLine,step){if(typeof line==='string'){line=document.querySelector(line);}
if(!line)return;if(typeof lineParent==='string'){lineParent=document.querySelector(lineParent);}
if(typeof singleLine==='number'){step=singleLine;singleLine=false;}
if(typeof lineParent==='boolean'){singleLine=lineParent;lineParent=null;}
if(!lineParent){lineParent=line;}
if(typeof step!=='number'){step=1;}
var fontSize=parseInt($.getComputedStyle(line,'fontSize'))||0;var textNodes=getTextNodes(line);var res;if(singleLine){line.style.whiteSpace='nowrap';}
while(fontSize>1&&(res=testText())>0){fontSize-=step;lineParent.style.fontSize=fontSize+'px';}
function testText(){var i,tn,r,h=0,f,l,pf,pl,ps;if(singleLine){pf='left';pl='right';ps='width';}else{pf='top';pl='bottom';ps='height';}
var blockRect=line.getBoundingClientRect();var bs=blockRect[ps];for(i=0;i<textNodes.length;i++){tn=textNodes[i];if(r=getNodeBounding(tn)){if(!r.width||!r.height){continue;}
if(f===undefined){f=blockRect[pf];l=r[pl];}else if(r[pl]>l){l=r[pl];}}}
if(typeof f==='number'){h=l-f;}
if(h===bs){return 0;}
return h>bs?1:-1;}
function getNodeBounding(node){var rect=null,range;if(document.createRange){range=document.createRange();range.selectNodeContents(node);if(range.getBoundingClientRect){rect=range.getBoundingClientRect();}}
return rect;}
function getTextNodes(el){var n,a=[];var walk=document.createTreeWalker(el,NodeFilter.SHOW_TEXT,function(){return NodeFilter.FILTER_ACCEPT;},false);while(n=walk.nextNode()){a.push(n);}
return a;}};function assetProxy(basePath,subdir){this.imgidx=0;this.proxyIsReady=false;var canvas=document.createElement("canvas");canvas.width=canvas.height=1;this.blankpng=canvas.toDataURL("image/png");this.promises=[];this.waitingImages=[];this.basePath=basePath;this.path=(this.basePath+'/'+subdir).replace(/\/$/,'');this.inited=false;this.isIE910=(ENV&&ENV.uaCheckData&&ENV.uaCheckData.isIE&&parseInt(ENV.uaCheckData.IEVersion,10)<=10);}
assetProxy.prototype.init=function(){if(this.inited||this.isIE910){return;}
this.inited=true;var INSTID=Math.random();var proxyframe=document.createElement("iframe");proxyframe.src=this.path+"/imgproxy.html#"+INSTID;proxyframe.width=2;proxyframe.height=2;proxyframe.style.visibility="hidden";proxyframe.style.position="absolute";proxyframe.style.opacity="0";proxyframe.setAttribute("frameborder","0");document.body.appendChild(proxyframe);this.proxyframe=proxyframe;this.proxywindow=proxyframe.contentWindow;window.addEventListener("message",function(e){var originCheck=this.basePath;if(e.origin&&originCheck.indexOf(e.origin)!==-1&&e.data&&e.data.from&&e.data.from==="#forcbdataproxy#"){var data=e.data;if(data.type==="init"&&data.qid&&parseFloat(data.qid)===INSTID){this.proxywindow=e.source;this.proxyIsReady=true;this.handlePromises();}else if(data.type==="returningAsset"&&data.qid===INSTID){this.onImageLoad(data.data,data.relid,data.blob);}}}.bind(this));};assetProxy.prototype.handlePromises=function(){var p;for(p=0;p<this.promises.length;p++){this.loadImage(this.promises[p].img,this.promises[p].path);}};assetProxy.prototype.loadImage=function(img,path){this.waitingImages.push(img);this.proxywindow.postMessage({type:"render",url:path,relid:img.getAttribute("data-imgidx")},this.basePath);};assetProxy.prototype.onImageLoad=function(data,relid,blob){var oi,oimg;var url=data;if(blob){url=(window.URL||window.webkitURL).createObjectURL(data);}
for(oi=0;oi<this.waitingImages.length;oi++){oimg=this.waitingImages[oi];if(!oimg.isdone&&oimg.getAttribute("data-imgidx")===relid){oimg.isdone=true;if(blob){oimg.addEventListener("load",oimg.blobload,false);}
oimg.src=url;return;}}};assetProxy.prototype.image=function(path){this.init();var img=document.createElement("img");img.setAttribute("data-imgidx",this.imgidx);img.setAttribute("data-readablesrc",path);img.src=this.blankpng;this.imgidx+=1;if(this.isIE910){img.src=this.path+"/"+path;return img;}
if(this.proxyIsReady){this.loadImage(img,path);}else{this.promises.push({img:img,path:path});}
return img;};$.cbdataProxy=new assetProxy($.baseUrl.replace(/\/$/,''),"cbdata");$.uploadsProxy=new assetProxy($.uploadsUrl.replace(/\/$/,''),"")
var VENDORS=["webkit","moz","ms","Webkit","Moz","o","O"],VENDORSLEN=VENDORS.length;function requestAnimPolyLoop(r,fallback){if(window[r]){return window[r];}
r=r.charAt(0).toUpperCase()+r.slice(1);var i;for(i=0;i<VENDORSLEN;i++){if(window[VENDORS[i]+r]){return window[VENDORS[i]+r];}}
return fallback;}
window.requestAnimationFrame=requestAnimPolyLoop("requestAnimationFrame",function(callback){return window.setTimeout(callback,60);});window.cancelAnimationFrame=requestAnimPolyLoop("cancelAnimationFrame",function(tm){return window.clearTimeout(tm);});window.cancelRequestAnimationFrame=window.cancelAnimationFrame;if(ENV&&ENV.uaCheckData&&ENV.uaCheckData.browserName){$.addClass(document.body,ENV.uaCheckData.browserName.toLowerCase());}
$.templateMap={};$.templateHelpers={};['uploadsUrl','themeUrl','baseUrl','escape','stripTags','trim'].forEach(function(prop){$.templateHelpers[prop]=typeof $[prop]==='function'?$[prop].bind($):$[prop];});$.templateHelpers['renderTemplate']=function(name,data,tags){var tpl=$.templateMap[name];if(typeof tpl==='string'&&tpl.length){return $.execTemplate(tpl,data,tags);}
return'';};}());(function(){$.initMRAID=function(callback){if(typeof window.mraid!=='undefined'){return;}
$.mraid=null;$.Banner.mraidExpandMethod='expand';loadSDK();var checkInt=setInterval(function(){if(typeof parent.mraid!=='undefined'){clearInterval(checkInt);setViewPortMeta();window.mraid=parent.mraid;$.mraid=window.mraid;if(mraid.getState()==='loading'){mraid.addEventListener('ready',mraidReady);}
else if(mraid.getState()==='default'||mraid.getState()==='ready'){mraidReady();}}},100);function mraidReady(){$.Banner.mraidExpandProps={useCustomClose:true};$.Banner.mraidResizeProps={width:mraid.getMaxSize().width,height:mraid.getMaxSize().height,allowOffscreen:false,offsetY:0,offsetX:0};if(mraid.getVersion()==='appnexus'){$.extend($.mraidExpandProps,{width:screen.width,height:screen.height});}
mraid.addEventListener('stateChange',handleStateChange);if(typeof callback==='function'){callback();}}
function handleStateChange(state){if(state==='default'){if($.Expansion){$.Expansion.close();}}}
function loadSDK(){var head=parent.document.getElementsByTagName('head').item(0),js=document.createElement('script'),s='mraid.js';js.setAttribute('type','text/javascript');js.setAttribute('src',s);head.appendChild(js);}
function setViewPortMeta(){var doc=parent.document;var head=doc.querySelector('head');var meta=doc.querySelector('meta[name=viewport]');if(!meta&&head){meta=doc.createElement('meta');meta.name='viewport';meta.content='width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1';head.appendChild(meta);}else{meta.content='width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1';}}};$.SafeFrames=function(options){var SF={};var opt=$.extend({},{preventScrolling:true,defaultView:window,expWidth:940,expHeight:600},options||{});var initialized=false;var lastExpandCall=false;var viewableTimer;$.extend(SF,$.ui.Events,{init:function(format){if(initialized||!this.detectVendor()){return this;}
this.expanded=false;this.postGeomUpdateExpand=false;var size=this.getBannerSize(format);this.sf.register(size.width,size.height,this.handlerSafeFramesUpdate.bind(this));$.events.on([window,document],['wheel','mousewheel','DOMMouseScroll','scroll'],this.handlerWindowScroll.bind(this));initialized=true;return this;},expand:function(obj,func){lastExpandCall=function(){this.expand(obj,func);};var g=this.sf.geom();var o=opt.defaultView.Object();var e={};var def={t:0,r:0,b:0,l:0,push:false};var i,p,s='ltrb';for(i=0;i<s.length;i++){p=s.charAt(i);e[p]=parseInt(g.exp[p]);}
$.extend(o,def,obj&&typeof obj==='object'?obj:{t:e.t,r:e.r,b:e.b,l:e.l});if(typeof func==='function'){o=obj;func(o,e);for(i=0;i<s.length;i++){p=s.charAt(i);if(o[p]>e[p])o[p]=e[p];}}
if(!this.expanded){if(o.push&&this.supports('exp-push')!==false||!o.push&&this.supports('exp-ovr')!==false){this.sf.expand(o);this.trigger('expand',o);}}},testExpansion:function(cb){var isMobile=(function(){var layout=$.param("layout");var format=$.param("format","").split("x").filter(function(s){return!!s;}).map(function(s){return parseInt(s,10)});return layout==="mobile"||(layout==="desktop"&&format[1]===50);}());function isDesktopExpandable(){var res=true;var g=SF.geom();var expWidth=g.self.w+g.exp.l+g.exp.r;var expHeight=g.self.h+g.exp.t+g.exp.b;if(expWidth<opt.expWidth||expHeight<opt.expHeight){res=false;}
return res;}
function isMobileExpandable(){var res=true;var g=SF.geom();var gwin=g.win;var windowSize={width:gwin.l+gwin.r,height:gwin.t+gwin.b};var maxExpansion={width:g.exp.l+g.exp.r+g.self.w,height:g.exp.t+g.exp.b+g.self.h};var fidelity={width:1-Math.abs(windowSize.width-maxExpansion.width)/windowSize.width,height:1-Math.abs(windowSize.height-maxExpansion.height)/windowSize.height,};if(fidelity.width<0.8||fidelity.height<0.8){res=false;}
return res;}
function handleCallback(){cb.call(SF,isMobile?isMobileExpandable():isDesktopExpandable());}
function handleViewable(){this.off('sf-viewable',handleViewable);handleCallback();}
var inView=this.sf.inViewPercentage&&this.sf.inViewPercentage();if(inView&&inView<50){this.on('sf-viewable',handleViewable);}else{handleCallback();}},collapse:function(){if(this.expanded){this.sf.collapse();this.trigger('collapse');}},getBannerSize:function(format){var f=format.split('x');if(f.length<2){f[1]=0;}
return{width:parseInt(f[0])||0,height:parseInt(f[1])||0};},geom:function(){return this.sf.geom();},supports:function(which){var o=this.sf.supports();return(o&&o[which]);},status:function(){return this.sf.status();},getSF:function(){return this.sf;},handlerSafeFramesUpdate:function(status,data){this.trigger('sf-update');this.trigger('sf-update-'+status,{data:data});if(this.sf.inViewPercentage()>=50){if(typeof viewableTimer!=='number'){viewableTimer=setTimeout(function(){SF.trigger('sf-viewable');},1000);}}else{clearTimeout(viewableTimer);viewableTimer=undefined;}
if(status==='geom-update'){if(this.postGeomUpdateExpand){this.postGeomUpdateExpand=false;lastExpandCall.call(this);}}
else if(status==='failed'){this.postGeomUpdateExpand=true;if(data.cmd&&data.cmd==="exp-ovr"){try{this.expand();}catch(ignore){}}}
else if(status==='expanded'){this.expanded=true;}
else if(status==='collapsed'){this.expanded=false;}},handlerWindowScroll:function(e){if(opt.preventScrolling){e.preventDefault();}},detectVendor:function(){var v=opt.defaultView;if(v.Y&&v.Y.SandBox&&v.Y.SandBox.vendor){this.vendor='yahoo';this.sf=v.Y.SandBox.vendor;}
else if(v.$sf&&v.$sf.ext){this.vendor='default';this.sf=v.$sf.ext;}
return true;}});return SF;};$.SafeFrames.isSupported=function(context){context=context||window;return!!(context.$sf&&context.$sf.ext);};}());$.ui.Tracker=function(context,options,Unit){if(!context||typeof context!=='object'){context=document.querySelector(context);}
var Tracker={};var opt=$.extend({defaultTarget:'Other',actionTracking:true,linkTracking:true,engagementTracked:false,dmpCategoryTracked:false},options||{});var pianoOpened=false;var menuOpened=false;var engagementTracked=opt.engagementTracked;var dmpCategoryTracked=opt.dmpCategoryTracked;var isEngaged=engagementTracked;var layout=$.param('layout');var postponedCalls=[];var isSimpleInBanner=false;if(!$.InBannerLayout&&layout!=='videoactive'&&layout!=='nativeq'){isSimpleInBanner=$.param('expand_on')==='none'&&$.param('expand_type')==='none';}
var isItNotStandard=$.param('banner_type','int')!==2;var isItStandard=$.param('banner_type','int')===2;$.events.on(window,['mousemove','touchstart','touchmove','touchend'],function(e){Tracker.lastCursor=Tracker.getClickCoordinates(e);});$.extend(Tracker,$.ui.Events,{init:function(){this.envDataCache=this.getEnvData();if(opt.actionTracking){this.initActionTracking();}
if(opt.linkTracking){this.trackLinks();Unit.trigger('linksTracked');}
return this;},initActionTracking:function(){$.events.on(context,'click',function(e){var target=e.target||e.srcElement;Tracker.action(e.type,target,e);});$.events.on(context,'mousedown touchend',function(e){pianoOpened=Unit.Piano&&Unit.Piano.isOpened();menuOpened=Unit.Layout&&typeof Unit.Layout.isMenuOpened==='function'&&Unit.Layout.isMenuOpened();});},start:function(){if(ENV.disableTracking){return this;}
var env_type=ENV.iframe_type||(ENV.ifr?'ext-iframe':'non-iframe');var position=getPosition();var params=$.extend({},this.envDataCache,{env_type:env_type,position:position,ifr:ENV.ifr?1:0,iframe:ENV.busted?'ib':(ENV.ifr?'yes':'no')});$.load($.baseUrl+'v3/frontend/creatives/viewload.js',params,function(){Tracker.trigger('impression');});return this;},impression:function(){if(ENV.disableTracking){return this;}
var env_type=ENV.iframe_type||(ENV.ifr?'ext-iframe':'non-iframe');var position=getPosition();var params=$.extend({},this.envDataCache,{env_type:env_type,position:position,ifr:ENV.ifr?1:0,rule_id:ENV.rule_id?ENV.rule_id:""});$.load($.baseUrl+'v3/frontend/creatives/viewcount.js',params,function(){Tracker.trigger('impression');});return this;},initTimeSpentTracking:function(options){var This=this,isStartTimeSet=false,windowHasFocus=true,trackingStarted=false,lastIntEvent=false,disableOnLeave=false,resetLastTSCount=true,timeSpentCounter=0,hasTrackedTimeSpent=false,startTimeStamp=0;var tsOpt=$.extend({master:null,startOnMouseEnter:true,inBannerMode:false},options||{});var UA=ENV.uaCheckData;var isIElt10=UA.isIE&&UA.IEVersion<10;var vchPrefix=(function(){var prefixes=['webkit','moz','ms','o'];if('hidden'in document){return'';}
for(var i=0;i<prefixes.length;i++){if((prefixes[i]+'Hidden')in document){return prefixes[i];}}
return'';})();var vchEvent=vchPrefix+'visibilitychange';if(isIElt10){$.events.on(window.document,'focusin',handleFocusIn);$.events.on(window.document,'focusout',handleFocusOut);}else{$.events.on(window,'blur',handleFocusOut);}
var win=(function(w){while(1){try{if(!w.parent.document)break;}catch(e){break;}
w=w.parent;if(w===top)break;}
return w;})(window);$.events.on(context,'mousedown touchstart',handleInteraction);$.events.on(window,'focus',handleFocusIn);$.events.on(window.document,vchEvent,handleVisibilityChange);$.events.on(win,'scroll',handleWindowScroll);if($.sf){$.sf.on('sf-update',handleSFUpdate);}
if(tsOpt.startOnMouseEnter){$.events.on(context,'mouseenter',handleInteraction);$.events.on(context,'mouseleave',handleMouseLeave);}
if(!tsOpt.master){if(isItNotStandard){$.events.on(window,'beforeunload',handleWindowUnload);}
Unit.on('vpaid-unload',handleWindowUnload);}
$.extend(this,{enableTimeTracking:function(){if(!trackingStarted){trackingStarted=true;this.startTimeTracking();}
disableOnLeave=false;return this;},disableTimeTracking:function(){if(trackingStarted){this.stopTimeTracking();trackingStarted=false;}},startTimeTracking:function(){if(trackingStarted&&!isStartTimeSet){isStartTimeSet=true;startTimeStamp=parseInt($.getTimeStamp());hasTrackedTimeSpent=false;}
return this;},stopTimeTracking:function(){var spent;if(trackingStarted&&isStartTimeSet){spent=parseInt($.getTimeStamp())-startTimeStamp;this.timeSpent(spent);isStartTimeSet=false;}
return this;},sendTimeSpent:function(){if(ENV.disableTracking||hasTrackedTimeSpent){return this;}
if($.param('expand_on')!=='none'&&!$.Expansion){return this;}
var params={};this.stopTimeTracking();if(timeSpentCounter>0){$.extend(params,this.envDataCache,{time_spent:timeSpentCounter,event_value:timeSpentCounter});$.load($.baseUrl+'v3/frontend/creatives/timeSpent.js',params);}
timeSpentCounter=0;hasTrackedTimeSpent=true;return this;},timeSpent:function(arg){if(tsOpt.master){if(typeof arg==='undefined'&&trackingStarted&&isStartTimeSet){var ts=parseInt($.getTimeStamp());tsOpt.master.timeSpent(ts-startTimeStamp);startTimeStamp=ts;}
return tsOpt.master.timeSpent(arg);}else{if(typeof arg==='number'){timeSpentCounter+=parseInt(arg);return this;}
if(isItNotStandard){return timeSpentCounter;}
return 0;}},updateTSCounter:function(){if(!trackingStarted||typeof startTimeStamp!=='number'||!startTimeStamp){startTimeStamp=parseInt($.getTimeStamp());trackingStarted=true;}
var ts=parseInt($.getTimeStamp());this.timeSpent(ts-startTimeStamp);startTimeStamp=ts;return this;},resetLastTSCount:function(arg){if(typeof arg!=='undefined'){resetLastTSCount=!!arg;}else{startTimeStamp=0;isStartTimeSet=false;}
return this;}});function handleWindowScroll(){var r,elem;if(trackingStarted){elem=Unit.elem();if(elem.style.position!=='fixed'){r=getTargetPos(elem);if((r.y>=-elem.offsetHeight*0.1)&&(r.y+elem.offsetHeight*0.9<=win.innerHeight)){if(!isStartTimeSet){This.startTimeTracking();}}else{if(tsOpt.inBannerMode){if(resetLastTSCount){This.resetLastTSCount();}}
This.disableTimeTracking();}}}}
function getParentIFrame(win){if(top===win){return false;}
try{if(!win.parent.document){return false;}}catch(e){return false;}
var iFrames=win.parent.document.getElementsByTagName('IFRAME'),i,len=iFrames.length;for(i=0;i<len;i++){if(iFrames[i].contentWindow===win){return iFrames[i];}}
return false;}
function getTargetPos(t){var x=0,y=0,rect;while(t){rect=t.getBoundingClientRect();y=y+rect.top;x=x+rect.left;t=getParentIFrame(t.ownerDocument.defaultView);}
return{x:x,y:y};}
function handleVisibilityChange(){var p,doc,isVisible,hidden;if(trackingStarted){doc=document;hidden=(vchPrefix===''?'h':vchPrefix+'H')+'idden';isVisible=typeof doc[hidden]!=='undefined'?windowHasFocus&&!doc[hidden]:windowHasFocus;if(isVisible){This.startTimeTracking();}else{if(tsOpt.inBannerMode){if(resetLastTSCount){This.resetLastTSCount();}
This.disableTimeTracking();}else{This.stopTimeTracking();}}}}
function handleSFUpdate(){if(trackingStarted){if(this.sf.inViewPercentage()>=90){if(!isStartTimeSet)This.startTimeTracking();}else{if(tsOpt.inBannerMode){if(resetLastTSCount)This.resetLastTSCount();}
This.disableTimeTracking();}}}
function handleWindowUnload(){This.sendTimeSpent();}
function handleFocusIn(){windowHasFocus=true;handleVisibilityChange();}
function handleFocusOut(){windowHasFocus=false;handleVisibilityChange();}
function handleInteraction(e){lastIntEvent=e.type;if(tsOpt.inBannerMode){if(!trackingStarted){This.enableTimeTracking();}else{This.updateTSCounter();}}else{var wasStarted=trackingStarted;if(!trackingStarted){This.enableTimeTracking();}
if(lastIntEvent==='mouseenter'){if(!wasStarted){disableOnLeave=true;}}else{disableOnLeave=false;}}}
function handleMouseLeave(){if(trackingStarted&&disableOnLeave){This.disableTimeTracking();}}
return this;},action:function(name,target,e,callback,overrides){if(ENV.disableTracking){if(typeof callback==='function'){callback();}
return this;}
var pObj;if(typeof name==='object'&&typeof name.name==='string'&&name.target){pObj=name;callback=e;e=target;target=name.target;name=name.name;delete pObj.name;delete pObj.target;}
if(target&&typeof target==='object'&&target.nodeName){target=$.recursiveAttribute(target,'data-event-target')||opt.defaultTarget;}
var isEngAction=name.substr(0,7)==='expand_';var componentData,clientData,dmpData;if(e&&typeof e==='object'&&e.type&&/click|mousedown|touchstart/.test(e.type)){clientData=this.getClientData(e);if($.DMPTracker){dmpData=$.DMPTracker.handleClick(e);}}
if(isEngAction&&$.DMPTracker){dmpData=$.DMPTracker.getIOLineTraitParams();}
if(e&&typeof e==="string"){componentData={event_component:e.trim()};}
var currComps=Unit.focusedComponents();var componentIndex=currComps.length?currComps[0]:0;if(!componentData&&!isEngAction){componentData=this.getComponentData(componentIndex);}
var params=$.extend({},this.envDataCache,{event_type:encodeURIComponent(name),event_target:encodeURIComponent(target),time_spent:this.timeSpent()},pObj||{},componentData||{},clientData||{});clientData=clientData||{};var lastCursor=Tracker.lastCursor||{};params.x_click=clientData.client_x||lastCursor.x||null;params.y_click=clientData.client_y||lastCursor.y||null;params.event_label=params.event_type;params.event_value=params.event_target;if(dmpData){$.extend(params,dmpData.other||{},dmpData.dmpParams||{});}
if(overrides&&typeof overrides==='object'){Object.keys(overrides).forEach(function(prop){var val=overrides[prop];if(val&&!isEncoded(val)){val=encodeURIComponent(val);}
params[prop]=val;});}
function trackViewStart(){if(($.InBannerLayout||isItStandard)&&!isEngaged){postponedCalls.push(Tracker.action.bind(Tracker,name,target,e,callback));return;}
if(!ENV.zone_id){params.nodmp=true;}
$.load($.baseUrl+'v3/frontend/creatives/viewstart.js',params,function(){Tracker.trigger('action',{name:name,target:target});Tracker.trigger(name,{target:target});if(typeof callback==='function'){callback();}
if(!engagementTracked&&(isEngAction||e&&typeof e==='object')){if($.allowTrack==='true'&&(ENV.additionEngagements||ENV.zoneAdditionEngagements)){isEngaged=true;Tracker.trigger('engaged');Tracker.callAsIframe('addition_engagements',ENV.additionEngagements);Tracker.callAsIframe('zone_addition_engagements',ENV.zoneAdditionEngagements);}
engagementTracked=true;}});if($.DMPTracker&&(params.trait_type==='interaction'||params.trait_type==='io_line'))
{var adobeParams=$.DMPTracker.getAdobePixelParams(params);if(adobeParams){$.DMPTracker.trackPixel(adobeParams);}}}
if(!dmpCategoryTracked){dmpCategoryTracked=true;Tracker.callAsIframe('addition_retargeting',ENV.additionRetargeting);}
if(!isEngaged&&!isEngAction&&!isItStandard&&(($.InBannerLayout||isSimpleInBanner||layout==='videoactive')&&name==='click')){if(layout==='videoactive'&&target.indexOf('Link:')===0){name+='through';}
postponedCalls.push(Tracker.action.bind(Tracker,'expand_'+name,target,e,callback));}
if(!isEngaged&&(isEngAction||e&&typeof e==='object')){isEngaged=true;Tracker.trigger('engaged');if(postponedCalls.length){postponedCalls.forEach(function(fn){fn();});postponedCalls.length=0;}}
trackViewStart();return this;},trackItem:function(item_type,item_id,cIndex){if(ENV.disableTracking){return;}
if(($.InBannerLayout||isItStandard)&&!isEngaged){postponedCalls.push(Tracker.trackItem.bind(Tracker,item_type,item_id,cIndex));return;}
var params;var componentData=this.getComponentData(cIndex);if(item_type&&typeof item_type==='object'){params=item_type;params.time_spent=this.timeSpent();}else if(typeof item_id!=='undefined'){params={item_type:item_type,item_id:item_id,time_spent:this.timeSpent()};}
if(params){$.extend(params,this.envDataCache,componentData);if(!ENV.zone_id){params.nodmp=true;}
if(Tracker.lastCursor){params.x_click=Tracker.lastCursor.x;params.y_click=Tracker.lastCursor.y;}
params.event_label=params.item_type;params.event_value=params.item_id;$.load($.baseUrl+'v3/frontend/reports/track.js',params);if($.DMPTracker&&params.trait_type==='interaction'){var adobeParams=$.DMPTracker.getAdobePixelParams(params);if(adobeParams){$.DMPTracker.trackPixel(adobeParams);}}}},call:function(tracker){if(ENV.disableTracking){return;}
var ts=parseInt((new Date()).getTime()/1000,10);var protocol=window.location.protocol;if(tracker){tracker=tracker.replace(/\[timestamp\]/ig,ts);if(protocol==='https:'){tracker=tracker.replace(/^http:/g,protocol);}
tracker=tracker.replace(/%%ZONE_ID%%/g,ENV.zone_id);tracker=tracker.replace(/%%AD_ID%%/g,ENV.ad_id);tracker=tracker.replace(/%%SOURCE_URL%%/g,ENV.sourceUrl);tracker=tracker.replace(/%%CLICK_TAG%%/g,ENV.clickTag);if(ENV.customMacros){$.forIn(ENV.customMacros,function(k,arr){tracker=tracker.replace(new RegExp("%%contobox_"+k+"%%","g"),arr[k]);});}
(new Image()).src=tracker;}},callAsIframe:function(name,tracker){if(ENV.disableTracking){return;}
var ts=parseInt((new Date()).getTime()/1000,10);var protocol=w.location.protocol;if(tracker){tracker=tracker.replace(/\[timestamp\]/ig,ts);if(protocol==='https:'){tracker=tracker.replace(/^http:/g,protocol);}
tracker=tracker.replace(/%%ZONE_ID%%/g,ENV.zone_id);tracker=tracker.replace(/%%AD_ID%%/g,ENV.ad_id);tracker=tracker.replace(/%%SOURCE_URL%%/g,ENV.sourceUrl);tracker=tracker.replace(/%%CLICK_TAG%%/g,ENV.clickTag);if(ENV.customMacros){$.forIn(ENV.customMacros,function(k,arr){tracker=tracker.replace(new RegExp("%%contobox_"+k+"%%","g"),arr[k]);});}}
var tf=document.createElement('iframe');tf.id='cbox-fn-'+ts+'-'+name;tf.src='';tf.setAttribute('width',1);tf.setAttribute('height',1);tf.setAttribute('frameborder','no');tf.setAttribute('scrolling','no');tf.style.display='none';document.body.appendChild(tf);tf.contentWindow.document.open('text/html','replace');tf.contentWindow.document.write(tracker);tf.contentWindow.document.close();},trackLinks:function(node,defTitle){node=node||context;defTitle=defTitle||'Custom';var links=node.tagName.toLowerCase()=='a'?[node]:node.getElementsByTagName('a');var href;for(var i=0;i<links.length;i++){href=links[i].getAttribute('href');if(href==='#ZgotmplZ'){var link=links[i].getAttribute('data-link');if(link){links[i].href=link;href=link;}}
if(!href)continue;if(/^javascript:void/.test(href))continue;if(/^(tel|callto)/.test(href))continue;if(/^\#/.test(href))continue;if(/v3\/frontend\/creatives\/click\.html/.test(href))continue;if(!links[i].hasOwnProperty('__tracked')){links[i].hrefOriginal=href;if(!links[i].doNotUpdateHrefOnClick){$.events.on(links[i],'mousedown touchstart',function(){if(!this.doNotUpdateHrefOnClick){var href=Tracker.trackUrl(this.hrefOriginal,this.title||'Custom');this.href=href;}});}
links[i].__tracked=true;}
links[i].href=this.trackUrl(links[i].href,links[i].title||'Custom');links[i].prefixed_=false;if(!links[i].getAttribute('data-event-target')){links[i].setAttribute('data-event-target','Link: '+encodeURIComponent(links[i].title||defTitle));}}},trackUrl:function(url,title,componentIndex){if(/v3\/frontend\/creatives\/click\.html/.test(url)){return url;}
var action=ENV.disableTracking?'frontend/ads/clickDnt':'v3/frontend/creatives/click';var envData=this.getEnvData();var componentData=this.getComponentData(componentIndex);var fromUrl=ENV.fromUrl?ENV.fromUrl.split('?')[0]:'';var clickthru=$.urlEncode(encodeURIComponent(url));return $.baseUrl+action+'.html?cboxid='+ENV.ad_id+'&zone_id='+ENV.zone_id
+'&clicktag='+$.urlEncode(ENV.clickTag)+'&tlurl='+clickthru
+'&fromurl='+$.urlEncode(fromUrl)+'&sid='+ENV.sid+'&lid='+ENV.lid
+'&title='+encodeURIComponent(title||'')
+'&domain='+encodeURIComponent(ENV.website_domain)
+'&rule_id='+encodeURIComponent(ENV.rule_id)
+'&event_label='+encodeURIComponent(title||'')
+'&event_value='+clickthru
+$.getHTTPQueryString(componentData,'&')
+$.getHTTPQueryString(envData,'&');},getComponentData:function(index){var currComps;if(typeof index==='undefined'){currComps=Unit.focusedComponents();index=currComps.length?currComps[0]:0;}
var component=Unit.component(index),data={};if(component){data={event_component:encodeURIComponent(component.toString().trim()),event_component_id:component.getInstanceId(),event_component_order:component.getOrder()};data.tab_id=data.event_component_id;data.tab_name=data.event_component;}
return data;},getClientData:function(e){var click=this.getClickCoordinates(e);var targetType=opt.defaultTarget.toLowerCase();var keys=Unit.focusedComponents();var index=0,comp,menu=0;if(keys.length&&(comp=Unit.component(keys[0]))){index=comp.getOrder();}
if(Unit.Layout){if(Unit.Layout.getType()==='mobile'){menu=pianoOpened?false:menuOpened;}else{menu=menuOpened;}}
return{client_x:click.x,client_y:click.y,client_target:targetType,client_tab:index,client_tab_frame:0,client_menu:menu?1:0}},getDmpData:function(){return{d_event:"imp",d_src:encodeURIComponent(ENV.d_src),brand:ENV.brand_id,campaign:ENV.io_line_id,dyno_rule:ENV.rule_id||0};},getEnvData:function(){return $.extend({},ENV.raw_data,{cboxid:ENV.ad_id,sid:ENV.sid,zone_id:ENV.zone_id,lid:encodeURIComponent(ENV.lid),rule_id:ENV.rule_id||0,layout:encodeURIComponent(ENV.layout||layout||''),clicktag:encodeURIComponent(ENV.clickTag),http_referrer:encodeURIComponent(ENV.ref),fromurl:encodeURIComponent(ENV.fromUrl),domain:encodeURIComponent(ENV.website_domain),ltype:ENV.ltype,resolution_width:window.screen?window.screen.width:null,resolution_height:window.screen?window.screen.height:null,rd_iframe:ENV.iframe_type||(ENV.ifr?'ext-iframe':'non-iframe')});},getClickCoordinates:function(e){var client=$.getCursorPos(e);var offsets=getClientOffset(context);var scale=$.getScaleLevel();var b,x,y,t,ratio=1,cbe=false,s=window.screen;var bt,ps;if(Unit.Type==='Expansion'&&Unit.Layout&&(Unit.Layout.getType()==='mobile')){if(Unit.Layout.isFixed&&!Unit.Layout.isFixed()){b=this.getMobileBaseSize();ratio=b.width/s.width;if(b.height!==s.height){cbe=true;}}}
else if(Unit.Type==='Banner'&&(layout==='videoactive')){var ifr=Unit.elem();var br=ifr.getBoundingClientRect();var ifw=br.width;b=this.getVABaseSize();ratio=b.width/ifw;}
x=Math.round(((client.x-offsets.x)*ratio)/scale);y=Math.round(((client.y-offsets.y)*ratio)/scale);if(cbe){t=e.target||e.srcElement;while(t&&t!==context){bt=parseInt($.getComputedStyle(t,'bottom'));ps=$.getComputedStyle(t,'position');if(!isNaN(bt)&&bt<30&&ps==='fixed'){y=b.height-(s.height-client.y/scale);break;}
t=t.parentElement;}}
return{x:x,y:y}},getMobileBaseSize:function(){return{width:375,height:667};},getVABaseSize:function(){return{width:640,height:360}},isEngagementTracked:function(){return engagementTracked;},isEngaged:function(){return isEngaged;}});function handleClickTrough(){var tf;var pixelTrackers=[ENV.clickTag];var id='cbox-fn-click-through-tracking';if(!(tf=document.getElementById(id))){tf=document.createElement('iframe');$.attr(tf,{id:id,src:'',width:1,height:1,frameborder:'no'});tf.style.visibility='hidden';document.body.appendChild(tf);tf.contentWindow.document.open('text/html','replace');tf.contentWindow.document.write('<html><head></head><body></body></html>');tf.contentWindow.document.close();}
var doc=tf.contentWindow.document;pixelTrackers.forEach(function(tracker){var img;if(tracker){img=doc.createElement('img');$.attr(img,{width:1,height:1});img.src=tracker;doc.body.appendChild(img);}});}
function getClientOffset(element){var rect=element.getBoundingClientRect();return{x:Math.round(rect.left),y:Math.round(rect.top)};}
function getPosition(){if(ENV.ifr===1)return'';var ph=Unit.elem();var offset=$.getOffsets(ph);var yKey=offset.y+parseInt(ph.offsetHeight)/2;var wSize=$.getViewSize(parent);return yKey<=wSize.height?'above':'below';}
function getHostName(url){if(/^(http(s|):|)\/\//.test(url)){var a=document.createElement('a');a.href=url;return a.hostname;}
return url;}
function isEncoded(str){return typeof str==='string'&&decodeURIComponent(str)!==str;}
return Tracker;};$.normalizeDMPString=function(str){if(!str){return"";}
return(str.replace(/[^a-zA-Z0-9 \-_]+/g,"_").toLowerCase().split(" ").filter(function(s){return s;}).join("_").replace(/_+/g,"_").replace(/-+/g,"-"));};var DMP_ACTION_ENGAGED='engaged';var DMP_ACTION_TAB_VISIT='view';var DMP_ACTION_CLICK_THROUGH='click';var DMP_ACTION_VIEW_GALLERY_IMAGE='image';var DMP_ACTION_WATCHED_0P_VIDEO='video_0';var DMP_ACTION_WATCHED_25P_VIDEO='video_25';var DMP_ACTION_WATCHED_50P_VIDEO='video_50';var DMP_ACTION_WATCHED_75P_VIDEO='video_75';var DMP_ACTION_WATCHED_100P_VIDEO='video_100';var DMP_ACTION_CUSTOM='custom';$.ui.DMPTracker=function(context,options){var This={};if(!context||typeof context!=='object'){context=document.querySelector(context);}
var opt=$.extend({dmpData:{},brandData:[],envData:{},debug:false,noDMP:false,env:''},options||{});var DEMDEX_TRACK='https://'+(ENV.brand_id===308?'homedepotca':'crucialinteractive')+'.demdex.net/event?';var DEFAULT_RULES=[];var C_CAMPAIGN_VALUE=opt.dmpData.campaign;var DYNAMIC_RULE_ID=opt.dmpData.dyno_rule;var DMP_PARAMS_COMMON={d_event:opt.dmpData.d_event||'imp',d_src:opt.dmpData.d_src||0,c_brand:opt.dmpData.brand||0};var ENV_DATA=opt.envData;var DEFAULT_COMMON_STATS={clickTroughSocial:0,clickTroughLocator:0,clickTroughOther:0,hashTaggerClicks:0,socialShareClicks:0,locatorClicks:0};var DEFAULT_RULE_STATS={timeSpent:0,clickCount:0,clickThroughCount:0,videoCompletion:0};var BRAND_RULE_ATTR='data-brand-rule';var DMP_TARGET_ATTR='data-dmp-target';var DMP_LABEL_ATTR='data-dmp-title';var DMP_ACTION_ATTR='data-dmp-action';var PROFILE_INMARKET_BUYER=1;var PROFILE_SOCIALLY_ACTIVE=2;var INTEREST_LEVEL_LOW=1;var INTEREST_LEVEL_MODERATE=2;var INTEREST_LEVEL_HIGH=3;var TRAIT_TYPE_BRAND='brand';var TRAIT_TYPE_PRODUCT='product';var TRAIT_TYPE_FEATURE='feature';var TRAIT_TYPE_USER_PROFILE='user_profile';var TRAIT_TYPE_INTEREST='interest';var TRAIT_TYPE_INTERACTION='interaction';var TRAIT_TYPE_DYNO_RULE='dynamic_rule';var TRAIT_TYPE_IO_LINE='io_line';var RULES=opt.brandData||DEFAULT_RULES;var contextRuleId=false;var contextRule=null;var activeStats=null;var contextParams=null;var contextNodes=null;var tsStartTime=0;var statsHolder={};var aliasMap={};var idMap={};var hash;var _tracked={product:[],feature:[]};var _trackedParams={};var _addedToBeTracked={};var _toBeTracked=[];var _unitTracked=false;var commonStats=$.extend({},DEFAULT_COMMON_STATS);RULES.forEach(function(rule){aliasMap[rule.alias]=idMap[rule.id]=rule;statsHolder[rule.id]=null;});var REGEX_SOCIALSHARE=/socialshare-(button|icon|component)/;var REGEX_HASHTAGGER=/hashtagger-(button|icon|component)/;var REGEX_LOCATOR=/locator-(button|icon|component)/;var REGEX_SOCIAL_CLICK_TROUGH=/social-button|share-button|share-icon|hashtagger-link|ht-popup-link/;var REGEX_LOCATOR_CLICK_TROUGH=/loc_website_link/;var REGEX_BUTTON_INPUT=/button|input/;var REGEX_HTTP_S=/^http/;var REGEX_STRING_NUMBER=/string|number/;var REGEX_INTEGER=/^(0|[1-9][0-9]*)$/;var REGEX_DMP_PROP=/[^a-zA-Z0-9]+/g;var REGEX_PRODUCT_FEATURE=/^\d+_\d+$/;var isIElt10=$.ua.isIE&&$.ua.IEVersion<10;var visEvent=$.visPrefix+'visibilitychange';var windowHasFocus=true;$.extend(This,$.ui.Events,{init:function(){this.handleClick=this.handleClick.bind(this,context);this.handlePostTracking_=this.handlePostTracking_.bind(this);this.handleVisibilityChange_=this.handleVisibilityChange_.bind(this);isIElt10?$.events.on(window.document,'focusin focusout',this.handleVisibilityChange_):$.events.on(window,'blur',this.handleVisibilityChange_);$.events.on(window,'focus',this.handleVisibilityChange_);$.events.on(window.document,visEvent,this.handleVisibilityChange_);if(opt.env==='expansion'){$.events.on(window.parent,'beforeunload',this.handlePostTracking_);$.Layout.on('close',this.handlePostTracking_);}
if(opt.debug){initStatisticsBox();}},handleVisibilityChange_:function(e){var isVisible,isHidden;if(e.type==='focusin'||e.type==='focus'){windowHasFocus=true;}else if(e.type==='focusout'||e.type==='blur'){windowHasFocus=false;}
if(contextRule){isHidden=$.isWindowHidden();isVisible=typeof isHidden!=='undefined'?windowHasFocus&&!isHidden:windowHasFocus;if(isVisible){this.startTimeSpentTracking();}else{this.stopAndUpdateTimeSpent();}}},handleClick:function(el,e,force){var node=e.target||e.srcElement;var clickTarget=node;var rule=contextRule;var rh,key,tagName,cls,content,action,label,dmpParams,product_id=0,feature_id=0,ruleNodeClicked=false,targetNodeClicked=false,clickThrough=false,socialCompClick=false,locatorCompClick=false,socialClickTrough=false,locatorClickThrough=false,otherClickThrough=false;while(node&&(context!==clickTarget)){tagName=node.tagName.toLowerCase();cls=node.className;if(!clickThrough&&(tagName==='a'&&node.href&&REGEX_HTTP_S.test(node.href)||(REGEX_BUTTON_INPUT.test(tagName)&&node.type==='submit')&&node.form&&REGEX_HTTP_S.test(node.form.action))){clickThrough=true;if(REGEX_SOCIAL_CLICK_TROUGH.test(cls)){socialClickTrough=true;}
else if(REGEX_LOCATOR_CLICK_TROUGH.test(cls)){locatorClickThrough=true;}
else{otherClickThrough=true;}}
if(REGEX_SOCIALSHARE.test(cls)){this.setStateValue('socialShareClicks',increment);socialCompClick=true;}
else if(REGEX_HASHTAGGER.test(cls)){this.setStateValue('hashTaggerClicks',increment);socialCompClick=true;}
else if(REGEX_LOCATOR.test(cls)){this.setStateValue('locatorClicks',increment);locatorCompClick=true;}
if(!ruleNodeClicked){if(key=node.getAttribute(BRAND_RULE_ATTR)){if(rh=this.getRule(key)){rule=rh;ruleNodeClicked=true;}}
if(!ruleNodeClicked){if(contextRule&&contextNodes){contextNodes.forEach(function(node,i){var el;if(typeof node==='string'&&node.length&&(el=$.get(node,context))){contextNodes[i]=el;}});if(contextNodes.indexOf(node)!==-1){ruleNodeClicked=true;}}}}
if(!targetNodeClicked){if(content=node.getAttribute(DMP_TARGET_ATTR)){content=normalizeDMPString(content);label=node.getAttribute(DMP_LABEL_ATTR)||node.title||node.textContent||'';action=node.getAttribute(DMP_ACTION_ATTR);if(content&&label){if(!action){if(clickThrough){action=DMP_ACTION_CLICK_THROUGH;}else{action=DMP_ACTION_CUSTOM;}}}
targetNodeClicked=true;}}
node=node.parentElement;}
if(rule){if(ruleNodeClicked){this.setRuleStateValue('clickCount',increment,rule);}
if(otherClickThrough){this.setRuleStateValue('clickThroughCount',increment,rule);}
this.ruleToBeTrackedOnClose(rule);}
if(clickThrough){if(socialClickTrough||socialCompClick){this.setStateValue('clickTroughSocial',increment);}
else if(locatorClickThrough||locatorCompClick){this.setStateValue('clickTroughLocator',increment);}
else{this.setStateValue('clickTroughOther',increment);}}
this.trigger('update');if(targetNodeClicked){if(action&&!isEncoded(action)){action=encodeURIComponent(action);}
if(content&&!isEncoded(content)){content=encodeURIComponent(content);}
if(label&&!isEncoded(label)){label=encodeURIComponent(label);}
if(rule){product_id=rule.product_id||0;feature_id=rule.feature_id||0;}
dmpParams=$.extend({},DMP_PARAMS_COMMON,{c_campaign:C_CAMPAIGN_VALUE,c_action:action||'',c_content:content||'',c_product:product_id||0,c_feature:feature_id||0});if((hash=objToString(dmpParams))&&!(hash in _trackedParams)||force){_trackedParams[hash]=true;return{dmpParams:dmpParams,other:{label:label||'',trait_type:TRAIT_TYPE_INTERACTION}};}}
return false;},getTrackParams:function(action,content,label,rule_id){if(action&&!isEncoded(action)){action=encodeURIComponent(action);}
if(content&&!isEncoded(content)){content=encodeURIComponent(content);}
if(label&&!isEncoded(label)){label=encodeURIComponent(label);}
var product_id=0,feature_id=0,rule=this.getRule(rule_id);if(rule){product_id=rule.product_id||0;feature_id=rule.feature_id||0;}
var dmpParams=$.extend({},DMP_PARAMS_COMMON,{c_campaign:C_CAMPAIGN_VALUE,c_action:action||'',c_content:content||'',c_product:product_id,c_feature:feature_id});if((hash=objToString(dmpParams))&&!(hash in _trackedParams)){_trackedParams[hash]=true;return{dmpParams:dmpParams,other:{label:label||'',trait_type:TRAIT_TYPE_INTERACTION}};}
return false;},getAdobePixelParams:function(p){var params={d_event:p.d_event||DMP_PARAMS_COMMON.d_event,d_src:p.d_src||DMP_PARAMS_COMMON.d_src,c_brand:p.c_brand||DMP_PARAMS_COMMON.c_brand,c_campaign:p.c_campaign||C_CAMPAIGN_VALUE,c_ttype:p.trait_type||''};if(p.trait_type===TRAIT_TYPE_INTERACTION){params.c_content=p.c_content||'';params.c_action=p.c_action||'';}
if(p.trait_type===TRAIT_TYPE_INTEREST){params.c_int_level=p.c_int_level;}
if(p.trait_type===TRAIT_TYPE_USER_PROFILE){params.c_user_profile=p.c_user_profile;}
if(p.trait_type===TRAIT_TYPE_DYNO_RULE){params.c_dyno_rule=p.c_dyno_rule;}
if('c_product'in p){params.c_product=p.c_product;}
if('c_feature'in p){params.c_feature=p.c_feature;}
return params;},getIOLineTraitParams:function(){var dmpParams=$.extend({},DMP_PARAMS_COMMON,{c_campaign:C_CAMPAIGN_VALUE});if((hash=objToString(dmpParams))&&!(hash in _trackedParams)){_trackedParams[hash]=true;return{dmpParams:dmpParams,other:{trait_type:TRAIT_TYPE_IO_LINE}};}
return false;},handlePostTracking_:function(){if(_unitTracked)return;_unitTracked=true;this.trackParams_({trait_type:TRAIT_TYPE_BRAND});if(DYNAMIC_RULE_ID){this.trackParams_({c_dyno_rule:DYNAMIC_RULE_ID,trait_type:TRAIT_TYPE_DYNO_RULE});}
_toBeTracked.forEach(function(rule){This.trackRule(rule);});_toBeTracked.length=0;this.trackInterestLevel();this.trackUserProfile();},calcInterest:function(idOrAlias){var stats=this.getRuleStats(idOrAlias);if(stats){if(stats.timeSpent>=20||stats.clickCount>=8||stats.clickThroughCount>0||stats.videoCompletion>=75){return INTEREST_LEVEL_HIGH;}else if(stats.timeSpent>=10||stats.clickCount>=4||stats.videoCompletion>=25){return INTEREST_LEVEL_MODERATE;}}
return INTEREST_LEVEL_LOW;},setRuleStateValue:function(prop,val,idOrAlias){var stats=this.getRuleStats(idOrAlias);if(stats){if(typeof val==='function'){stats[prop]=val(stats,prop);}else{stats[prop]=val;}
this.trigger('update');}
return this;},setStateValue:function(prop,val){if(typeof val==='function'){commonStats[prop]=val(commonStats,prop);}else{commonStats[prop]=val;}
this.trigger('update');return this;},getRuleStateValue:function(prop,val,idOrAlias){var stats=this.getRuleStats(idOrAlias);if(stats&&(prop in stats)){return stats[prop];}
return false;},getStateValue:function(prop){if(prop in commonStats){return commonStats[prop];}
return false;},trackInterestLevel:function(){var prodLvl={},pId,lvl;Object.keys(statsHolder).forEach(function(key){var rule=This.getRule(key);if(rule){pId=rule.product_id;lvl=This.calcInterest(rule);if(!(pId in prodLvl))prodLvl[pId]=0;if(prodLvl[pId]<lvl)prodLvl[pId]=lvl;}});Object.keys(prodLvl).forEach(function(id){This.trackParams_({c_product:parseInt(id)||1,c_int_level:prodLvl[id],trait_type:TRAIT_TYPE_INTEREST});});return this;},trackUserProfile:function(){var params={trait_type:TRAIT_TYPE_USER_PROFILE};if(this.isUserInMarketBuyer()){params.c_user_profile=PROFILE_INMARKET_BUYER;this.trackParams_(params);}
if(this.isUserSociallyActive()){params.c_user_profile=PROFILE_SOCIALLY_ACTIVE;this.trackParams_(params);}
return this;},isUserSociallyActive:function(){if(commonStats.socialShareClicks>=3||commonStats.clickTroughSocial>0){return true;}
return false;},isUserInMarketBuyer:function(){if(commonStats.locatorClicks>=3||commonStats.clickTroughLocator>0||commonStats.clickTroughOther>0){return true;}
return false;},trackParams_:function(dmpParams,params){var dmpParamsFull=$.extend({},DMP_PARAMS_COMMON,dmpParams);if((hash=objToString(dmpParamsFull))&&!(hash in _trackedParams)){_trackedParams[hash]=true;$.load($.baseUrl+'v3/frontend/creatives/viewstart.js',$.extend({},ENV_DATA,dmpParamsFull||{},params||{}));var filtered=this.getAdobePixelParams(dmpParamsFull);this.trackPixel(filtered);}},trackPixel:function(params){var src=DEMDEX_TRACK+Object.keys(params).map(function(k){return k+'='+params[k];}).join('&');(new Image()).src=src;},ruleToBeTrackedOnClose:function(idOrAlias){var rule=this.getRule(idOrAlias);if(rule&&rule.alias&&!(rule.alias in _addedToBeTracked)){_addedToBeTracked[rule.alias]=true;_toBeTracked.push(rule);}
return this;},trackRule:function(idOrAlias){var rule=this.getRule(idOrAlias);if(!rule)return false;if(_tracked.product.indexOf(rule.product_id)===-1){this.trackParams_({c_product:rule.product_id,trait_type:TRAIT_TYPE_PRODUCT});_tracked.product.push(rule.product_id);}
if(rule.feature_id&&_tracked.feature.indexOf(rule.feature_id)===-1){this.trackParams_({c_product:rule.product_id,c_feature:rule.feature_id,trait_type:TRAIT_TYPE_FEATURE});_tracked.feature.push(rule.feature_id);}
return this;},setContextRule:function(idOrAlias,nodes,params){this.clearContextRule();var rule=this.getRule(idOrAlias);if(!rule)return false;contextRuleId=rule.id;contextRule=rule;contextParams=params||{};activeStats=this.getRuleStats(rule.id);this.setContextRuleNodes(nodes);this.startTimeSpentTracking();this.ruleToBeTrackedOnClose(rule);this.trigger('update');return this;},setContextRuleNodes:function(nodes){if(contextRule){if(typeof nodes==='function'){nodes=nodes(contextNodes||[]);}
if(nodes&&(typeof nodes==='object'||typeof nodes==='string')){contextNodes=$.isArray(nodes)?nodes:[nodes];}}
return this;},clearContextRule:function(){this.stopAndUpdateTimeSpent();contextRuleId=false;contextRule=null;activeStats=null;contextParams=null;this.trigger('update');return this;},startTimeSpentTracking:function(){if(!tsStartTime)tsStartTime=$.getTimeStamp();return this;},stopAndUpdateTimeSpent:function(){var spent;if(tsStartTime){spent=$.getTimeStamp()-tsStartTime;this.setRuleStateValue('timeSpent',function(prev,prop){return prev[prop]+spent;});tsStartTime=0;}
return this;},getContextRule:function(){return contextRule;},getRuleStats:function(idOrAlias){var rule=this.getRule(idOrAlias),stats;if(rule){if(!(stats=statsHolder[rule.id])){stats=$.extend({},DEFAULT_RULE_STATS);statsHolder[rule.id]=stats;}
return stats;}
return false;},getRule:function(idOrAlias){if(typeof idOrAlias==='undefined'){idOrAlias=contextRule;}
if(idOrAlias&&typeof idOrAlias==='object'&&'product_id'in idOrAlias){return idOrAlias;}
if(REGEX_PRODUCT_FEATURE.test(idOrAlias)){var idPair=idOrAlias.split('_');return{id:idOrAlias,alias:'product_'+idPair[0]+'_feature_'+idPair[1],product_id:parseInt(idPair[0]),feature_id:parseInt(idPair[1])};}else if(REGEX_STRING_NUMBER.test(typeof idOrAlias)){if(REGEX_INTEGER.test(String(idOrAlias))){return idMap[parseInt(idOrAlias)];}else{return aliasMap[idOrAlias];}}
return false;},dmpString:normalizeDMPString});function increment(prev,prop){return prev[prop]+1;}
function normalizeDMPString(str){return str?String(str).replace(REGEX_DMP_PROP,'_').replace(/_$/,'').toLowerCase():'';}
function objToString(obj){var p,str='_';for(p in obj)if(obj.hasOwnProperty(p))str+=p+'='+obj[p]+'_';return str;}
function isEncoded(str){return typeof str==='string'&&decodeURIComponent(str)!==str;}
function initStatisticsBox(){var box=$.elem('div','logger',document.body);$.css(box,{position:'absolute',background:'#97cbff',padding:'2px',top:0,maxHeight:'600px',overflow:'auto',right:0});This.on('update',render);render.call(This);function render(){box.innerHTML='';$.elem('div','log-prop',box,'<strong>Common stats</strong>');Object.keys(commonStats).forEach(function(key){$.elem('div','log-prop',box,key+': '+commonStats[key]);});Object.keys(statsHolder).forEach(function(key){var rule=This.getRule(key);var stats;if(stats=statsHolder[rule.id]){$.elem('div','log-prop',box,'<strong style="'+(rule===contextRule?'color:red':'')+'">'+rule.alias+'</strong>');Object.keys(stats).forEach(function(key){$.elem('div','log-prop',box,key+': '+stats[key]);});$.elem('div','log-prop',box,'Interest level: '+This.calcInterest(rule.id));}});$.elem('div','log-prop',box,'<strong>Profile</strong>');$.elem('div','log-prop',box,'InMarketBuyer: '+this.isUserInMarketBuyer());$.elem('div','log-prop',box,'SociallyActive: '+this.isUserSociallyActive());}}
return This;};$.ui.Events=function(){var events=[];var register=function(name){var event=new $.ui.Event(name);events[name]=event;};return{on:function(event,callback,unshift){if(event&&!events.hasOwnProperty(event)){register.call(this,event);}
events[event].addCallback(callback,unshift);return this;},off:function(event,callback){if(event){if(event==='*'){events={};}else if(events.hasOwnProperty(event)){events[event].removeCallback(callback);}}
return this;},trigger:function(event,params){var context=this;if(events.hasOwnProperty(event)){var cbs=events[event].callbacks,i;var evtObj={type:event,data:params,cancel:false};for(i=cbs.length-1;i>=0;i--){cbs[i].call(context,evtObj);if(evtObj.cancel===true){break;}}}
return this;}};};$.ui.Event=(function(){function Event(name){this.name=name;this.callbacks=[];}
Event.prototype.addCallback=function(callback,unshift){if(typeof callback==='function'){if(unshift===true){this.callbacks.unshift(callback);}else{this.callbacks.push(callback);}}};Event.prototype.removeCallback=function(callback){if(typeof callback==='function'){var i;for(i=0;i<this.callbacks.length;i++){if(this.callbacks[i]===callback){this.callbacks.splice(i,1);return i;}}}
if(callback==='*'){this.callbacks.length=0;}};return Event;}());$.ui.Element=function(){var createSuperMethod=function(m){return function(){var r,a=arguments,s=this._super[m],f=this[m]._superMethod;this._super[m]=f._superMethod;r=f.apply(this,a);this._super[m]=s;return r;}};return $.extend({},$.ui.Events,{extend:function(ext){var m;for(m in ext){if(m==='_super')continue;if(ext.hasOwnProperty(m)){if(typeof ext[m]=='function'&&/^(on[A-Z]|((pre|post)Init))/.test(m)){this.on(m,ext[m],true);}else{if(typeof this[m]==='function'){if(typeof this._super!=='object'||!this._super){this._super={};}
if(typeof this._super[m]!=='function'){this._super[m]=createSuperMethod(m);}
ext[m]._superMethod=this[m];}
this[m]=ext[m];}}}}});};$.ui.Layout=function(type){var isReady=false;var isOpened=false;return $.extend({},$.ui.Element,{initialize:function(){},open:function(){isOpened=true;if(!isReady){isReady=true;this.trigger('ready');}
this.trigger('open');},close:function(){isOpened=false;this.trigger('close');},getType:function(){return type},isOpened:function(){return isOpened;},isReady:function(){return isReady;},param:function(name,def,type){return $.param(name,def,type);}});};$.ui.Share=function(){var Share={};var BaseUrl=$.baseUrl.replace(/(http|https):/,window.location.protocol);$.extend(Share,$.ui.Events);var socialWallerData,shareButtonData;var availableButtons={'facebook':{title:'Facebook',urlScheme:BaseUrl+'v3/frontend/creatives/shareButtonData.js?id='+ENV.ad_id+'&share_with=facebook'},'twitter':{title:'Twitter',urlScheme:BaseUrl+'v3/frontend/creatives/shareButtonData.js?id='+ENV.ad_id+'&share_with=twitter'},'googleplus':{title:'Google Plus',urlScheme:BaseUrl+'v3/frontend/creatives/shareButtonData.js?id='+ENV.ad_id+'&share_with=googleplus'},'linkedin':{title:'Linked In',urlScheme:BaseUrl+'v3/frontend/creatives/shareButtonData.js?id='+ENV.ad_id+'&share_with=linkedin'},'reddit':{title:'Reddit',urlScheme:BaseUrl+'v3/frontend/creatives/shareButtonData.js?id='+ENV.ad_id+'&share_with=reddit'},'pinterest':{title:'Pinterest',urlScheme:BaseUrl+'v3/frontend/creatives/shareButtonData.js?id='+ENV.ad_id+'&share_with=pinterest'},'stumbleUpon':{title:'StumbleUpon',urlScheme:BaseUrl+'v3/frontend/creatives/shareButtonData.js?id='+ENV.ad_id+'&share_with=stumbleUpon'},'tumblr':{title:'Tumblr',urlScheme:BaseUrl+'v3/frontend/creatives/shareButtonData.js?id='+ENV.ad_id+'&share_with=tumblr'}};var availableSocialWallerButtons={'facebook':{title:'Post to Facebook',urlScheme:BaseUrl+'v3/frontend/creatives/shareButtonData.js?id='+ENV.ad_id+'&share_with=facebook',popUpWidth:600,popUpHeight:460},'twitter':{title:'Post To Twitter',urlScheme:BaseUrl+'v3/frontend/creatives/shareButtonData.js?id='+ENV.ad_id+'&share_with=twitter',popUpWidth:600,popUpHeight:300}};$.extend(Share,{createSocialWallerButton:function(name,extParams,extData){var button=null,params,data;if(availableSocialWallerButtons.hasOwnProperty(name)){params=$.extend({},availableSocialWallerButtons[name],extParams||{});button=$.elem('a','share-button '+name+'-button',{"href":params.urlScheme,"target":'_blank',"title":params.title||'',"data-sw-type":name,"data-name":name+'SocialWallerShareButton',"data-width":params.popUpWidth||'',"data-height":params.popUpHeight||''});$.Tracker.trackLinks(button);}
return button;},createShareButton:function(name,extParams,extData){var button=null,params,data;if(availableButtons.hasOwnProperty(name)){params=$.extend({},availableButtons[name],extParams||{});button=$.elem('a','share-icon '+name+'-icon',{"href":params.urlScheme,"target":'_blank',"title":params.title||'',"data-name":name+'ShareButton',"data-width":params.popUpWidth||'',"data-height":params.popUpHeight||''});$.Tracker.trackLinks(button);}
return button;},createSocialWallerPlayer:function(playerId){var playerSrc,player=null;if(!playerId&&socialWallerData){playerId=socialWallerData.id;}
if(playerId){playerSrc=BaseUrl+'v3/frontend/twitter/player.html?'+$.getHTTPQueryString({id:playerId,ad_id:ENV.ad_id,zone_id:ENV.zone_id,sid:ENV.sid,from:'contobox',server:(BaseUrl.indexOf('.contobox.com')===-1?'dbb1':window.location.hostname.split('.contobox.com')[0])});player=$.elem('iframe','social-waller-frame',{src:playerSrc,frameborder:'no',scrolling:'no'});}
return player;},getShareURL:function(name,data){var scheme,url;if(availableButtons.hasOwnProperty(name)){scheme=availableButtons[name].urlScheme;url=this.parseShareUrl(scheme,data);return url;}
return false;},getSocialWallerShareURL:function(name,data){var scheme,url;if(availableSocialWallerButtons.hasOwnProperty(name)){scheme=availableSocialWallerButtons[name].urlScheme;url=this.parseSocialWallerUrl(scheme,data);return url;}
return false;},parseSocialWallerUrl:function(scheme,data){return scheme.replace('[URL]',$.urlEncode(data.url)).replace('[TEXT]',encodeURIComponent(data.tw_text)).replace('[HASHTAGS]',encodeURIComponent(data.tw_hashtags));},parseShareUrl:function(scheme,data){return scheme.replace('[TITLE]',encodeURIComponent(data.title)).replace('[DESC]',encodeURIComponent(data.description)).replace('[URL]',$.urlEncode($.param('share_url',data.url))).replace('[IMG]',$.urlEncode(data.image));},openPopUpWindow:function(el){var url=el.href,width=el.getAttribute('data-width')||800,height=el.getAttribute('data-height')||600,name=el.getAttribute('data-name')||'',menuBar=el.getAttribute('menubar')||'no',toolBar=el.getAttribute('toolbar')||'no',scrollBars=el.getAttribute('scrollbars')||'yes',resizable=el.getAttribute('resizable')||'yes',winHeight=screen.height,winWidth=screen.width,top=0,left=0;if(winWidth>width){left=Math.round((winWidth-width)/2);}
if(winHeight>height){top=Math.round((winHeight-height)/2);}
var popUp=window.open(url,name,'menubar='+menuBar+',toolbar='+toolBar
+',resizable='+resizable+',scrollbars='+scrollBars
+',width='+width+',height='+height+',left='+left+',top='+top);popUp.focus();},loadSocialWallerData:function(ad_id,sw_id,callback){if(socialWallerData===undefined){$.load(BaseUrl+'v3/frontend/creatives/shareButtonData.js',{id:ad_id,sw_id:sw_id},function(){var data=$.shareButtonData||null;Share.setSocialWallerData(data).trigger('socialWallerDataLoaded',data);if(typeof callback==='function'){callback.call(Share);}});}else{if(typeof callback==='function'){callback.call(this);}}
return this;},handleSocialWallerTracking:function(el,e){var swId=el.getAttribute('data-sw-id')||'';var swType=el.getAttribute('data-sw-type')||'';$.Tracker.trackItem({stat_type:'waller',item_type:'posted',sw_type:swType,sw_id:swId,cboxid:ENV.ad_id,zone_id:ENV.zone_id,sid:ENV.sid});},handleShareButtonClick:function(el,e){e.preventDefault();this.openPopUpWindow(el);return false;},addShareButtonType:function(type,data){if(type&&data){if(typeof data!=='object'){data={urlScheme:data};}
if(data.hasOwnProperty('urlScheme')&&data.urlScheme){availableButtons[type]=data;}}
return this;},setSocialWallerData:function(data){if(data&&typeof data==='object'){socialWallerData=data;}
return this;},setShareButtonData:function(data){if(data&&typeof data==='object'){shareButtonData=data;}
return this;},getSocialWallerData:function(){return socialWallerData;},getSocialWallerType:function(){return socialWallerData&&socialWallerData.type;},getShareButtonData:function(){return shareButtonData;},getSocialWallerButtonTypes:function(){return availableSocialWallerButtons;},getShareButtonTypes:function(){return availableButtons;}});return Share;};$.ui.Banner=function(){var Unit={};$.extend(Unit,$.ui.Element,{ContoBox:$,Type:'Generic',Window:window,iFrame:null,Panel:$.get('#panel'),LayoutType:'generic',Layout:null,Components:[],Features:[],_activeTab:0,_componentMap:{tab:[],piano:[]},_focusedComponents:[],_layoutExt:[],_componentExt:{},initialize:function(config){this.config=config;this._setIFrame();this._initExtensions();this.trigger('preInit');this._initIFrame();this._createLayout();this._createComponents();this._initFeatures();this._initTracking();this._initExtIFrameListener();this.on('ready',function(){this._initLayout();this.Layout.on('ready',(function(){this._initComponents();this.trigger('onInit');}).bind(this));this.open();});this.trigger('postInit');this._load();},_initExtensions:function(){this.config.layout.ext.forEach(function(ext){$.extensions[ext].call(Unit);});},_initFeatures:function(){this.Features.forEach(function(fn){if(typeof fn==='function'){fn.call(Unit);}});},_createLayout:function(){var layout=$.Layout=$.ui.Layout(this.LayoutType);if($.layout){$.layout.call(layout);}
this._layoutExt.forEach(function(obj){layout.extend(obj);});layout.cBoxMain=this;this.Layout=layout;this.trigger('layoutReady');},_createComponents:function(){setComponentsOrder(this.config.components);var brandData=$.param('brandData')||[];this.config.components.forEach(function(cfg){var i,rule,comp=Unit._createComponent(cfg);for(i=0;i<brandData.length;i++){rule=brandData[i];if(rule.target_type==='tab'&&rule.target===comp.param('alias')){comp.brand_rule_id=rule.id;break;}}});this.trigger('componentsReady');},_createComponent:function(cfg){var index=this.Components.length;var component=$.ui.Component(cfg.name,index);var map=this._componentMap[cfg.type];var frameIndex=this._componentMap[cfg.type].length-1;if(cfg['show_as']!=='sub_frame'){frameIndex=frameIndex+1;}
if(!map[frameIndex]){map[frameIndex]=[];}
map[frameIndex].push(index);$.components[cfg.cl].call(component);component.cBoxMain=this;cfg.ext.forEach(function(ext){$.extensions[ext].call(component);});this.Components.push(component);return component;},_initLayout:function(){this.trigger('preLayoutInit');this.Layout.trigger('preInit');this.Layout.initialize();this.Layout.trigger('postInit');this.trigger('postLayoutInit');},_initComponents:function(){this.trigger('preComponentsInit');this.Components.forEach(function(component){component.trigger('preInit');component.initialize();component.trigger('postInit');});this.trigger('postComponentsInit');},_load:function(){var _this=this;$.preLoadImages($.preloads.images,function(){_this.trigger('ready');});},_initExtIFrameListener:function(){this.msgRequrstTypes={};this.registerMsgRequestType('getenvdata',$.extend({ENV:ENV,params:$.params,baseUrl:$.baseUrl,themeUrl:$.themeUrl,uploadsUrl:$.uploadsUrl}));window.addEventListener('message',handleIFrameMessage.bind(this),false);function handleIFrameMessage(e){var message=e.data,resp;if(e.source&&(resp=this.getMsgResponseData(message))){e.source.postMessage(resp,'*');}}},extendLayout:function(obj){this._layoutExt.push(obj);return this;},extendComponent:function(index,obj){if(!this._componentExt[index]){this._componentExt[index]=[];}
this._componentExt[index].push(obj);return this;},registerMsgRequestType:function(message,data){this.msgRequrstTypes[message]=data;},getMsgResponseData:function(message){var data='';if(this.msgRequrstTypes.hasOwnProperty(message)){data=this.msgRequrstTypes[message];return typeof data==='function'?data():data;}
return data;},_componentStateUpdate:function(compKeys){this._focusedComponents.forEach(function(key){Unit.component(key).blur();});Unit.trigger('beforeFocusChanged',{prev:this._focusedComponents,components:compKeys});this._focusedComponents.length=0;compKeys.forEach(function(key){Unit.component(key).focus();Unit._focusedComponents.push(key);});Unit.trigger('focusChanged',{components:this._focusedComponents});},addFeature:function(fn){if(typeof fn==='function'){this.Features.push(fn);}
return this;},openComponent:function(comp){if(comp&&typeof comp==='object'){comp=comp.getIndex();}
var t,f,m=this._componentMap;for(t in m){for(f=0;f<m[t].length;f++){if(m[t][f].indexOf(comp)===-1){continue;}
if(t==='tab'){if(this.Tabs){this.Tabs.openFrame(f);}}else{if(this.Piano){this.Piano.open(f);}}
return;}}},component:function(key){var i,byIndex=!/[^\d]/.test(key);if(byIndex){key=parseInt(key);}
for(i=0;i<this.Components.length;i++){if(byIndex){if(this.Components[i].getIndex()===key){return this.Components[i];}}else{if(this.Components[i].param('css_class')===key||this.Components[i].getType()===key){return this.Components[i];}}}
return null;},getComponentByIndex:function(index){return this.Components[index]||null;},getComponentsByTabIndex:function(tab,subTab){var frames=$.Tabs.getFrameIndexesByTabIndex(tab,subTab);var components=[];frames.forEach(function(index){var cIndexes=Unit._componentMap.tab[index];cIndexes.forEach(function(index){components.push(Unit.component(index));});});return components;},getComponentsByPianoIndex:function(tab){var cIndexes=this._componentMap.piano[tab];var components=[];cIndexes&&cIndexes.forEach(function(index){components.push(Unit.component(index));});return components;},open:function(tabIndex){if(typeof tabIndex==='number'){this._activeTab=tabIndex;}
this.Layout.open();},close:function(){this.Layout.close();return this;},focusedComponents:function(){return this._focusedComponents;},componentMap:function(){return this._componentMap;},position:function(){return $.getOffsets(this.iFrame);},elem:function(){return this.iFrame;},isOpened:function(){return this.Layout.isOpened();},param:function(name,def,type){return $.param(name,def,type);},_setIFrame:function(){},_initIFrame:function(){},_initTracking:function(){}});function setComponentsOrder(arr){var i,order=0;var pc=$.params.components;for(i=0;i<arr.length;i++){if(arr[i].type==='tab'){pc[i].order=order;order++;}}
for(i=0;i<arr.length;i++){if(arr[i].type==='piano'){pc[i].order=order;order++;}}}
return Unit;};$.Banner=$.cBoxMain=(function(){var iFrame,nonSupport=ENV.ifr&&(!ENV.busted&&!(parent.$sf&&parent.$sf.ext));var Banner=$.ui.Banner();var MainCTA=null;function appendMainCTA(){if(MainCTA.parent_){MainCTA.parent_.appendChild(MainCTA);}}
function getStyleSheetPropertyValue(selectorText,propertyName){for(var s=document.styleSheets.length-1;s>=0;s--){var cssRules=document.styleSheets[s].cssRules||document.styleSheets[s].rules||[];for(var c=0;c<cssRules.length;c++){if(cssRules[c].selectorText===selectorText){return cssRules[c].style[propertyName];}}}
return null;}
Banner.extend({Type:'Banner',Window:window,Loader:null,isDynamic:false,isVPAID:false,autoExpand:false,expansionLoaded:false,preInit:function(){this.format=$.param('format').split('x');this.isVPAID=$.params.base.is_vpaid||false;this.isDynamic=$.param('dynamic_width',false,'bool')||this.format[0]==="dynamic";this.autoExpand=$.param('auto_expand',false,'bool')||ENV.expandedShare;this.fallbackMode=ENV.fallback&&(($.param('expand_type')=='none')||nonSupport);this.isStandard=$.param('banner_type','int')===2;var isExpandable=$.param('expand_on')!=='none'&&!$.InBannerLayout&&!this.isStandard;if(isExpandable){$.getAll('a').forEach(function(el){if(el.className.indexOf('main-cta')!==-1){el.parent_=el.parentNode;MainCTA=el;}
el.parentNode.removeChild(el);});}
this.isExpandable=isExpandable;if($.SafeFrames.isSupported(parent)){this._initSafeFrames();}
if(this.isExpandable){if(nonSupport)appendMainCTA();}
if(ENV.noMRAID===false){this._initMRAID();}},postInit:function(){if(this.autoExpand){this.expand();}},onInit:function(){if(!this.Tabs&&this.Components.length){this._componentStateUpdate([0]);}},expand:function(tabIndex){this.trigger('willExpand');if(!this.expansionLoaded){this._loadExpansion(tabIndex);}else if($.Expansion){$.Expansion.open(tabIndex);}},_setIFrame:function(){this.iFrame=$.get('#cbox-fn-'+ENV.sid+'-banner-iframe',parent.document);},_initIFrame:function(){iFrame=this.iFrame;var size=this.format;if(this.isVPAID){size[1]="100%";}
iFrame.frameBorder=0;iFrame.scrolling='no';iFrame.style.position='relative';iFrame.style.margin='0px auto';if(size[0]==='none'){iFrame.style.width='1px';iFrame.style.height='1px';iFrame.style.display='none';}else if(size[0]==='panel-size'){var pw=getStyleSheetPropertyValue('#panel','width');var ph=getStyleSheetPropertyValue('#panel','height');iFrame.style.width=pw||(this.Panel.offsetWidth+'px');iFrame.style.height=ph||(this.Panel.offsetHeight+'px');iFrame.style.visibility='visible';}else if(size[0]==='placement-size'){iFrame.style.width=this.Panel.style.width='100%';iFrame.style.height=this.Panel.style.width='100%';iFrame.style.visibility='visible';}else{iFrame.style.display='block';iFrame.style.width=size[0]+'px';iFrame.style.height=this.isVPAID?size[1]:(size[1]+'px');iFrame.style.visibility='visible';}},_initTracking:function(){var isItNotExpandable=$.param('expand_type')==='none';var layout=$.param('layout');var isActivated=(($.layout==='videoactive')||$.InBannerLayout)?true:false;$.Tracker=this.Tracker=$.ui.Tracker(this.Panel,{defaultTarget:'Banner',actionTracking:isItNotExpandable},Banner);$.Tracker.init();$.Tracker.initTimeSpentTracking($.InBannerLayout||this.isVPAID?{startOnMouseEnter:false,inBannerMode:true}:{startOnMouseEnter:true});var brandData=$.param('brandData');if($.isArray(brandData)){brandData.forEach(function(rule){if(rule.target_type==='cta'&&rule.target){var links=$.getAll('a[data-dmp-target="'+rule.target+'"]');links.forEach(function(link){link.setAttribute('data-brand-rule',rule.alias);});}});}
if($.ui.DMPTracker){$.DMPTracker=$.ui.DMPTracker(this.Panel,{env:'banner',dmpData:$.Tracker.getDmpData(),brandData:$.param('brandData'),envData:{ad_id:ENV.ad_id,zone_id:ENV.zone_id,sid:ENV.sid,domain:encodeURIComponent(ENV.website_domain)},debug:false,});$.DMPTracker.init();}
this.on('expanded',function(){$.Tracker.disableTimeTracking();});this.on('collapsed',function(){$.Tracker.sendTimeSpent();});this.on('beforeFocusChanged',function(e){if($.DMPTracker){var keys=e.data.components;var comp=Banner.component(keys[0]);$.DMPTracker.clearContextRule();var rule_id=comp.brand_rule_id;if(rule_id){$.DMPTracker.setContextRule(rule_id,[comp.getComponentButton(),comp.getComponentFrame()]);}}});this.on('focusChanged',function(e){var keys=e.data.components,comp;var tracker,trackerName;if(isActivated&&keys.length){comp=Banner.component(keys[0]);var disabled=comp.param('disable_tab_view_tracking',false,'bool');if(!disabled){trackerName='tab_tracker_'+(comp.getIndex()+1);if(tracker=comp.getTracker(trackerName)){if(!/^http(s|):/.test(tracker)){$.Tracker.callAsIframe(trackerName,tracker);}else{$.Tracker.call(tracker);}}
var params={name:'View',target:comp.toString()};if($.DMPTracker){var tab_title=comp.getTitle();var tab_alias=comp.param('alias');var dmpData=$.DMPTracker.getTrackParams(DMP_ACTION_TAB_VISIT,tab_alias,tab_title);if(dmpData){$.extend(params,dmpData.other||{},dmpData.dmpParams||{});}}
$.Tracker.action(params);}}
isActivated=true;});$.Tracker.triggerInitialBannerTrackers=function(){$.Tracker.start();if(layout==="videoactive"||layout==="nativeq"){$.Tracker.impression();}
$.Tracker.callAsIframe('addition_tracker',ENV.additionTrackers);$.Tracker.callAsIframe('zone_addition_tracker',ENV.zoneAdditionTrackers);};if(layout!=="videoactive"){$.Tracker.triggerInitialBannerTrackers();}
if($.param('expand_on')!=='none'){$.disableVideoTracking=true;}},_initLayout:function(){this._super._initLayout.call(this);if(!ENV.mobiledemo&&!ENV.fallback&&!$.InBannerLayout&&nonSupport){$.addClass(document.body,'cbox-no-supported');}else{var expandButton=$.get('#expand-button');if(expandButton){$.events.on(expandButton,'click',function(){Banner.expand();});}}},_initMRAID:function(){$.initMRAID(function(){$.Banner.on('expansionLoaded',function(){$.Expansion.Window.ContoBox.mraid=$.mraid;});$.events.on(parent.document,'touchstart',function(e){if(navigator.userAgent.match(/Android/i)){e.preventDefault();}});Banner.trigger('mraidReady');});},_initSafeFrames:function(){var format=$.param('format');($.sf=this.sf=$.SafeFrames({defaultView:parent})).on('expand',function(e){$.css($.Banner.elem(),{left:e.data.l,top:e.data.t,position:'absolute'});}).on('collapse',function(e){setTimeout(function(){$.css($.Banner.elem(),{left:'',top:'',position:''});},100);}).init(format);if(!this.isExpandable){return;}
if($.sf.vendor!=='yahoo'){var body=document.body;$.addClass(body,'cbox-banner-disabled');$.sf.testExpansion(function(supported){$.removeClass(body,'cbox-banner-disabled');if(!supported&&!ENV.fallback&&!$.InBannerLayout&&!ENV.mobiledemo){$.addClass(body,'cbox-no-supported');appendMainCTA();}});}},_showLoader:function(){$.Banner.isLoading=true;var loader=$.elem('div','cbox-fn-banner-loader');var el,elst,rgb;var vendorTransform=$.isCSS3Supported("transform");var loaderbars=10;var tPrefix=$.vendorPrefix?$.vendorPrefix.js+"Transform":"transform";var angle=0;var step=(2*Math.PI)/loaderbars;var i;this.Loader=loader;function compileRGB(rgb){return"rgb("+rgb+","+rgb+","+rgb+")";}
for(i=0;i<loaderbars;i++){rgb=Math.round(i/loaderbars*255);el=document.createElement("div");elst=el.style;elst.background=compileRGB(rgb);elst.top=Math.round(el.offsetHeight/2+50*Math.sin(angle))+"px";elst.left=Math.round(el.offsetWidth/2+50*Math.cos(angle))+"px";el.className="cbox-fn-bl-i cbox-fn-bl-i-"+i;if(vendorTransform&&elst[tPrefix]!==undefined){elst[tPrefix]="rotate("+(i/loaderbars*360+90)+"deg)";}else{el.className+=" notr";}
angle+=step;loader.appendChild(el);}
this.Panel.appendChild(loader);function animLoader(){for(i=0;i<loaderbars;i++){el=loader.children[i];rgb=parseInt(el.style.background.split("rgb(")[1],10)-5;if(rgb<=0){rgb=255;}
el.style.background=compileRGB(rgb);}
if($.Banner.isLoading===true){window.requestAnimationFrame(animLoader);}}
this.__animLoaderReq=window.requestAnimationFrame(animLoader);loader.style.visibility='visible';},_hideLoader:function(){if(this.Loader){$.Banner.isLoading=false;this.Loader.style.visibility='hidden';window.cancelRequestAnimationFrame(this.__animLoaderReq);}},_loadExpansion:function(tabIndex){this.expansionLoaded=true;var context=parent;if(this.fallbackMode&&ENV.uaCheckData.isIE===true&&parseInt(ENV.uaCheckData.IEVersion,10)<=11){try{context=parent.document&&parent;}catch(ignore){context=window;Banner.isIEFallback=true;}}
$.load({src:$.baseUrl+'v3/frontend/creatives/getcode.js',params:{id:ENV.ad_id,zone_id:ENV.zone_id,lid:ENV.lid,ifr:ENV.ifr?1:0,clicktag:$.urlEncode(ENV.clickTag),ref:$.urlEncode(ENV.ref),fromurl:$.urlEncode(ENV.fromUrl),domain:$.urlEncode(ENV.website_domain),expanded:1,fallback:this.fallbackMode||null,busted:ENV.busted,ltype:ENV.ltype,sid:ENV.sid,tabToOpenOnExpansion:tabIndex,expanded_share:ENV.expandedShare,dyno_tag_params:JSON.stringify(ENV.dyno_tag_values.query),debug_ip:ENV.debugIP,},callback:function(){Banner.trigger('expansionLoaded');var exp=$.Expansion;if(exp){if(exp.Layout.isOpened()){Banner._hideLoader();}else{exp.Layout.on('open',function(){exp.Layout.off('open',arguments.callee);Banner._hideLoader();});}}else{Banner._hideLoader();}
if(Banner.isIEFallback){$.css(exp.elem(),{background:'#fff',position:'absolute',zIndex:9999999});}},window:context});this._showLoader();}});return Banner;}());ENV.mobiledemo=(function(){var ret=false;try{ret=(location.hostname.indexOf("contobox")!==-1&&location.pathname.indexOf("demopage")!==-1&&location.pathname.indexOf("mobile")!==-1)}catch(ignore){}
return ret;}());(function(requestAnimationFrame,cancelAnimationFrame){var HAS_SF=(function(){var has=false;try{if(parent&&parent.$sf){has=true;}}catch(ignore){}
return has;}());var viewability={type:"",method:"",friendly:(function(){var f=false;try{if(window.top.document){f=true;}}catch(ignore){}
return f;}()),percentVisible:0,adID:ENV.ad_id,zoneID:ENV.zone_id,sid:ENV.sid,lid:ENV.lid,fromURL:$.urlEncode(ENV.fromUrl),domain:$.urlEncode((function(url){if(/^(http(s|):|)\/\//.test(url)){var a=document.createElement('a');a.href=url;return a.hostname;}
return url;}(ENV.ref||ENV.fromUrl))),adWidth:0,adHeight:0,adX:0,adY:0,numberOfParentFrames:0,safeframeValue:999,browserWidth:0,browserHeight:0,browserScrollX:0,browserScrollY:0,userAgent:$.urlEncode(window.navigator.userAgent),timeOfInit:Date.now(),timeOfComplete:0,totalTimeSpent:0,trackedgroupm:false,trackediab:false};function trackViewability(opts){if(opts.type){viewability.type=opts.type;if(opts.type==="iab"){viewability.trackediab=true;}else if(opts.type==="groupm"){viewability.trackedgroupm=true;}}
viewability.adWidth=window.innerWidth;viewability.adHeight=window.innerHeight;if(viewability.friendly){viewability.browserWidth=window.top.innerWidth;viewability.browserHeight=window.top.innerHeight;viewability.browserScrollX=window.top.scrollX;viewability.browserScrollY=window.top.scrollY;if(viewability.numberOfParentFrames===0){var context=window;while(context!==window.top){viewability.adX+=context.frameElement.offsetLeft;viewability.adY+=context.frameElement.offsetTop;viewability.numberOfParentFrames+=1;context=context.parent;}}}else{viewability.browserWidth=window.outerWidth;viewability.browserHeight=window.outerHeight;if(HAS_SF){viewability.safeframeValue=parent.$sf.ext.inViewPercentage();}}
viewability.percentVisible=opts.percentVisible;if(viewability.percentVisible<=1){viewability.percentVisible=Math.round(viewability.percentVisible*100);}
viewability.timeOfComplete=Date.now();viewability.totalTimeSpent=viewability.timeOfComplete-viewability.timeOfInit;var viewabilityData=JSON.parse(JSON.stringify(viewability));viewabilityData.timeOfInit=parseInt(viewability.timeOfInit/1000,10);viewabilityData.timeOfComplete=parseInt(viewability.timeOfComplete/1000,10);}
var done=false;var tracking=false;var time;var rAF;var trackedGroupM=false;var trackedIAB=false;function stopIABTracking(success,percentVisible,callback){tracking=false;time=null;if(rAF){cancelAnimationFrame(rAF);rAF=null;}
if(success&&!done){trackedIAB=true;done=trackedGroupM&&trackedIAB;trackViewability({type:"iab",percentVisible:percentVisible});if(done&&callback){callback();}}}
function startIABTracking(percentVisible,callback){if(tracking||trackedIAB){return;}
tracking=true;time=Date.now();var lastcheck=time||trackedIAB;function runTimer(){var now=Date.now();if(now-lastcheck>=500){time=now;}
if(now-time>=1000){return stopIABTracking(true,percentVisible,callback);}
lastcheck=now;rAF=requestAnimationFrame(runTimer);}
rAF=requestAnimationFrame(runTimer);}
function trackGroupM(callback){if(!trackedGroupM){trackViewability({type:"groupm",percentVisible:1});trackedGroupM=true;done=trackedGroupM&&trackedIAB;if(done&&callback){callback();}}}
function rAFthrottle(){var PIXEL_LENGTH=16+4;var pixels=[];function scatterPixels(){var windowWidth=window.innerWidth;var windowHeight=window.innerHeight;if(windowWidth===0||windowHeight===0){requestAnimationFrame(scatterPixels);return;}
document.domain=(function(){return document.domain;}());function throttleembed(){window.iteration=0;window.lastTime=0;window.viewable=false;window.stopAllChecks=false;window.throttleloop=function(t){var diff=t-window.lastTime;if(diff<=60&&(window.__isIE||(window.iteration>parent.pxControl.iteration))){window.viewable=true;}else{window.viewable=false;}
window.lastTime=t;window.iteration+=1;if(window.stopAllChecks===false){requestAnimationFrame(window.throttleloop);}};requestAnimationFrame(window.throttleloop);}
function generateInnerContent(isControl,i){var isIE=ENV.uaCheckData.isEdge||ENV.uaCheckData.isIE11;var str="<!DOCTYPE html><html><head><style type='text/css'>"
+"html, body {background:none;background:transparent;padding:0;margin:0;overflow:hidden;}"
+"</style>"
+"<scr"+"ipt type='text/javascript'>"
+"window.isControl = "+isControl+";"
+"window.iii = "+i+";"
+"window.__isIE = "+isIE+";"
+"</scr"+"ipt>"
+"<"+"/head"+">"
+"<"+"body"+">"
+"<"+"scr"+"ipt type='text/javascript'"+">"
+"(function () {"
+"'use strict';"
+throttleembed.toString()
+"throttleembed();"
+"}());"
+"<"+"/scr"+"ipt"+">"
+"</"+"body"+">"
+"</"+"html"+">";return str;}
function createPixel(x,y,isControl){var pixel;pixel=document.createElement("iframe");pixel.setAttribute("width","1");pixel.setAttribute("height","1");pixel.src="about:blank";var important=" !important;";pixel.style.cssText=["width: 1px","height: 1px","position: absolute","border: none","padding: 0","margin: 0","background: none","pointer-events: none"].join(important);document.body.appendChild(pixel);pixel.contentWindow.document.open();pixel.contentWindow.document.write(generateInnerContent(isControl,pixels.length));pixel.contentWindow.document.close();pixels.push(pixel);pixel.style.left=x+"px";pixel.style.top=y+"px";return pixel;}
var len=PIXEL_LENGTH;var i,x,y;for(i=0;i<4;i++){x=y=0;if(i%2===0){x=Math.round(windowWidth*(1/2));}else{x=Math.round(windowWidth*(1/2))+1;}
if(i<2){y=Math.round(windowHeight*(1/2));}else{y=Math.round(windowHeight*(1/2))+1;}
createPixel(x,y,false);len-=1;}
var rows=Math.ceil(Math.sqrt(len));var xOffset=Math.round(windowWidth/(rows-1));var yOffset=Math.round(windowHeight/(rows-1));var j;for(i=0;i<rows;i++){x=y=0;y=Math.min(windowHeight-1,i*yOffset);for(j=0;j<rows;j++){x=Math.min(windowWidth-1,j*xOffset);createPixel(x,y,false);}}
window.pxControl=createPixel(-9999999,-9999999,true).contentWindow;}
function pixelcountloop(){var activePixels=pixels.filter(function(p){return p.contentWindow.viewable;}).length;var percentVisible=activePixels/PIXEL_LENGTH;if(percentVisible>=0.5){if(percentVisible>=0.99){trackGroupM();}
startIABTracking(percentVisible);}else{stopIABTracking();}
if(!done){requestAnimationFrame(pixelcountloop);}else{pixels.forEach(function(p){p.contentWindow.stopAllChecks=true;p.contentWindow.viewable=false;p.parentElement.removeChild(p);});pixels=[];}}
scatterPixels();requestAnimationFrame(pixelcountloop);}
function checkIframeVisibility(x,y){var browser={startX:window.screenX+16,startY:window.screenY+68,endX:window.screenX+window.outerWidth,endY:window.screenY+window.outerHeight,};var iframe={x:x,y:y,width:window.innerWidth,height:window.innerHeight,visibleX:0,visibleY:0,};iframe.visibleX=iframe.x-browser.startX;if(iframe.visibleX<0){iframe.visibleX=Math.max(0,iframe.width+iframe.visibleX);}else{iframe.visibleX=Math.max(0,Math.min(iframe.width,(browser.endX-iframe.x)));}
iframe.visibleX/=iframe.width;iframe.visibleY=iframe.y-browser.startY;if(iframe.visibleY<0){iframe.visibleY=Math.max(0,iframe.height+iframe.visibleY);}else{iframe.visibleY=Math.max(0,Math.min(iframe.height,(browser.endY-iframe.y)));}
iframe.visibleY/=iframe.height;if(iframe.visibleX>=0.5&&iframe.visibleY>=0.5){viewability.adX=x;viewability.adY=y;if(iframe.visibleX>=0.99&&iframe.visibleY>=0.99){trackGroupM();}
startIABTracking((iframe.visibleX+iframe.visibleY)/2);}else{stopIABTracking();}}
function ffgeom(){checkIframeVisibility(window.mozInnerScreenX,window.mozInnerScreenY);if(!done){requestAnimationFrame(ffgeom);}}
function iegeom(){var body=document.body;var reqid;body.onmousemove=function(e){var ix=e.screenX-e.offsetX;var iy=e.screenY-e.offsetY;checkIframeVisibility(ix,iy);if(!done&&!reqid){reqid=requestAnimationFrame(function(){reqid=null;body.fireEvent("onmousemove");});}else if(done){body.onmousemove=null;}};body.fireEvent("onmousemove");}
function sfmethod(sf){function sfloop(){if(sf.ext){var ipc=sf.ext.inViewPercentage();if(ipc>=50){if(ipc>=99){trackGroupM();}
startIABTracking(ipc/100);}else{stopIABTracking();}}
if(!done){requestAnimationFrame(sfloop);}}
requestAnimationFrame(sfloop);}
function intersectionobserver(){var observer;observer=new window.IntersectionObserver(function(entries){var ratio=entries[0].intersectionRatio;if(ratio>=0.5){if(ratio>=0.99){trackGroupM(function(){observer.unobserve(document.documentElement);});}
startIABTracking(ratio,function(){observer.unobserve(document.documentElement);});}else{stopIABTracking();}},{threshold:[0.5,0.99]});observer.observe(document.documentElement);}
var topframecontainers=[];function posloop(){if(topframecontainers&&topframecontainers.length){var percentages=[];var positionOnPage={x:0,y:0};topframecontainers.forEach(function(tf){var par=tf.window.parent;var topframecontainer=tf.frame;var pWidth=par.innerWidth;var pHeight=par.innerHeight;var pLeft=par.pageXOffset||(par.document.body.scrollLeft);var pTop=par.pageYOffset||(par.document.body.scrollTop);var topframerect=topframecontainer.getBoundingClientRect();var aWidth=topframerect.width||tf.window.innerWidth;var aHeight=topframerect.height||tf.window.innerHeight;var aLeft=topframecontainer.offsetLeft;var aTop=topframecontainer.offsetTop;var aArea=aWidth*aHeight;positionOnPage.x+=aLeft;positionOnPage.y+=aTop;var oWidth=(function(){var oW;if(aLeft<=pLeft+pWidth){if(pLeft+pWidth>=aLeft+aWidth){oW=(aLeft+aWidth)-pLeft;}else{oW=(pLeft+pWidth)-aLeft;}}
if(!oW||oW<0){oW=0;}
if(oW>aWidth){return aWidth;}
return oW;}());var oHeight=(function(){var oH;if(aTop<=pTop+pHeight){if(pTop+pHeight>=aTop+aHeight){oH=(aTop+aHeight)-pTop;}else{oH=(pTop+pHeight)-aTop;}}
if(!oH||oH<0){oH=0;}
if(oH>aHeight){return aHeight;}
return oH;}());var oArea=oWidth*oHeight;percentages.push(oArea/aArea);});var percentVisible=percentages.sort()[0];if(percentVisible>=0.5){viewability.adX=positionOnPage.x;viewability.adY=positionOnPage.y;if(percentVisible>=0.99){trackGroupM();}
startIABTracking(percentVisible);}else{stopIABTracking();}
if(!done){requestAnimationFrame(posloop);}}}
if(window.IntersectionObserver){viewability.method="intersectionobserver";requestAnimationFrame(intersectionobserver);return;}
if(viewability.friendly===true){var context=window;while(context!==window.top){topframecontainers.push({frame:context.frameElement,window:context});context=context.parent;}
viewability.method="geometry";viewability.numberOfParentFrames=topframecontainers.length;requestAnimationFrame(posloop);}else{if(HAS_SF){viewability.method="safeframe";return sfmethod(parent.$sf);}
if(window.mozInnerScreenX!==undefined){viewability.method="firefoxgeometry";requestAnimationFrame(ffgeom);}else if(ENV.uaCheckData.isIE10||ENV.uaCheckData.isIE9){viewability.method="iegeometry";requestAnimationFrame(iegeom);}else{viewability.method="requestAnimationFramethrottle";requestAnimationFrame(rAFthrottle);}}
$.events.on(window,"beforeunload",function(){if(!done){trackViewability({type:"beforeunload"});}});}(window.requestAnimationFrame,window.cancelAnimationFrame));$.ui.Component=function(type,index){var hasFocus=false;function initContentScroller(){var el,mode=this.param('content_scroller','no');var horizontal=this.param('scroller_axis','vertical')==='horizontal';if(mode==='component-frame'){el=this.getComponentFrame();}else if(mode==='inner-frame'){el=this.getInnerFrame();}
if(el){this.contentScroller=$.ui.Scroller(el,{horizontal:horizontal});}}
return $.extend({},$.ui.Element,{initialize:function(){initContentScroller.call(this);},getType:function(){return type},getIndex:function(){return index},getInstanceId:function(){return this.param('instance_id');},getTitle:function(){return this.param('title');},getOrder:function(){return this.param('order');},focus:function(){hasFocus=true;this.trigger('focus');},blur:function(){hasFocus=false;this.trigger('blur');},hasFocus:function(){return hasFocus;},getComponentButton:function(){return document.getElementById('component-button-'+this.getIndex());},getComponentFrame:function(){return document.getElementById('component-frame-'+this.getIndex());},getInnerFrame:function(){var type=this.param('type');var sel='.'+type+'-frame-inner';return $.get('#component-frame-'+this.getIndex()+' '+sel);},getComponentTabFrame:function(){if(this.param('type')==='tab'){return this.getComponentFrame().parentNode.parentNode.parentNode.parentNode.parentNode;}else{return this.getComponentFrame().parentNode;}},isTabCurrent:function(){var frame=this.getComponentTabFrame();return $.hasClass(frame,'current');},getTabIndex:function(){var type=this.param('type');var f,m=this.cBoxMain.componentMap()[type];for(f=0;f<m.length;f++){if(m[f].indexOf(index)!==-1){return $.extend({type:type},type==='tab'?$.Tabs?$.Tabs.getTabIndexByFrameIndex(f):{tab:0}:{tab:f});}}
return false;},param:function(name,def,type){var val;var componentData=$.params.components[index]||{};var customParams=(componentData&&componentData['params'])||{};if(customParams&&typeof customParams==='object'&&customParams.hasOwnProperty(name)){val=customParams[name];}else if(componentData.hasOwnProperty(name)){val=componentData[name];}else{val=def;}
return $.parseValue(val,type);},getTracker:function(name){var params=$.params.components[index]||{};var i,tracker=params.custom_trackers||[];for(i=0;i<tracker.length;i++){if(tracker[i].tracker===name){return tracker[i].code||false;}}},getIFrameData:function(name,overrideFn){if(typeof name==='undefined'){name='cBoxIFrame_'+this.getIndex();}
var json,data={ENV:ENV,baseUrl:$.baseUrl,themeUrl:$.themeUrl,uploadsUrl:$.uploadsUrl,params:$.params,component:{id:this.getInstanceId(),index:this.getIndex(),name:this.toString()}};if(typeof overrideFn==='function'){overrideFn.call(this,data);}
try{if(json=JSON.stringify(data)){name+='|'+json;}}catch(ex){}
return name;},getIFrameQueryParams:function(toString,prefix,extra){toString=toString||false;prefix=prefix||'';var params={cb_component_id:this.getInstanceId(),cb_component_index:this.getIndex(),cb_component_name:this.toString()};$.extend(params,extra||{});if(toString){params=prefix+$.getHTTPQueryString(params);}
return params;},switchTipSequence:function(name){this.cBoxMain.switchComponentTipSequence_(this,name);return this;},switchToDefaultTipSequence:function(){this.cBoxMain.switchToDefaultComponentTipSequence_(this);return this;},toString:function(){return'Tab: '+this.getTitle();}});};$.ui.Macro=function(){var Macro={};$.extend(Macro,$.ui.Events);var Data={};var DataCache={};$.MacroData={};if($.ui.Macro.Data){Data=$.ui.Macro.Data();}
$.extend(Macro,{markForReplacement:function(text,el,callback){var markTagName="i";var markTagClass="mmrk";var markOpenTag="<"+markTagName+" class='"+markTagClass+"'>";var markCloseTag="</"+markTagName+">";var matches=[];text=text.replace(/\{(.+?)\}/g,function(match,key){if(DataCache.hasOwnProperty(key)||Data[key.split("(")[0]]){matches.push(match);return markOpenTag+match+markCloseTag;}
return match;});el.innerHTML=text;this.el=el;this.matches=matches;this.markOpenTag=markOpenTag;this.markCloseTag=markCloseTag;this.markTagName=markTagName;this.markTagClass=markTagClass;if(typeof callback==="function"){callback.call(Macro,text);}
return this;},replaceMarks:function(){if(!this.matches){return;}
var _this=this;var qsa=this.markTagName+(this.markTagClass?"."+this.markTagClass:"");var markTags=this.el.querySelectorAll(qsa);var textNode;this.matches.forEach(function(match,idx){_this.replace(match,function(text){textNode=document.createTextNode(text);markTags[idx].parentElement.insertBefore(textNode,markTags[idx]);markTags[idx].parentElement.removeChild(markTags[idx]);});});return this;},replace:function(text,callback,ref){var resultText=text;var cb=[];var cbCount=0;text.replace(/\{(.+?)\}/g,function(match,key){if(DataCache.hasOwnProperty(key)){resultText=resultText.replace(match,DataCache[key]);}else{var path,argsStr='',args=[],b,i,prop,refd=Data,val=null;if(key.indexOf('(')!==-1){path=key.substr(0,key.indexOf('(')).split('.');argsStr=key.substring(key.indexOf('(')+1,key.lastIndexOf(')'));}else{path=key.split('.');}
if(argsStr.length){for(b=0,i=0;i<argsStr.length;i++){if(argsStr.charAt(i)===','&&argsStr.charAt(i-1)!=='\\'){args.push($.trim(argsStr.substring(b,i).replace(/\\,/g,",").replace(/\\'/g,"'")));b=i+1;}}
args.push(argsStr.substring(b,i));}
for(i=0;i<path.length;i++){prop=path[i];if(refd.hasOwnProperty(prop)&&refd[prop]!==null){if(typeof refd[prop]==='object'){refd=refd[prop];}else{val=refd[prop];break;}}else{break;}}
if(typeof val==='function'){cb.push({func:val,args:args,match:match,key:key});}else{if(val!==null){resultText=resultText.replace(match,val);DataCache[key]=val;}}}});cbCount=cb.length;var macroCbs=[];if(cbCount===0){callback.call(Macro,resultText);}else{cb.forEach(function(cb){cb.args.unshift(function(val,macroCb){cbCount=cbCount-1;if(val!==null){resultText=resultText.replace(cb.match,val);if(typeof macroCb==='function'){macroCbs.push(macroCb);}else{DataCache[cb.key]=val;}}
if(cbCount===0){callback.call(Macro,resultText);macroCbs.forEach(function(cb){cb();});}});cb.func.apply(ref||{},cb.args);});}
return this;},extend:function(obj){$.extend(Data,obj);return this;},clear:function(key){if(key===undefined){DataCache={};}else{if(DataCache.hasOwnProperty(key)){delete DataCache[key];}}
return this;}});return Macro;};$.ui.Macro.Data=function(){var JSSTR="javascript";var baseUrl=$.baseUrl;var Data={Weather:function(callback,key){var uri={degree_c:baseUrl+'v3/frontend/macros/weather.js?query=degree_c',degree_f:baseUrl+'v3/frontend/macros/weather.js?query=degree_f',condition:baseUrl+'v3/frontend/macros/weather.js?query=condition'};var respKey='Weather.'+key;if(uri.hasOwnProperty(key)){$.load(uri[key],{key:respKey},function(){var resp=$.MacroData[respKey];if(resp.code===200){resp=resp.data;}else{resp=resp.err||null;}
callback.call(Data,resp);});}else{callback.call(Data,null);}},Geo:function(callback,key){var uri={city:baseUrl+'v3/frontend/macros/geo.js?query=city',country:baseUrl+'v3/frontend/macros/geo.js?query=country'};var respKey='Geo.'+key;if(uri.hasOwnProperty(key)){$.load(uri[key],{key:respKey},function(){var resp=$.MacroData[respKey];if(resp.code===200){resp=resp.data;}else{resp=resp.err||null;}
callback.call(Data,resp);});}else{callback.call(Data,null);}},Tab:function(callback,index,text,cssClass){var resp=null;var a=document.createElement('a');a.setAttribute('onclick','ContoBox.Tabs.openTab('+index+');');a.innerHTML=text||'';a.href=JSSTR+':void(0);';a.target='_blank';a.className=cssClass||'';resp=a.outerHTML;callback.call(Data,resp);},Piano:function(callback,index,text,cssClass){var resp=null;var a=document.createElement('a');a.setAttribute('onclick','ContoBox.Piano.open('+index+');');a.innerHTML=text||'';a.href=JSSTR+':void(0);';a.className=cssClass||'';resp=a.outerHTML;callback.call(Data,resp);},Component:function(callback,index,text,cssClass){var resp=null;var a=document.createElement('a');a.setAttribute('onclick','ContoBox.cBoxMain.openComponent('+index+');');a.innerHTML=text||'';a.href=JSSTR+':void(0);';a.target='_blank';a.className=cssClass||'';resp=a.outerHTML;callback.call(Data,resp);},ShareButton:function(callback,key,cssClass){var oShare=$.ui.Share();oShare.loadSocialWallerData(ENV.ad_id,function(){var phId='share_btn_ph_'+key;var resp='<span id="'+phId+'"></span>';callback.call(Data,resp,function(){var ph=document.getElementById(phId);var button=oShare.createSocialWallerButton(key);button.className+=' '+(cssClass||'');ph.parentNode.insertBefore(button,ph);ph.parentNode.removeChild(ph);});});},SocialLink:function(callback,type,cssClass){var resp=null;var links=$.params.base.socialLinks||[],url;var i;for(i=0;i<links.length;i++){if(links[i].type===type){url=links[i].link;}}
if(url){var a=document.createElement('a');a.innerHTML='<span>'+type+'</span>';a.href=url;a.target='_blank';a.className='msg-social-'+type+' '+(cssClass||'');resp=a.outerHTML;}
callback.call(Data,resp);},SocialUrl:function(callback,type){var resp=null;var links=$.params.base.socialLinks||[];var i;for(i=0;i<links.length;i++){if(links[i].type===type){resp=links[i].link;}}
callback.call(Data,resp);},Link:function(callback,key,cssClass){var links=$.params.base.custom_links||[];var link,resp=null,i;if(key==='mainCTA'){link={title:$.params.base.main_cta_title,link:$.params.base.main_cta};}else{for(i=0;i<links.length;i++){if(links[i].cssClass===key){link=links[i];break;}}}
if(link){var a=document.createElement('a');a.innerHTML=link.title;a.href=link.link;a.target='_blank';a.className=cssClass||'';resp=a.outerHTML;}
callback.call(Data,resp);},Url:function(callback,key){var links=$.params.base.custom_links||[];var resp=null,i;if(key==='mainCTA'){resp=$.params.base.main_cta;}else{for(i=0;i<links.length;i++){if(links[i].cssClass===key){resp=links[i].link;break;}}}
callback.call(Data,resp);},CustomLink:function(callback,href,text,cssClass){var resp=null;var a=document.createElement('a');a.innerHTML=text||'';a.href=href;a.target='_blank';a.className=cssClass||'';$.Tracker.trackLinks(a);resp=a.outerHTML;callback.call(Data,resp);},FacebookShare:function(callback,label,href,cssClass){var resp=null;var a=document.createElement('a');a.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 23.101 23.101" xml:space="preserve">'
+'<g><path d="M8.258,4.458c0-0.144,0.02-0.455,0.06-0.931c0.043-0.477,0.223-0.976,0.546-1.5c0.32-0.522,0.839-0.991,1.561-1.406 C11.144,0.208,12.183,0,13.539,0h3.82v4.163h-2.797c-0.277,0-0.535,0.104-0.768,0.309c-0.231,0.205-0.35,0.4-0.35,0.581v2.59h3.914 c-0.041,0.507-0.086,1-0.138,1.476l-0.155,1.258c-0.062,0.425-0.125,0.819-0.187,1.182h-3.462v11.542H8.258V11.558H5.742V7.643 h2.516V4.458z"/><g>'
+'</svg>'+'<span>'+(label||'')+'</span>';a.href='https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(href);a.target='_blank';if(!cssClass){cssClass='macro-fb-share-button';}
a.className=cssClass||'';resp=a.outerHTML;callback.call(Data,resp);},TwitterShare:function(callback,label,href,text,hashtags,cssClass){var resp=null;var a=document.createElement('a');a.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="97.637px" height="97.637px" viewBox="0 0 97.637 97.637" xml:space="preserve">'
+'<g><path d="M97.523,18.526c-0.14-0.165-0.371-0.221-0.568-0.131c-2.919,1.295-5.99,2.226-9.153,2.776 c3.358-2.526,5.86-6.024,7.143-10.035c0.062-0.192-0.002-0.402-0.159-0.527c-0.158-0.125-0.377-0.141-0.55-0.038 c-3.782,2.243-7.878,3.824-12.18,4.701c-3.812-3.956-9.135-6.219-14.644-6.219c-11.204,0-20.318,9.114-20.318,20.317 c0,1.355,0.131,2.697,0.391,4c-15.518-0.958-30.028-8.408-39.894-20.509c-0.101-0.124-0.254-0.193-0.414-0.177 c-0.159,0.012-0.301,0.102-0.381,0.239c-1.8,3.088-2.751,6.621-2.751,10.215c0,6.229,2.83,12.053,7.649,15.896 c-2.481-0.298-4.904-1.079-7.089-2.292c-0.147-0.083-0.33-0.082-0.477,0.003c-0.147,0.084-0.24,0.24-0.244,0.41l-0.002,0.26 c0,8.946,5.895,16.801,14.282,19.409c-2.209,0.356-4.501,0.332-6.754-0.098c-0.166-0.031-0.34,0.026-0.454,0.154 c-0.113,0.128-0.151,0.307-0.099,0.469c2.515,7.85,9.503,13.355,17.637,14.041c-6.785,4.971-14.805,7.59-23.279,7.59 c-1.561,0-3.133-0.093-4.673-0.274c-0.22-0.025-0.438,0.106-0.514,0.317c-0.076,0.213,0.005,0.451,0.195,0.572 c9.17,5.881,19.773,8.988,30.664,8.988c35.625,0,56.913-28.938,56.913-56.914c0-0.779-0.015-1.554-0.046-2.327 c3.843-2.811,7.142-6.252,9.802-10.235C97.675,18.929,97.662,18.692,97.523,18.526z"/></g>'
+'</svg>'+'<span>'+(label||'')+'</span>';a.href='https://twitter.com/share?url='+encodeURIComponent(href)
+'&text='+encodeURIComponent(text)
+'&hashtags='+encodeURIComponent(hashtags);a.target='_blank';if(!cssClass){cssClass='macro-tw-share-button';}
a.className=cssClass||'';resp=a.outerHTML;callback.call(Data,resp);},Func:function(callback,index,func,text,cssClass){var resp=null;var a=document.createElement('a');if(index==='null'){a.setAttribute('onclick','try { ContoBox.cBoxMain.'+func+'(); } catch (e){};');}else{a.setAttribute('onclick','try { ContoBox.cBoxMain.component('+index+').'+func+'(); } catch (e){};');}
a.innerHTML=text||'';a.href=JSSTR+':void(0);';a.target='_blank';a.className=cssClass||'';resp=a.outerHTML;callback.call(Data,resp);},Event:function(callback,index,event,text,cssClass){var resp=null;var a=document.createElement('a');if(index==='null'){a.setAttribute('onclick','try { ContoBox.cBoxMain.trigger("'+event+'"); } catch (e){};');}else{a.setAttribute('onclick','try { ContoBox.cBoxMain.component('+index+').trigger("'+event+'"); } catch (e){};');}
a.innerHTML=text||'';a.href=JSSTR+':void(0);';a.target='_blank';a.className=cssClass||'';resp=a.outerHTML;callback.call(Data,resp);},DaysLeft:function(callback,date){var formatting=date.match(/\[.*\]/);if(formatting){formatting=formatting[0].slice(1,-1).split("|");date=date.split("[")[0];}else{if($.params.base.lang==="fr"){formatting=["N jours","N jour"];}else{formatting=["N days left","N day left"];}}
date=date.split(/\-0__AST_FWDSLSH__);var oDate=new Date(parseInt(date[0],10),parseInt(date[1],10)-1,parseInt(date[2],10),23,59,59,0);var oNow=new Date();var num=Math.max(0,Math.ceil(((oDate.getTime()-oNow.getTime())/1000)/86400));var resp=null;function replaceN(str,n){return str.replace(/(\s?)N(\s?)/,function(match){return match.replace("N",n);});}
if(num>1||num===0){resp=replaceN(formatting[0],num);}else if(num===1){resp=replaceN(formatting[1],num);}
callback.call(Data,resp);},Time:function(callback,key){var Now=new Date();var month=['January','February','March','April','May','June','July','August','September','October','November','December'];var weekday=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];var resp=null;switch(key){case'month':resp=month[Now.getMonth()];break;case'day':resp=Now.getDate();break;case'weekday':resp=weekday[Now.getDay()];break;case'year':resp=Now.getFullYear();break;default:break;}
callback.call(Data,resp);},Distance:function(callback,key,brand){var uri={nearest:baseUrl+'v3/frontend/macros/getNearestRetailer.js',};var respKey='Distance.'+key;if(uri.hasOwnProperty(key)){$.load(uri[key],{key:respKey,brand:brand},function(){var resp=$.MacroData[respKey];if(resp.code===200){resp=resp.data;}else{resp=resp.err||null;}
callback.call(Data,resp);});}else{callback.call(Data,null);}},Literals:{Test:{text_1:'Test text 1',text_2:'Test text 2',text_3:'Test text 3',text:function(callback,arg1,arg2){var textText='Test text:';if(arg1){textText+=' '+arg1;}
if(arg2){textText+=' '+arg2;}
callback.call(Data,textText);}},SomeText:'Some text'}};return Data;};$.ui.Tips=function(context,options){var TipsAPI={};var _this=TipsAPI;$.extend(TipsAPI,$.ui.Events);var opt=$.extend({tipElementSelector:'[data-tip]',allowMultipleTips:false},options||{});var sequenceDefaults={startDelay:5000,switchTimeout:5000,resetOnInteraction:false};var ELEMENTS=[];var TIPS=[];var KEYS={};var TIMERS={};var SHOWING=[];var QUEUE=[];var SEQUENCE={};var sequenceTimer;var sequencePlaying=false;var sequenceTimerIsSet=false;$.events.on(document.body,'click',function(){var seq=TipsAPI.getCurrentSequence();if(seq&&seq.opt.resetOnInteraction){TipsAPI.resetSequenceTimer();}});$.events.on(window,'resize',function(){TipsAPI.hideAllTips();});TipsAPI.Macro=$.ui.Macro();function TipFactory(type,el,params,context,controller){if(!(type in $.ui.Tips.styleTypes)){type='generic';params.style=type;}
return new $.ui.Tips.styleTypes[type](el,params,context,controller);}
$.extend(TipsAPI,{initTipElements:function(){ELEMENTS=$.getAll(opt.tipElementSelector,context);ELEMENTS.forEach(function(el,index){if(!el.tip_){TipsAPI.initTip(el);if(el.tip_){el.tip_.index=index;TIPS.push(el.tip_);}}else{el.tip_.updateOptions();}});return this;},initTips:function(){TIPS.forEach(function(tip){if(!tip.isInitialized()){tip.initTip_();}});return this;},initTip:function(el,params,context){var tip,idx=TIPS.length;if(!el||(typeof el==='object'&&!el.tip_||typeof el==='string'&&el.length)){tip=TipFactory(params.style,el,params,context,this);tip.on('show',function(){_this.trigger('tip-show',{tip:this});});tip.on('hide',function(){var index=SHOWING.indexOf(this);if(index>-1){SHOWING.splice(index,1);}
_this.trigger('tip-hide',{tip:this});});if(typeof tip.name==='string'&&tip.name){KEYS[tip.name]=idx;}
tip.index=idx;TIPS.push(tip);}
return this;},showTip:function(arg,timeout){var idx;if(arg&&typeof arg==='object'){idx=arg.index;}else if(typeof arg==='string'&&arg.length){idx=this.resolveKey_(arg);}else if($.isInt(arg)){idx=arg;}else{return this;}
var timeout=parseInt(timeout)||0;var timer;var tip=TIPS[idx];if(!tip)return this;timer=setTimeout(function(){if(tip){if(!opt.allowMultipleTips){SHOWING.forEach(function(tip){tip.hide(true);});}
if(tip.showOnHover&&sequencePlaying){_this.stopSequence();tip.on('hide',function resume(){this.off('hide',resume);_this.playSequence();});}
tip.show();SHOWING.push(tip);}
if(TIMERS.hasOwnProperty(idx)){delete TIMERS[idx];}},timeout);if(timeout>0){TIMERS[idx]=timer;}
return this;},hideTip:function(key){var tip=this.getTip(key);if(tip){tip.hide();}
return this;},hideAllTips:function(){SHOWING.forEach(function(tip){tip.hide(true);});return this;},getSequenceByName:function(name){if(name in SEQUENCE){return SEQUENCE[name];}
return null;},addSequence:function(seqArr,arg,opt){var key;if(typeof arg==='object'&&arg!==null){opt=arg;arg=false;}
if($.isArray(seqArr)&&seqArr.length){if($.isInt(arg)){QUEUE.splice(arg,0,seqArr);key=arg;}else{if(arg){key=QUEUE.length;QUEUE.push(seqArr);}else{key=0;QUEUE.unshift(seqArr);}}
if(!seqArr.opt||typeof seqArr.opt!=='object'){seqArr.opt=sequenceDefaults;}
$.extend(seqArr.opt,opt||{});}
return key;},removeSequence:function(arg){var ret=null;if($.isArray(arg)){arg=QUEUE.indexOf(arg);if(arg>-1){ret=QUEUE.splice(arg,1);}}else{if($.isInt(arg)){ret=QUEUE.splice(arg,1);}else{if(arg){ret=QUEUE.pop();}else{ret=QUEUE.shift();}}}
return ret;},addToSequence:function(seqKey,tipKey,arg){var Seq;if(seqKey in SEQUENCE){Seq=SEQUENCE[seqKey];}
if(tipKey&&typeof tipKey==='object'){tipKey=tipKey.name;}
if(Seq){if($.isInt(arg)){Seq.splice(arg,0,tipKey);}else{if(arg){Seq.push(tipKey);}else{Seq.unshift(tipKey);}}}
return this;},removeFromSequence:function(seqKey,tipKey){var Seq,idx;if(seqKey in SEQUENCE){Seq=SEQUENCE[seqKey];}
if(tipKey&&typeof tipKey==='object'){tipKey=tipKey.name;}
if(Seq){idx=Seq.indexOf(tipKey);if(idx>-1){Seq.splice(idx,1);}}
return this;},playSequence:function(startDelay,switchTimeout){var tip,seq,timeout,o;if(sequencePlaying||!(o=_this.getNextSeqTip_())){return this;}
if($.isInt(startDelay)){timeout=startDelay;}else{timeout=o.seq.started_?(o.tip.switchTimeout||o.seq.opt.switchTimeout):o.seq.opt.startDelay;}
this.clearAllTimers();sequenceTimer=setTimeout(function showTip(){sequenceTimerIsSet=false;if(tip=_this.pullSequenceTip()){tip.on('hide',function handleTipHide(){this.off('hide',handleTipHide);if(sequencePlaying&&!sequenceTimerIsSet){if(seq=_this.getCurrentSequence()){if(seq.started_){timeout=$.isInt(switchTimeout)?switchTimeout:tip.switchTimeout||seq.opt.switchTimeout;}else{timeout=$.isInt(startDelay)?startDelay:seq.opt.startDelay;}
sequenceTimer=setTimeout(showTip,timeout);}}});_this.showTip(tip);}},timeout);sequencePlaying=true;sequenceTimerIsSet=true;return this;},stopSequence:function(){sequencePlaying=false;this.clearAllTimers();return this;},pullSequenceTip:function(){var Seq,tip=null,key=null,s=0,t=0,spliced,cl;seq_loop:while(s<QUEUE.length){spliced=false;if((Seq=QUEUE[s])&&Seq.length){t=0;while(t<Seq.length){key=Seq[t];if(tip=_this.getTip(key)){if(!tip.isInitialized()||tip.disabled()||(cl=tip.isElementClicked())||!tip.isElementVisible()){if(cl){Seq.splice(t,1);spliced=true;}else{t++;}
tip=null;}else{Seq.splice(t,1);spliced=true;break seq_loop;}}else{Seq.splice(t,1);spliced=true;}}
s++;}else{QUEUE.splice(s,1);this.trigger('sequence-ended',{seq:Seq});}}
if(Seq&&spliced){if(!Seq.started_){Seq.started_=true;this.trigger('sequence-stated',{seq:Seq});}
this.trigger('sequence-shifted',{seq:Seq,tip:tip});if(Seq.length===0){QUEUE.splice(s,1);this.trigger('sequence-ended',{seq:Seq});}}
return tip?tip:null;},getNextSeqTip_:function(){var i,j,t;for(i=0;i<QUEUE.length;i++){for(j=0;j<QUEUE[i].length;j++){t=this.getTip(QUEUE[i][j]);if(t&&t.isInitialized()&&!t.disabled()&&!t.isElementClicked()){return{seq:QUEUE[i],tip:t}}}}
return null;},getCurrentSequence:function(){var o=this.getNextSeqTip_();return o&&o.seq;},getNextTip:function(){var o=this.getNextSeqTip_();return o&&o.tip;},clearQueue:function(){this.stopSequence();QUEUE.length=0;return this;},resetSequenceTimer:function(){if(sequencePlaying){this.stopSequence();this.playSequence();}
return this;},isSequencePlaying:function(){return sequencePlaying;},clearTimer:function(key){var idx=this.resolveKey_(key);if(TIMERS.hasOwnProperty(idx)){clearTimeout(TIMERS[idx]);delete TIMERS[idx];}
return this;},clearAllTimers:function(){var idx;clearTimeout(sequenceTimer);sequenceTimerIsSet=false;for(idx in TIMERS){if(TIMERS.hasOwnProperty(idx)){clearTimeout(TIMERS[idx]);delete TIMERS[idx];}}
return this;},updateTip:function(key){var tip=this.getTip(key);if(tip){tip.updateOptions();}
return this;},getTip:function(key){var idx=this.resolveKey_(key);return TIPS[idx]||null;},getTips:function(){return TIPS;},resolveKey_:function(key){if(typeof key==='string'&&key){return KEYS[key];}
return key;},showingTips:function(){return SHOWING;},registerSequence:function(key,seq){if($.isArray(seq)&&typeof key==='string'&&key){SEQUENCE[key]=seq;}
return this;},getRegisteredSequence:function(key){return SEQUENCE[key];},getRegisteredSequences:function(){return SEQUENCE;},getQueue:function(){return QUEUE;}});return TipsAPI;};$.ui.Tip=(function(){function Tip(el,params,context,controller){$.extend(this,$.ui.Events);this.showTimer_=0;this.hideTimer_=0;this.mouseEnterTimer_=0;this.offsetX=0;this.offsetY=0;this.initialized_=false;this.disabled_=false;this.shown_=false;if(!params||typeof params!=='object'){params={};}
this.params_=params;this.setController(controller);this.updateOptions();if(el){if(typeof el==='string'){this.selector=el;this.context=context;}else{this.el=el;}
this.initTip_();}
if(params.name){this.name=params.name;}else{this.name=this.el&&this.el.getAttribute('data-tip-name')||false;}
this.replaceMacros();}
$.extend(Tip.prototype,{setSelector:function(sel){if(sel&&typeof sel==='string'){this.selector=sel;this.initTip_();}
return this;},setElement:function(el){if(el&&typeof el==='object'){this.el=el;this.initTip_();}
return this;},replaceMacros:function(){var _this=this;this.controller_.Macro.replace(this.content,function(text){_this.content=text;});},initTip_:function(){if(this.initialized_)return;if(!this.el&&this.selector){if(!(this.el=$.get(this.selector,this.context))){return false;}}
if(!this.el||typeof this.el!=='object'){return;}
this.el.tip_=this;$.events.on(this.el,'click',Function.prototype.bind.call(Tip.prototype.handleElementClick_,this));$.events.on(this.el,'click',Function.prototype.bind.call(Tip.prototype.handleTipRemove_,this));if(this.showOnHover){$.events.on(this.el,'mouseenter',Function.prototype.bind.call(Tip.prototype.handleElemMouseEnter_,this));$.events.on(this.el,'mouseleave',Function.prototype.bind.call(Tip.prototype.handleElemMouseLeave_,this));}else{if(this.hideOnHover){$.events.on(this.el,'mouseenter',Function.prototype.bind.call(Tip.prototype.handleTipRemove_,this));}}
this.initialized_=true;},setController:function(controller){this.controller_=controller;return this;},updateTipElementWidth_:function(pos){var side,offsetX=this.marginX+10-this.offsetX,tWidth=this.tipEl.offsetWidth,maxWidth=window.innerWidth-20;if(/left|right/.test(pos)){side=/right/.test(pos)?'right':'left';if(tWidth+offsetX>this.ext[side]){this.tipEl.style.width=Math.round(this.ext[side]-offsetX)+'px';}}else if(/^(bottom|top)$/.test(pos)){if(tWidth>maxWidth){this.tipEl.style.width=maxWidth+'px';}}},updateTipElementPosition_:function(pos){var left,top,side,diff,aLeft,marginX=this.marginX,marginY=this.marginY,rect=this.elRect,tWidth=this.tipEl.offsetWidth,tHeight=this.tipEl.offsetHeight,wWidth=window.innerWidth,wHeight=window.innerHeight;if(/overlap/.test(pos)){this.tipArrow.style.display='none';}
if(pos==='left'){left=rect.left-tWidth-marginX;top=rect.top+rect.height/2-tHeight/2;}else if(pos==='top'){top=rect.top-tHeight-marginY;left=rect.left+rect.width/2-tWidth/2;}else if(pos==='bottom'){top=rect.bottom+marginY;left=rect.left+rect.width/2-tWidth/2;}else if(pos==='right'){left=rect.right+marginX;top=rect.top+rect.height/2-tHeight/2;}else if(pos==='bottom-right'){top=rect.bottom+marginY;left=rect.right+marginX;}else if(pos==='bottom-left'){left=rect.left-tWidth-marginX;top=rect.bottom+marginY;}else if(pos==='top-left'){left=rect.left-tWidth-marginX;top=rect.top-tHeight-marginY;}else if(pos==='top-right'){top=rect.top-tHeight-marginY;left=rect.right+marginX;}else if(pos==='left-overlap'){left=rect.left+marginX;top=rect.top+rect.height/2-tHeight/2;}else if(pos==='top-overlap'){top=rect.top+marginY;left=rect.left+rect.width/2-tWidth/2;}else if(pos==='bottom-overlap'){top=rect.bottom-marginY-tHeight;left=rect.left+rect.width/2-tWidth/2;}else if(pos==='right-overlap'){left=rect.right-marginX-tWidth;top=rect.top+rect.height/2-tHeight/2;}else if(pos==='bottom-right-overlap'){top=rect.bottom-marginY-tHeight;left=rect.right-marginX-tWidth;}else if(pos==='bottom-left-overlap'){top=rect.bottom-marginY-tHeight;left=rect.left+marginX;}else if(pos==='top-left-overlap'){top=rect.top+marginY;left=rect.left+marginX;}else if(pos==='top-right-overlap'){top=rect.top+marginY;left=rect.right-marginX-tWidth;}
if(/^(top|bottom)$/.test(pos)){if(left<0){diff=-left;left=10;aLeft=this.tipArrow.offsetLeft-diff;this.tipArrow.style.left=Math.round(aLeft)+'px';}else if(left+tWidth>wWidth){left=wWidth-(tWidth+10);aLeft=(rect.left+rect.width/2)-left;this.tipArrow.style.left=Math.round(aLeft)+'px';}}
this.tipEl.style.left=Math.round(left)+'px';this.tipEl.style.top=Math.round(top)+'px';},show:function(){if(!this.initialized_)return this;var _this=this;this.tipEl=$.elem('div','cb-tip',document.body);$.addClass(this.tipEl,'tip-style-'+this.style);if(this.cssClass){$.addClass(this.tipEl,this.cssClass);}
clearTimeout(this.showTimer_);clearTimeout(this.hideTimer_);this.tipInner=$.elem('div','cb-tip-box',this.tipEl);this.tipArrow=$.elem('div','cb-tip-arrow',this.tipInner);this.tipContent=$.elem('span','cb-tip-content',this.tipEl);this.tipContent.innerHTML=this.content;var left,top,side,pos=this.position,wWidth=window.innerWidth,wHeight=window.innerHeight;this.elRect=this.el.getBoundingClientRect();this.ext={top:this.elRect.top,right:wWidth-(this.elRect.left+this.elRect.width),bottom:wHeight-(this.elRect.top+this.elRect.height),left:this.elRect.left};if(pos==='auto'){$.addClass(this.tipEl,'cb-tip-auto');pos=(this.ext.top>this.ext.bottom?'top':'bottom');if(Math.max(this.ext.left,this.ext.right)>200){pos+='-'+(this.ext.left>this.ext.right?'left':'right');}}
$.addClass(this.tipEl,'cb-tip-'+pos);if(pos.indexOf('-')===-1){$.addClass(this.tipEl,'cb-tip-side');}else{$.addClass(this.tipEl,'cb-tip-corner');}
if(pos==='left'||pos==='right'){$.addClass(this.tipEl,'cb-tip-lr-side');}else if(pos==='top'||pos==='bottom'){$.addClass(this.tipEl,'cb-tip-tb-side');}
$.addClass(this.tipEl,pos.split('-').map(function(side){return'cb-tip-'+side+'-side';}));this.updateTipElementWidth_(pos);this.updateTipElementPosition_(pos);$.events.on(this.tipEl,'click',Function.prototype.bind.call(Tip.prototype.handleTipRemove_,this));if(!this.showOnHover){$.events.on(this.tipEl,'mouseenter',Function.prototype.bind.call(Tip.prototype.handleTipMouseEnter_,this));$.events.on(this.tipEl,'mouseleave',Function.prototype.bind.call(Tip.prototype.handleTipMouseLeave_,this));if(this.duration){this.showTimer_=setTimeout(function(){_this.hide();},this.duration);}}else{if(!this.hideOnLeave){$.events.on(document.body,'click',Function.prototype.bind.call(Tip.prototype.handleTipRemove_,this));}}
setTimeout(function(){$.addClass(_this.tipEl,'cb-tip-init');setTimeout(function(){$.addClass(_this.tipEl,'cb-tip-show');_this.trigger('show');},100);},10);this.shown_=true;this.el.tipShown_=this.tipEl;return this;},hide:function(fast){var _this=this,rmClass,rmDur;if(!_this.tipEl)return;this.removing_=true;if(fast){rmClass='cb-tip-hide-fast';rmDur=200;}else{rmClass='cb-tip-hide';rmDur=1000;}
clearTimeout(this.hideTimer_);$.addClass(this.tipEl,rmClass);this.hideTimer_=setTimeout(function(){if(_this.tipEl){_this.tipEl.parentNode.removeChild(_this.tipEl);_this.tipEl=null;_this.el.tipShown_=null;_this.trigger('hide');}},rmDur);return this;},isInitialized:function(){return this.initialized_;},isElementClicked:function(){return this.el&&this.el.clicked_;},isElementVisible:function(){var n=this.el,s,r,er,t_,l_,r_,b_,w_,h_;if(!this.el.offsetWidth||!this.el.offsetHeight){return false;}
while(n){s=window.getComputedStyle(n);if(s){if(s.display==='none'||s.visibility==='hidden'||s.opacity===0||(s.overflowX==='hidden'&&s.width===0)||(s.overflowY==='hidden'&&s.height===0)){return false;}}
r=n.getBoundingClientRect();if(!er){er=r;}else{t_=r.top-er.top;l_=r.left-er.left;r_=er.right-r.right;b_=er.bottom-r.bottom;w_=er.width*0.1;h_=er.height*0.1;if(s.overflowY==='hidden'&&(t_>h_||b_>h_)||s.overflowX==='hidden'&&(l_>w_||r_>w_)){return false;}}
n=n.parentElement;}
return true;},disabled:function(flag){if(typeof flag!=='undefined'){this.disabled_=!!flag;return this;}
return this.disabled_;},isShown:function(){return this.shown_;},updateOptions:function(){var p=this.params_;this.content=p.content||this.attr_(this.el);this.style=p.style||this.attr_(this.el,'style')||'generic';this.position=(p.position||this.attr_(this.el,'pos'))||'auto';this.showOnHover=!!(p.showOnHover||this.attr_(this.el,'on-hover'))||false;this.hideOnLeave=!!(p.hideOnLeave||this.attr_(this.el,'hide-on-leave'))||false;this.hideOnHover=!!(p.hideOnHover||this.attr_(this.el,'hide-on-hover'))||true;this.marginX=parseInt(p.marginX||this.attr_(this.el,'marginX'))||0;this.marginY=parseInt(p.marginY||this.attr_(this.el,'marginY'))||0;this.duration=parseInt(p.duration||this.attr_(this.el,'duration'))||5000;this.switchTimeout=parseInt(p.switchTimeout||this.attr_(this.el,'switch-timeout'))||0;this.cssClass=(p.cssClass||this.attr_(this.el,'cssClass'))||'';this.disabled_=!!(p.disabled||this.attr_(this.el,'disabled'))||false;this.excludeFromSeq=!!(p.excludeFromSeq||this.attr_(this.el,'exclude-from-seq'))||false;},attr_:function(el,name){var p=name?'-':'';return el&&el.getAttribute('data-tip'+p+name)||false;},handleElemMouseEnter_:function(){var _this=this,t;if(this.controller_&&!this.el.tipShown_){this.mouseEnterTimer_=setTimeout(function(){_this.controller_.showTip(_this);},200);if((t=this.el.title)&&(this.el.title_=t)){this.el.title='';}}},handleElemMouseLeave_:function(){clearTimeout(this.mouseEnterTimer_);var t;if(this.hideOnLeave){this.hide(true);if(t=this.el.title_){this.el.title=t;}}},handleTipMouseEnter_:function(){clearTimeout(this.showTimer_);if(this.removing_){this.removing_=false;clearTimeout(this.hideTimer_);$.removeClass(this.tipEl,'cb-tip-hide');}},handleTipMouseLeave_:function(){this.showTimer_=setTimeout((function(){this.hide();}).bind(this),this.duration);},handleTipRemove_:function(){clearTimeout(this.hideTimer_);this.hide(true);},handleElementClick_:function(){this.el.clicked_=true;},toString:function(){return'Tip '+(this.name||'unnamed')+'['+this.index+']: '+this.content;}});return Tip;})();$.ui.Tips.styleTypes={generic:(function(){function Tip(el,params,context,controller){$.ui.Tip.call(this,el,params,context,controller);}
Tip.prototype=Object.create($.ui.Tip.prototype,{});return Tip;})(),style_1:(function(){function Tip(el,params,context,controller){$.ui.Tip.call(this,el,params,context,controller);this.offsetX=30;this.offsetY=-10;}
Tip.prototype=Object.create($.ui.Tip.prototype);$.extend(Tip.prototype,{updateTipElementPosition_:function(pos){var left,top,marginX=this.marginX,marginY=this.marginY,rect=this.elRect,tWidth=this.tipEl.offsetWidth,tHeight=this.tipEl.offsetHeight,wWidth=window.innerWidth,wHeight=window.innerHeight,offsetX=this.offsetX,offsetY=this.offsetY,arrowHeight=this.tipArrow.offsetHeight;if(/overlap/.test(pos)){this.tipArrow.style.display='none';}
if(pos==='left'){left=rect.left-tWidth+offsetX-marginX;top=rect.top+rect.height/2+arrowHeight/2;}else if(pos==='top'){top=rect.top-tHeight-marginY;left=rect.left+rect.width/2-tWidth/2;}else if(pos==='bottom'){top=rect.bottom+marginY;left=rect.left+rect.width/2-tWidth/2;}else if(pos==='right'){left=rect.right-offsetX+marginX;top=rect.top+rect.height/2+arrowHeight/2;}else if(pos==='bottom-right'){top=rect.bottom+offsetY+marginY;left=rect.right-offsetX+marginX;}else if(pos==='bottom-left'){left=rect.left-tWidth+offsetX-marginX;top=rect.bottom+offsetY+marginY;}else if(pos==='top-left'){left=rect.left-tWidth+offsetX-marginX;top=rect.top-tHeight-offsetY-marginY;}else if(pos==='top-right'){top=rect.top-tHeight-offsetY-marginY;left=rect.right-offsetX+marginX;}else if(pos==='left-overlap'){left=rect.left+marginX;top=rect.top+rect.height/2-tHeight/2;}else if(pos==='top-overlap'){top=rect.top+marginY;left=rect.left+rect.width/2-tWidth/2;}else if(pos==='bottom-overlap'){top=rect.bottom-marginY-tHeight;left=rect.left+rect.width/2-tWidth/2;}else if(pos==='right-overlap'){left=rect.right-marginX-tWidth;top=rect.top+rect.height/2-tHeight/2;}else if(pos==='bottom-right-overlap'){top=rect.bottom-marginY-tHeight;left=rect.right-marginX-tWidth;}else if(pos==='bottom-left-overlap'){top=rect.bottom-marginY-tHeight;left=rect.left+marginX;}else if(pos==='top-left-overlap'){top=rect.top+marginY;left=rect.left+marginX;}else if(pos==='top-right-overlap'){top=rect.top+marginY;left=rect.right-marginX-tWidth;}
var diff,aLeft;if(/^(top|bottom)$/.test(pos)){if(left<0){diff=-left;left=10;aLeft=this.tipArrow.offsetLeft-diff;this.tipArrow.style.left=Math.round(aLeft)+'px';}else if(left+tWidth>wWidth){left=wWidth-(tWidth+10);aLeft=(rect.left+rect.width/2)-left;this.tipArrow.style.left=Math.round(aLeft)+'px';}}
this.tipEl.style.left=Math.round(left)+'px';this.tipEl.style.top=Math.round(top)+'px';}});return Tip;})()};var w=window,d=document,i;var FPS=45,SQUARESIDE=300;var cbc="cb-321";var px="px",div="div",ctime="c-time-",transform="transform",opacity="opacity",alpha="alpha",className="className",style="style",innerHTML="innerHTML",oneSpace=" ",oneDash="-",emptyString="",hasOwnProperty="hasOwnProperty";var isIE89=(function(){var msie="msie";var ua=w.navigator.userAgent.toLowerCase();ua=ua.indexOf(msie)!==-1?parseInt(ua.split(msie)[1],10):false;return ua&&ua<10?ua:false;})();var isIE8=isIE89===8;var peekContainer;var VENDOR=(function(){var p=transform;var s=d.body[style];if(s[hasOwnProperty]&&s[hasOwnProperty](p)){return emptyString;}
return $.vendorPrefix?$.vendorPrefix.css:emptyString;})();function setClass(el,str){el[className]=str;}
function appendChild(el,ch){el.appendChild(ch);}
function removeChild(el,ch){el.removeChild(ch);}
function createElement(type){return d.createElement(type);}
function random(){return Math.random();}
function round(ii){return Math.round(ii);}
function prpm(){return random()<0.5?1:-1;}
function rgba(c,o){return"rgba("+c+","+c+","+c+","+o+")";}
function getOffsetHeight(el){return el.offsetHeight;}
function getOffsetWidth(el){return el.offsetWidth;}
function addAnimationStyles(animationDefs,cssDefs){var keyframes=emptyString;var kf;$.forIn(animationDefs,function(key){kf=animationDefs[key];keyframes+="@"+VENDOR+"keyframes "+key+"{";$.forIn(kf,function(step){keyframes+=step+" {";keyframes+=kf[step].join(";").replace(/<TF>/g,VENDOR+transform).replace(/<O>/g,opacity).replace(/<S>/g,"scale").replace(/<TL>/g,"translate").replace(/<R>/g,"rotate");keyframes+="}";});keyframes+="}";});var csscalls=emptyString;$.forIn(cssDefs,function(key){csscalls+=key.replace(/<C>/g,cbc)+"{";csscalls+=cssDefs[key].join(";").replace(/<V>/g,VENDOR).replace(/<TF>/g,VENDOR+transform).replace(/<A>/g,VENDOR+"animation").replace(/<CZ>/g,"cubic-bezier").replace(/<B>/g,"border-radius").replace(/<D>/g,"-delay");csscalls+="}";});var s=createElement("style");appendChild(d.getElementsByTagName("head")[0],s);if(!isIE89){s[innerHTML]=csscalls+"\n"+keyframes;}else{s.styleSheet.cssText=csscalls;if(isIE8){d.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML");}}}
var AnimationFrame="AnimationFrame",requestAnimationFrame="request"+AnimationFrame,cancelAnimationFrame="cancel"+AnimationFrame;var nubSize=0;var fc,fcpeek,f,t;function Fleck(canvas,isPeek){t=this;t.home=canvas;t.peek=isPeek;t.dur=10000;t.prpm=prpm();t.homeW=getOffsetWidth(canvas);t.homeH=getOffsetHeight(canvas);t.reorient();}
Fleck.prototype.reorient=function(){t=this;t.size=random()*round(SQUARESIDE*0.005)+0.5;t.hl=t.dur/FPS*t.size;t[alpha]=1;t[opacity]=random();t.x=t.peek?random()*t.homeW:t.homeW/2;t.y=t.peek?random()*t.homeH:t.homeH/2;t.mx=t.peek?random()*prpm()/15:random()*6*prpm();t.my=t.peek?random()*prpm()/15:random()*6*prpm();if(isIE89){t.mx*=8;t.my*=8;}
t.rb=random()*(SQUARESIDE*(round(SQUARESIDE*0.005)/10+0.01));};Fleck.prototype.move=function(context){t=this;t[alpha]+=t[opacity];var op=1-t[alpha]/t.hl+0.07;context.beginPath();context.arc(t.x,t.y,t.size,0,Math.PI*2,true);context.closePath();t.x+=t[alpha]/t.hl*t.mx;t.y+=t[alpha]/t.hl*t.my;var midX,midY;midX=midY=SQUARESIDE/2;var bounds=Math.sqrt((t.x-midX)*(t.x-midX)+(t.y-midY)*(t.y-midY));if(bounds<nubSize){op=bounds/nubSize-0.6;}
context.fillStyle=rgba(t.prpm===1?255:200,op);context.fill();if(bounds>=t.rb){t.mx/=1.05;t.my/=1.05;}};Fleck.prototype.peekMove=function(context){t=this;context.beginPath();context.arc(t.x,t.y,t.size,0,Math.PI*2,true);context.closePath();t.x+=t.mx;t.y+=t.mx;context.fillStyle=rgba(t.prpm===1?255:200,t[opacity]);context.fill();if(t.mx<0){if(t.y+t.size<0){t.y=t.homeH+t.size;}
if(t.x+t.size<0){t.x=t.homwW+t.size;}}else{if(t.y-t.size>t.homeH){t.y=-t.size*2;}
if(t.x-t.size>t.homeW){t.x=-t.size*2;}}};function FleckCollection(quantity,canvas,isPeek){f=this;if(isPeek){f.canvasW=getOffsetWidth(canvas);f.canvasH=getOffsetHeight(canvas);f.peek=isPeek;}
f.context=canvas.getContext?canvas.getContext("2d"):null;f.speckles=[];f.q=quantity;for(i=0;i<quantity;i++){f.speckles.push(new Fleck(canvas,isPeek));}}
FleckCollection.prototype.animate=function(){f=this;if(f.context){if(f.peek){f.context.clearRect(0,0,f.canvasW,f.canvasH);}else{f.context.clearRect(0,0,SQUARESIDE,SQUARESIDE);}
for(i=0;i<f.q;i++){if(f.peek){f.speckles[i].peekMove(f.context);}else{f.speckles[i].move(f.context);}}}};$.extensions.push(function(){if(!ENV.mobiledemo&&!ENV.fallback&&!$.InBannerLayout&&(ENV.ifr&&(!ENV.busted&&!(parent.$sf&&parent.$sf.ext)))){$.addClass(document.body,"cbox-no-supported");return;}
var activePeekTabIndex=null;$.__activePeekTabIndex=activePeekTabIndex;var _this=$.Banner;var Ripple,Peek,RollOver;var expanding=false;function expandUnit(){if($.InBannerLayout){_this.trigger("rolloverEngaged");if(Ripple)Ripple.disable();if(Peek)Peek.disable();if(RollOver)RollOver.disable();}else{var tabtoopen=activePeekTabIndex;if($.cBoxMain.fallbackMode){tabtoopen=null;}
if(activePeekTabIndex===null&&$.htmlboxes){tabtoopen=(function(){for(i=0;i<$.htmlboxes.length;i++){if($.htmlboxes[i].isVisible){return $.htmlboxes[i].tabToOpen;}}
return null;})();}
_this.expand(tabtoopen);}
var counter=$.get("#cb-ctr");if(counter){counter.onmouseleave();}}
function initRollOver(){var countdownTime=3;var lastTime;var countdownDuration=3000;var counting=false;var clickEnded=false;var clickEvent=null;var startTime;var countdownoffset=800;var slideToExpand=false;var counter=$.get("#cb-ctr");var extensionsLayout=counter.parentElement;var overlay=createElement(div);setClass(overlay,cbc+"-o");var overlayColor=createElement(div);setClass(overlayColor,cbc+"-o-c");appendChild(overlay,overlayColor);var countdownContainer=createElement(div);setClass(countdownContainer,cbc+"-container");var countdown=createElement(div);setClass(countdown,cbc);var particleContainer=createElement("canvas");setClass(particleContainer,cbc+"-particle-container");var triad=createElement(div);setClass(triad,cbc+"-tri");var triadBranch,triadNub,triadConnection;var numbers=createElement(div);setClass(numbers,cbc+"-numbers");var numbg=createElement(div);setClass(numbg,cbc+"-num-bg");appendChild(numbers,numbg);var num=createElement(div);setClass(num,cbc+"-num");appendChild(numbers,num);appendChild(countdown,particleContainer);appendChild(countdown,triad);appendChild(countdown,numbers);appendChild(countdownContainer,countdown);var openTM=null;function doCountDown(pageTime){if(!pageTime){pageTime=new Date().getTime()-(w.__pst||0);}
if(!startTime){startTime=pageTime;}
countdownTime=Math.floor((countdownDuration-(pageTime-(startTime+countdownoffset)))/1000);if(countdownTime!==lastTime){num[innerHTML]=countdownTime;lastTime=countdownTime;if(isIE89){if(counter[className].indexOf(ctime)===-1){counter[className]+=oneSpace+ctime+countdownTime;}else{setClass(counter,counter[className].replace(/c\-time\-[0-9]/g,ctime+countdownTime));}}}
if(countdownTime===0||clickEnded===true){if(counter[className].indexOf("ended")===-1){counter[className]+=" ended";}
var action="";if(countdownTime===0){action="countdown";}else if(clickEnded===true){action="click";}
if(!$.Tracker.isEngagementTracked()){$.Tracker.action('expand_'+action,"Banner",clickEvent);}
counting=false;clickEnded=false;clickEvent=null;if(!expanding){expanding=true;if(!$.isIE89&&!openTM){openTM=setTimeout(function(){openTM=null;expandUnit();},300);}else{expandUnit();}}}
if(fc){fc.animate();}
if(counting){amf=w[requestAnimationFrame](doCountDown);}}
function ie8triadnub(p,w,h){w=(w||getOffsetWidth(p)-2)-1;h=(h||getOffsetHeight(p)-2)-1;p[style].background="none";p[innerHTML]="<v:oval style='width:"+
w+"px;height:"+
h+"px;z-index:-1;behavior: url(#default#VML);' fillcolor='#FFF' stroked='false'></v:oval>";}
var amf;var rw,rh;function appendCounter(){if(!_this.isLoading&&!_this.isExpanded&&!counting){if(this===counter||(slideToExpand&&this===extensionsLayout)){counting=true;startTime=null;setClass(counter,"active");lastTime=-1;if(slideToExpand){counter[style].zIndex=9999999999999999;}
if(isIE89){counter[className]+=oneSpace+ctime+4;}
appendChild(counter,overlay);appendChild(counter,countdownContainer);SQUARESIDE=getOffsetWidth(countdownContainer)>getOffsetHeight(countdownContainer)?getOffsetHeight(countdownContainer):getOffsetWidth(countdownContainer);SQUARESIDE=SQUARESIDE<300?round(SQUARESIDE*1.1):SQUARESIDE;SQUARESIDE=SQUARESIDE<150?round(SQUARESIDE*1.5):SQUARESIDE;countdown[style].width=overlay[style].width=SQUARESIDE+px;countdown[style].height=overlay[style].height=SQUARESIDE+px;particleContainer.width=SQUARESIDE;particleContainer.height=SQUARESIDE;num[style].lineHeight=round(getOffsetHeight(numbers)/1.05)+px;num[style].fontSize=round(getOffsetHeight(numbers)/1.7)+px;if(countdownTime===0||clickEnded===true){if(counter[className].indexOf("ended")===-1){counter[className]+=" ended";}
var action='';if(countdownTime===0){action='countdown';}
else if(clickEnded===true){action='click';}
if(!$.Tracker.isEngagementTracked()){$.Tracker.action('expand_'+action,'Banner',clickEvent);}
counting=false;clickEnded=false;clickEvent=null;if(!expanding){expanding=true;if(!$.isIE89&&!openTM){openTM=setTimeout(function(){openTM=null;expandUnit();},300);}else{expandUnit();}}}
if(isIE89){counter[className]+=oneSpace+ctime+4;}
if(!triad.firstChild){var branchClass=cbc+"-tri-brn";var nubClass=cbc+"-tri-nub";var connectionClass=cbc+"-tri-cxn";for(i=0;i<3;i++){rw=round(getOffsetWidth(numbers)/1.15);rh=round(getOffsetHeight(numbers)/1.15);triadBranch=createElement(div);setClass(triadBranch,branchClass+oneSpace+branchClass+oneDash+(i+1));triadBranch[style].width=rw+px;triadNub=createElement(div);setClass(triadNub,nubClass+oneSpace+nubClass+oneDash+(i+1));triadNub[style].width=rw+px;triadNub[style].height=rh+px;if(isIE8){ie8triadnub(triadNub,rw,rh);}
nubSize=rh/2;triadConnection=createElement(div);setClass(triadConnection,connectionClass+oneSpace+connectionClass+oneDash+(i+1));appendChild(triadBranch,triadConnection);appendChild(triadBranch,triadNub);appendChild(triad,triadBranch);}}
if(isIE8){ie8triadnub(numbg);}
fc=new FleckCollection(50,particleContainer);amf=w[requestAnimationFrame](doCountDown);}}}
function removeCounter(){countdownTime=3;startTime=null;clickEnded=false;counting=false;fc=null;if(overlay.parentElement){if(slideToExpand){counter[style].zIndex="";}
removeChild(counter,overlay);removeChild(counter,countdownContainer);setClass(counter,emptyString);if(amf){w[cancelAnimationFrame](amf);}
while(triad.firstChild){removeChild(triad,triad.firstChild);}}}
counter.onmousemove=appendCounter;counter.onmouseleave=removeCounter;counter.onmousedown=counter.ontouchstart=function(e){if(!_this.isLoading&&!_this.isExpanded){clickEnded=true;clickEvent=e;}};$.events.on(counter,"click",function(e){if($.mraid){counter.onmousemove();}
e.stopPropagation();});setTimeout(function(){if($.Banner.slideToExpand){slideToExpand=true;extensionsLayout.onmousemove=appendCounter;extensionsLayout.onmouseleave=removeCounter;counter.onmousedown=extensionsLayout.ontouchstart=function(e){if(!_this.isLoading&&!_this.isExpanded){clickEnded=true;clickEvent=e;}};}},100);this.on("expanded",function(){$.css(peekContainer,{opacity:0});});this.on("collapsed",function(){$.css(peekContainer,{opacity:1});removeCounter();expanding=false;});var brcz="(.455,.030,.515,.955)";var CSSDEFS={"#cb-ctr":["<TF>:translate3d(0,0,1px)","user-select:none"],".<C>-num":["<A>:CB-NUM-FADEIN 1.2s ease"],".<C>-num-bg":["<V><B>:100%","<B>:100%","<A>:CB-NUM-BOUNCEIN 1.7s <CZ>(.175,.885,.320,1.375)"],".<C>-o-c":["<V><B>:100%","<B>:100%","<A>:CB-OVERLAY-IN 1.7s ease"],".ended .<C>-o-c":["<A>:CB-OVERLAY-GROWOUT .5s <CZ>(.600,-.030,.735,.045) forwards"],".ended .<C>":["<A>:CB-NUM-FADEOUT .5s forwards"],".<C>-tri":["<A>:CB-CX-TRI-ROT-START-SMOOTH 2s ease,CB-CX-TRI-ROT-END-SHAKE .5s linear,CB-CX-TRI-SCALEDOWN .3s <CZ>(1,-.115,.520,.520) forwards","<A><D>:0s,1.6s,2.7s"],".<C>-tri-brn-1":["<A>:CB-CX-TRI-SCALEUP-ROT-1 2.6s <CZ>"+brcz,"<A><D>:0s"],".<C>-tri-brn-2":["<A>:CB-CX-TRI-SCALEUP-ROT-2 2s <CZ>"+
brcz+",CB-CX-TRI-SCALEUP-TRANS 2.2s ease","<A><D>:.2s,.2s","<TF>:rotate(130deg)"],".<C>-tri-brn-3":["<A>:CB-CX-TRI-SCALEUP-ROT-3 2s <CZ>"+
brcz+",CB-CX-TRI-SCALEUP-TRANS 2.2s ease","<A><D>:.4s,.4s","<TF>:rotate(230deg)"],".<C>-tri-cxn":["<TF>:scaleX(0)","<TF>-origin:50% 100%","<A>:CB-DO-WAIT 1.3s linear,CB-TRI-CXS-WIDTH .8s linear forwards","<A><D>:0s,1.3s"],".<C>-tri-nub":["<V><B>:100px","<B>:100px","<TF>:scale(0)","<A>:CB-TRI-NUBS-ENTER .8s ease forwards,CB-CX-TRI-NUBS-EXIT .3s ease forwards","<A><D>:0s,2.7s"],".<C>-tri-nub-2":["<A><D>:.2s,2.7s"],".<C>-tri-nub-3":["<A><D>:.4s,2.7s"],".<C>-particle-container":["<A>:CB-PARTICLES-ROTATION-ONE 1s <CZ>(.175,.885,.320,1.075),CB-PARTICLES-ROTATION-TWO 4.5s <CZ>(.175,.885,.320,1.075),CB-PARTICLES-SCALE .8s <CZ>(.680,-.850,.265,1.550) forwards","<A><D>:.8s,1.4s,2.7s"]};function setRotFilter(deg){var rad=deg*(Math.PI/180);var costheta=Math.cos(rad);var sintheta=Math.sin(rad);return('-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11='+
costheta+",M12="+
-sintheta+",M21="+
sintheta+",M22="+
costheta+",SizingMethod='auto expand')\"");}
function ie8brancharray(deg){return[setRotFilter(deg),"z-index:1","left:-33%","top:11%"];}
if(isIE89){CSSDEFS[".<C>-tri-nub"].push("<TF>:scale(1)");CSSDEFS[".<C>-tri-cxn"].push("<TF>:scaleX(1)");var tribrn=".<C>-tri-brn-";var dctime="."+ctime;CSSDEFS[dctime+"4 "+tribrn+3]=CSSDEFS[dctime+"4 "+tribrn+2]=CSSDEFS[dctime+"4 "+tribrn+1]=CSSDEFS[dctime+"3 "+tribrn+2]=CSSDEFS[dctime+"3 "+tribrn+3]=CSSDEFS[dctime+"2 "+tribrn+2]=CSSDEFS[".ended"]=[opacity+":0","filter:"+alpha+"("+opacity+"=0)"];if(isIE8){CSSDEFS[tribrn+2]=ie8brancharray(130);CSSDEFS[tribrn+3]=ie8brancharray(230);CSSDEFS[".<C>-o-c"]=["width:0","height:0"];}}
var ANIMATIONDEFS={"CB-NUM-FADEIN":{"0%":["<TF>:<S>(0) <R>(45deg)","color:#fff"],"50%,60%":["<TF>:<S>(1) <R>(0deg)","color:#fff"],"100%":[emptyString]},"CB-DO-WAIT":{"0%, 100%":["<O>:0"]},"CB-NUM-BOUNCEIN":{"0%,40%":["<TF>:<S>(0)"],"70%,100%":["<TF>:<S>(1)"]},"CB-NUM-FADEOUT":{"0%":["<O>:1"],"100%":["<O>:0"]},"CB-OVERLAY-IN":{"0%,90%":["width:0"],"100%":[emptyString]},"CB-OVERLAY-GROWOUT":{"0%":["<TF>:<S>(1)"],"100%":["<TF>:<S>(40)"]},"CB-TRI-NUBS-ENTER":{"0%":["<TF>:<TL>Y(150%) <S>(0)"],"95%,100%":["<TF>:<TL>Y(0%) <S>(1)"]},"CB-CX-TRI-NUBS-EXIT":{"0%":["<TF>:<S>(1,1)"],"100%":["<TF>:<S>(.9,1.2)"]},"CB-TRI-CXS-WIDTH":{"0%":["<TF>:<S>X(0)"],"50%,100%":["<TF>:<S>X(1)"],"75%":["<TF>:<S>X(.7)"]},"CB-CX-TRI-ROT-START-SMOOTH":{"0%,20%":["<TF>:<R>(60deg)"],"80%,100%":["<TF>:<R>(0deg)"]},"CB-CX-TRI-ROT-END-SHAKE":{"0%,100%":["<TF>:<R>(0deg)"],"25%":["<TF>:<R>(-2deg)"],"75%":["<TF>:<R>(2deg)"]},"CB-CX-TRI-SCALEDOWN":{"0%":["<TF>:<S>(1)"],"80%,100%":["<TF>:<S>(.2)"]},"CB-CX-TRI-SCALEUP-ROT-1":{"0%":["<TF>:<R>(345deg)"],"25%":["<TF>:<R>(235deg)"],"60%,100%":["<TF>:<R>(0deg)"]},"CB-CX-TRI-SCALEUP-ROT-2":{"0%":["<TF>:<R>(345deg)"],"30%":["<TF>:<R>(275deg)"],"70%,100%":["<TF>:<R>(130deg)"]},"CB-CX-TRI-SCALEUP-ROT-3":{"0%":["<TF>:<R>(345deg)"],"30%":["<TF>:<R>(315deg)"],"65%,100%":["<TF>:<R>(230deg)"]},"CB-PARTICLES-ROTATION-ONE":{"0%":["<TF>:<R>(0deg)"],"100%":["<TF>:<R>(-3deg)"]},"CB-PARTICLES-ROTATION-TWO":{"0%":["<TF>:<R>(-3deg) <S>(1)"],"100%":["<TF>:<R>(3deg) <S>(1.2)"]},"CB-PARTICLES-SCALE":{"0%":["<O>:1","<TF>:<R>(2deg) <S>(1.2)"],"100%":["<O>:0","<TF>:<R>(3deg) <S>(2.2)"]}};addAnimationStyles(ANIMATIONDEFS,CSSDEFS);return{disable:function(){counter.style.display="none";}};}
function initPeek(){var rolloverText;var lang=$.params.base.lang;if(lang==="fr"){rolloverText=$.param("customCta","Survoler pour en savoir plus");}else{rolloverText=$.param("customCta","Roll over to expand");}
var peekImages=$.preloads.peek?$.preloads.peek.filter(function(p){return!!p.preview_image;}):[];var hasPeekImages=peekImages&&peekImages.length;var activePeekImage=-1;var activePeekTxt;var PEEKINTERVAL=5000;peekContainer=$.get("#cb-peek");var initialPeek=true;var peek=$.get("#cb-peek-image");var peekPreviews=$.get("#cb-peek-previews");var peekParticles=$.get("#cb-peek-particles");var peekTicker=$.get("#cb-peek-ticker");var peekTickerText=$.get("#cb-peek-ticker-text");var peekTickerCaptionArea=$.get("#cb-peek-caption-area");var peekTickerImageCaption=$.get("#cb-peek-ticker-image-caption");$.css(peekParticles,{display:"none"});$.css(peek,{display:"none"});appendChild(peekTickerText,d.createTextNode(rolloverText));var peekIn,peekOut;var fromBottom=0;var iterationCount=0;var peekIterationCount=50;var b=0;function isPreXHoritontal(){if(!preXWidth&&!preXHeight){preXWidth=window.innerWidth;preXHeight=window.innerHeight;}
preXRatio=preXWidth/preXHeight;preXHorizontal=preXRatio>1.5;if(preXHorizontal){$.addClass(peekTicker,"pre-x-horizontal");$.addClass(peekPreviews,"pre-x-horizontal");$.addClass(peekTickerCaptionArea,"pre-x-horizontal");}}
function easeOutCubic(currentIteration,startValue,changeInValue,totalIterations){return(changeInValue*(Math.pow(currentIteration/totalIterations-1,3)+1)+
startValue);}
function showNextPeekImage(){activePeekImage+=1;if(activePeekImage>=peekImages.length){activePeekImage=0;}
peek.src=$.uploadsUrl+peekImages[activePeekImage].preview_image;activePeekTxt=peekImages[activePeekImage].preview_description||peekImages[activePeekImage].component_title;peekTickerImageCaption.innerHTML=activePeekTxt||"";}
var preXWidth,preXHeight,preXRatio,preXHorizontal=false;var renderPeekCSS=function(){var CSSDEFS={"#cb-peek-ticker":["<A>:PKTICKERSLIDEIN 1.5s ease"],".anim8 .p-l-sq":["<A>:PKSQUAREGROW .5s 0s <CZ>(.600, -.280, .735, .045) forwards,PKSQUAREGROWTWO .5s 1.2s <CZ>(0.175, 0.885, 0.320, 1.275) forwards"],".anim8 .p-l-tr":["<A>:PKDISAPPEARWIDTH .5s 0s <CZ>(.600, -.280, .735, .045),PKBOUNCEWIDTH .5s 1.3s linear"],".anim8 .p-l-rr":["<A>:PKDISAPPEARHEIGHT .5s 0s <CZ>(.600, -.280, .735, .045),PKBOUNCEHEIGHT .5s 1.3s linear"],".p-l-db":["<TF>-origin:0 -75%","<TF>:rotate(-45deg) translate(-100%, 0)"],".anim8 .p-l-db":["<A>:PKDBGROW .5s .5s ease forwards,PKDBSLIDEUP .8s 1.2s <CZ>(.175, .885, .320, 1.275) forwards"],".anim8 .p-l-b, .anim8 .p-l-t":["<A>:PKHALFWIDTH .6s .6s ease"],".anim8 .p-l-r, .anim8 .p-l-l":["<A>:PKHALFHEIGHT .6s .6s ease"]};if(isIE8){CSSDEFS[".p-l-db"]=["display: none"];}
var ANIMATIONDEFS={PKSQUAREGROW:{"0%":[],"100%":["width: 100%","height: 100%"]},PKSQUAREGROWTWO:{"0%":["width: 0","height: 0"],"100%":[]},PKDBGROW:{"0%":["<TF>: <R>(-45deg) <TL>(-100%, 0)"],"100%":["<TF>: <R>(-45deg) <TL>(0, 0)"]},PKDBSLIDEUP:{"0%":["<TF>: <R>(-45deg) <TL>(0, 0)"],"100%":["<TF>: <R>(-45deg) <TL>(75%, 0)"]},PKDISAPPEARWIDTH:{"0%":[],"100%":["width: 0"]},PKDISAPPEARHEIGHT:{"0%":[],"100%":["height: 0"]},PKHALFWIDTH:{"0%":[],"100%":["width: 50%"]},PKHALFHEIGHT:{"0%":[],"100%":["height: 50%"]},PKBOUNCEWIDTH:{"0%, 100%":[],"50%":["width: 45%"]},PKBOUNCEHEIGHT:{"0%, 100%":[],"50%":["height: 45%"]},PKTICKERSLIDEIN:{"0%, 50%":["<TF>: <TL>"+(preXHorizontal?"X":"Y")+"(100%)"],"100%":["<TF>: <TL>"+(preXHorizontal?"X":"Y")+"(0%)"]}};addAnimationStyles(ANIMATIONDEFS,CSSDEFS);};isPreXHoritontal();renderPeekCSS();var bpc;var bottomOrRight="bottom";var borOffset=0;function animatePeekOut(){b=easeOutCubic(iterationCount,-fromBottom,fromBottom,peekIterationCount);bpc=b/fromBottom;peek[style][bottomOrRight]=b+borOffset*(1-bpc)+px;if(bpc<0){bpc=0;}else if(bpc>1){bpc=1;}
peekPreviews[style].background=rgba(0,0.7*(1-bpc));peekParticles[style][opacity]=1-bpc;iterationCount+=1;if(b>=fromBottom){w[requestAnimationFrame](animatePeekOut);}else{w[cancelAnimationFrame](peekOut);peekOut=null;$.addClass(peekTicker,"anim8");activePeekTabIndex=null;$.__activePeekTabIndex=activePeekTabIndex;if(hasPeekImages){showNextPeekImage();}}
b=easeOutCubic(iterationCount,borOffset,-borOffset,peekIterationCount);peekTickerCaptionArea[style][bottomOrRight]=b+px;}
function animatePeekIn(){b=easeOutCubic(iterationCount,fromBottom,-fromBottom,peekIterationCount);bpc=b/fromBottom;peek[style][bottomOrRight]=b+borOffset*(1-bpc)+px;peekPreviews[style].background=rgba(0,0.7*(1-bpc));peekParticles[style][opacity]=1-bpc;iterationCount+=1;if(b>=fromBottom&&round(b)!==0){w[requestAnimationFrame](animatePeekIn);}else{setTimeout(function(){if(peekIn){w[cancelAnimationFrame](peekIn);peekIn=null;}
peekOut=w[requestAnimationFrame](animatePeekOut);},4000);}
b=easeOutCubic(iterationCount,-borOffset,borOffset,peekIterationCount);peekTickerCaptionArea[style][bottomOrRight]=b+px;}
function animatePeekParticles(){if(fcpeek){fcpeek.animate();}
w[requestAnimationFrame](animatePeekParticles);}
w[requestAnimationFrame](animatePeekParticles);function peekIsReady(noImagesStr){$.css(peekTickerCaptionArea,{display:"block"});peek[style].width="";isPreXHoritontal();if(noImagesStr!=="no images"){var pw=peek.naturalWidth||peek.width;var ph=peek.naturalHeight||peek.height;var scaledPeekWidth=preXHorizontal===false?preXWidth*0.7:pw*(preXHeight<ph?preXHeight/ph:ph/preXHeight),scaledPeekHeight=ph*(scaledPeekWidth/pw);b=0;fromBottom=-((preXHorizontal?scaledPeekWidth:scaledPeekHeight)+20);iterationCount=0;$.css(peekParticles,{display:"block"});peekParticles.width=preXWidth;peekParticles.height=preXHeight;peekParticles[style][opacity]=0;if(!fcpeek){fcpeek=new FleckCollection(20,peekParticles,true);}
$.css(peek,{display:"block",width:scaledPeekWidth+px,right:(preXWidth-scaledPeekWidth)/2+px});if(preXHorizontal){$.css(peek,{right:fromBottom+px});$.css(peekTickerCaptionArea,{right:fromBottom-50+px});bottomOrRight="right";borOffset=peekTickerCaptionArea.offsetWidth;}else{$.css(peek,{bottom:fromBottom+px});$.css(peekTickerCaptionArea,{bottom:fromBottom+px});borOffset=peekTickerCaptionArea.offsetHeight;}
setTimeout(function(){initialPeek=false;$.removeClass(peekTicker,"anim8");peekIn=w[requestAnimationFrame](animatePeekIn);if(peekImages&&peekImages.length){activePeekTabIndex=parseInt(peekImages[activePeekImage].pos,10);$.__activePeekTabIndex=activePeekTabIndex;}},initialPeek?0:PEEKINTERVAL);}}
if(hasPeekImages){peekPreviews.style.display="block";setTimeout(function(){peek.onload=peekIsReady;showNextPeekImage();},3000+PEEKINTERVAL);}else{peekIsReady("no images");}
return{disable:function(){var peekContainer=$.get("#cb-peek");var peekPreviews=$.get("#cb-peek-previews");peekContainer.style.display="none";peekPreviews.style.display="none";}};}
function initRipple(){var wtop;try{wtop=window.top;}catch(err){return false;}
var animating=false,goneout=false,goingout=false,click={},pos={},ifr=$.Banner.elem(),arcProgress=0,maxArcRad=0;var overlayOpacity=0.0,overlayOpacityIncrement=0.02;var rippleContainer=$.get("#cb-ripple"),ripple=d.createElement("canvas"),rippleContext=ripple.getContext("2d");var width=rippleContainer.offsetWidth,height=rippleContainer.offsetHeight;var rad=0.5,maxrad=0.7,radded=rad*20,maxoffset=5,dotsPerWidth=Math.round(width/(rad+radded)),dotsPerHeight=Math.round(height/(rad+radded)),dotLength=dotsPerWidth*dotsPerHeight,row=-1,oi;var wd=width/dotsPerWidth,hd=height/dotsPerHeight;var points=[],point,sd,diff,progdiff,r,pc;var topframecontainers=[];var cntxt=window;try{while(cntxt!==window.top){topframecontainers.push({frame:cntxt.frameElement,window:cntxt});cntxt=cntxt.parent;}}catch(ignore){}
function getIframeNestedPos(){var positionOnPage={x:0,y:0};topframecontainers.forEach(function(tf){var topframecontainer=tf.frame.getBoundingClientRect();var aLeft=topframecontainer.left;var aTop=topframecontainer.top;positionOnPage.x+=aLeft;positionOnPage.y+=aTop;});return positionOnPage;}
ripple.width=width;ripple.height=height;rippleContainer.appendChild(ripple);rippleContext.beginPath();rippleContext.rect(0,0,width,height);rippleContext.closePath();rippleContext.fillStyle="rgba(0, 0, 0, 0.0)";rippleContext.fill();rippleContext.fillStyle="#ffffff";for(i=0;i<dotLength;i++){if(i%dotsPerWidth===0){row+=1;oi=0;}
points.push({x:oi*wd+wd/2,y:row*hd+hd/2,r:rad,o:0.0,cr:rad,offx:0,offy:0});oi+=1;}
function DistanceBetween(p1,p2){var dx=p2.x-p1.x;var dy=p2.y-p1.y;return Math.sqrt(dx*dx+dy*dy);}
function paintPoint(point){rippleContext.fillStyle="rgba(255, 255, 255, "+point.o+")";rippleContext.beginPath();rippleContext.arc(point.x+point.offx,point.y+point.offy,point.cr,0,Math.PI*2,false);rippleContext.closePath();rippleContext.fill();}
function animateClick(){var rp={x:click.x-pos.x,y:click.y-pos.y};rippleContext.clearRect(0,0,width,height);rippleContext.strokeStyle=null;if(overlayOpacity<0.2&&!goingout){overlayOpacity+=overlayOpacityIncrement;}
rippleContext.fillStyle="rgba(0, 0, 0, "+overlayOpacity+")";rippleContext.rect(0,0,width,height);rippleContext.fill();if(!goingout){for(i=0;i<dotLength;i++){point=points[i];diff=DistanceBetween(points[i],rp);progdiff=arcProgress-diff;sd=diff*0.1;if(Math.abs(progdiff)>=sd){if(progdiff<0){pc=-progdiff/sd;}else{pc=progdiff/sd;}}else{pc=1;}
r=1/pc*(point.r*maxrad);point.o=1/pc;point.cr=r;point.offx=(click.x>point.x?-1:1)*maxoffset*r;point.offy=(click.x>point.x?-1:1)*maxoffset*r;paintPoint(point);}}
arcProgress+=8;if(arcProgress>maxArcRad){goingout=true;if(overlayOpacity>0.0){overlayOpacity=Math.max(0,overlayOpacity-overlayOpacityIncrement);for(i=0;i<dotLength;i++){point=points[i];point.o=Math.max(0,point.o-overlayOpacityIncrement*5);paintPoint(point);}}
if(overlayOpacity<=0.0){goneout=true;goingout=false;}
if(goneout){animating=false;goneout=false;return false;}}
w[requestAnimationFrame](animateClick);}
function handleRippleClick(e){if(!animating){click.x=e.x||e.clientX||e.pageX;click.y=e.y||e.clientY||e.pageY;var rect=getIframeNestedPos();pos.x=rect.x;pos.y=rect.y;if(click.x<=pos.x){click.x=pos.x;}else if(click.x>=pos.x+width){click.x=pos.x+width;}
if(click.y<=pos.y){click.y=pos.y;}else if(click.y>=pos.y+height){click.y=pos.y+height;}
maxArcRad=DistanceBetween({x:pos.x+width,y:pos.y+height},click)+
Math.max(width,height);arcProgress=maxArcRad-width*height;if(arcProgress<0){arcProgress=0;}
animating=true;w[requestAnimationFrame](animateClick);}}
var isIos=/i(Phone|Pod)/.test(navigator.userAgent);if(isIos){try{wtop.addEventListener("touchstart",handleRippleClick,false);}catch(ignore){}}else{try{wtop.addEventListener("click",handleRippleClick,false);}catch(ignore){}}
var mouse={};var edge=300;var mousedown=false;var pushdownprog=0;var hasMouse=false;function ripplePreface(){if(!animating){var p={x:mouse.x-pos.x,y:mouse.y-pos.y};rippleContext.clearRect(0,0,width,height);for(i=0;i<dotLength;i++){point=points[i];diff=DistanceBetween(point,p);if(diff<=edge){pc=diff/(edge*0.5);if(mousedown&&diff<=pushdownprog*1.5){progdiff=pushdownprog;pc=Math.abs(progdiff/diff);}
r=Math.min(maxrad*2,1/pc*(point.r*maxrad));point.o=1/pc;point.cr=r;point.offx=maxoffset*pc;point.offy=maxoffset*pc;paintPoint(point);}}}}
function handleRipplePreface(e){hasMouse=true;mouse.x=e.x||e.clientX||e.pageX;mouse.y=e.y||e.clientY||e.pageY;var rect=getIframeNestedPos();pos.x=rect.x;pos.y=rect.y;if(mouse.x>pos.x-edge&&mouse.x<pos.x+width+edge&&(mouse.y>pos.y-edge&&mouse.y<pos.y+height+edge)){w[requestAnimationFrame](ripplePreface);}}
function pushItDown(){if(mousedown){if(pushdownprog<edge/4){pushdownprog+=8;w[requestAnimationFrame](ripplePreface);w[requestAnimationFrame](pushItDown);}}else{if(pushdownprog>0){pushdownprog-=8;w[requestAnimationFrame](ripplePreface);w[requestAnimationFrame](pushItDown);}}}
function handleRipplePrefaceMouseDown(){mousedown=true;w[requestAnimationFrame](pushItDown);}
function handleRipplePrefaceMouseUp(){mousedown=false;pushdownprog=0;}
var tiltavg=45;var halftiltavg=tiltavg/2;var tiltcollection=[];var tiltcollectionlength=0;function handleDeviceTilting(e){if(hasMouse){try{wtop.removeEventListener("deviceorientation",handleDeviceTilting);}catch(ignore){}
return;}
var orientation=window.orientation;var leftRightTilt=e.gamma;var frontBackTilt=e.beta;if(orientation!==0){leftRightTilt=frontBackTilt;frontBackTilt=e.gamma;}
tiltcollection.push(frontBackTilt);tiltcollectionlength=tiltcollection.length;tiltavg=tiltcollection.reduce(function(total,current){return total+current;})/(tiltcollectionlength-1);halftiltavg=tiltavg/2;frontBackTilt-=halftiltavg;if(orientation===90){frontBackTilt=-frontBackTilt-tiltavg;}
var ev={};ev.x=pos.x+leftRightTilt/Math.round(halftiltavg+1)*width;ev.y=pos.y+frontBackTilt/Math.round(halftiltavg+1)*height;handleRipplePreface(ev);if(tiltcollectionlength>=100){tiltcollection.shift();}}
try{wtop.addEventListener("mousemove",handleRipplePreface,false);wtop.addEventListener("mousedown",handleRipplePrefaceMouseDown,false);wtop.addEventListener("mouseup",handleRipplePrefaceMouseUp,false);if(window.hasOwnProperty("DeviceOrientationEvent")){wtop.addEventListener("deviceorientation",handleDeviceTilting,false);}}catch(ignore){}
return{disable:function(){try{wtop.removeEventListener("mousemove",handleRipplePreface,false);wtop.removeEventListener("mousedown",handleRipplePrefaceMouseDown,false);wtop.removeEventListener("mouseup",handleRipplePrefaceMouseUp,false);if(window.hasOwnProperty("DeviceOrientationEvent")){wtop.removeEventListener("deviceorientation",handleDeviceTilting,false);}}catch(ignore){}
rippleContainer.style.display="none";}};}
function initRollOverImages(){var This=this,images=$.params.base.rollover_data,overlay=null,overlayTimeout,stepTimeout;var rollOverElem=$.get("#cb-rollover"),doubleWrapper=$.get("#double-wrapper");if(Number(this.format[0])===300&&Number(this.format[1])===250){$.addClass(rollOverElem,"square");}else if(Number(this.format[0])<Number(this.format[1])){$.addClass(rollOverElem,"vertical");}else{$.addClass(rollOverElem,"horizontal");}
if($.params.base.rollover_type==="image"){for(var i=images.length;i>0;i--){var imgW=document.createElement("div");imgW.className="double-dip-img-w";var img=document.createElement("div");img.className="double-dip-img ddi-"+i+"";img.style.backgroundImage="url("+$.uploadsUrl+""+images[i-1]+")";imgW.appendChild(img);doubleWrapper.appendChild(imgW);}}
$.events.on(rollOverElem,"mouseenter",function(e){createRollOver(e);});$.events.on(rollOverElem,"mouseleave",function(){destroyRollOver();});$.events.on(rollOverElem,"click",function(e){expand(e);});function createRollOver(e){if(_this.isExpanded||overlay)return;$.addClass(rollOverElem,"active");overlay=document.createElement("div");overlay.className="cbox-fn-overlay";if($.params.base.rollover_type==="custom"){div=document.createElement("div");div.innerHTML=$.params.base.rollover_data[0];div.style.position='absolute';div.style.zIndex='200';overlay.appendChild(div);}
rollOverElem.appendChild(overlay);var circleWrap=document.createElement("div");circleWrap.className="circle-wrap";var numberWrap=document.createElement("div");numberWrap.appendChild(circleWrap);overlay.appendChild(numberWrap);var circleOuter=document.createElement("div");circleOuter.className="circle-outer";circleOuter.style.marginTop=parseInt((This.elem().offsetHeight-90)/2)+"px";circleWrap.appendChild(circleOuter);var count=3;circleOuter.className+=" circle-outer-bg counter-down-simple";(function countDown(){if(count===0){expand();return;}
circleOuter.innerHTML='<span class="counter-down-num">'+count+"</span>";var imgNode=$.get(".ddi-"+count+"");$.addClass(imgNode,"active");count--;stepTimeout=setTimeout(countDown,1000);})();setTimeout(function(){if(overlay)overlay.style.display="block";},10);}
function expand(e){destroyRollOver();var action="countdown";if(e&&e.type==="click"){action="click";}
if(!$.Tracker.isEngagementTracked()){$.Tracker.action('expand_'+action,"Banner",e);}
This.expand(0);}
function destroyRollOver(){if(!overlay)return;if(overlayTimeout)clearTimeout(overlayTimeout);if(stepTimeout)clearInterval(stepTimeout);overlay.parentNode.removeChild(overlay);overlay=null;var im=document.querySelectorAll(".double-dip-img");$.removeClass(rollOverElem,"active");for(var i=0,length1=im.length;i<length1;i++){$.removeClass(im[i],"active");}}}
function initSlideToExpand(){var isSliderAnimation=false;var theRange=0;var isSlidingBackwards=false;var slider;var panel=$.get("#panel");function sliderAnimation(){if(isSliderAnimation){theRange=parseInt(slider.value,10);if(theRange>32&&!isSlidingBackwards){theRange+=4;slider.value=theRange;if(theRange>=100){slider.value=100;expandUnit();if(!$.Tracker.isEngagementTracked()){$.Tracker.action('expand_slide','Banner');}
isSliderAnimation=false;isSlidingBackwards=true;}}else{theRange-=4;slider.value=theRange;if(theRange<=0){slider.value=0;isSliderAnimation=false;isSlidingBackwards=false;}}}
window.requestAnimationFrame(sliderAnimation);}
if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||ENV.mobiledemo){var slideToExpand=$.param("slide_to_expand",true,"bool");if(slideToExpand){this.slideToExpand=true;slider=document.getElementById("cb-peek-ticker-text");if(slider){var peekTickerText=slider;slider.innerHTML+="<input type='range' value='0' max='100' class='slideToExpand' />";slider=slider.querySelector(".slideToExpand");peekTickerText.style.display="block";window.requestAnimationFrame(sliderAnimation);$.addClass(panel,$.param("layout",null)+"-layout");$.addClass(panel,"mobileDevice");$.Banner.on("collapsed",function(){slider.value=0;$.removeClass(slider,"sliding");});$.events.on(slider,["mouseup","touchend"],function(){isSliderAnimation=true;theRange=parseInt(slider.value,10);if(theRange<=32||isSlidingBackwards){$.removeClass(slider,"sliding");}});$.events.on(slider,["mousedown","touchstart"],function(){isSliderAnimation=false;$.addClass(slider,"sliding");});}}}}
this.extend({postInit:function(){var le=document.querySelector(".layout-extensions");switch($.params.base.rollover_type){case"image":cbRollover=document.createElement("div");cbRollover.id="cb-rollover";doubleWrapper=document.createElement("div");doubleWrapper.id="double-wrapper";cbRollover.appendChild(doubleWrapper);le.appendChild(cbRollover);initRollOverImages.call(this);break;case"custom":cbRollover=document.createElement("div");cbRollover.id="cb-rollover";doubleWrapper=document.createElement("div");doubleWrapper.id="double-wrapper";cbRollover.appendChild(doubleWrapper);le.appendChild(cbRollover);initRollOverImages.call(this);break;case"basic":cbRollover=document.createElement("div");cbRollover.id="cb-rollover";doubleWrapper=document.createElement("div");doubleWrapper.id="double-wrapper";cbRollover.appendChild(doubleWrapper);le.appendChild(cbRollover);initRollOverImages.call(this);break;default:cbctr=document.createElement("div");cbctr.id="cb-ctr";le.appendChild(cbctr);initSlideToExpand.call(this);Peek=initPeek.call(this);var rippleDisabled=$.param("ripple_disabled",false,"bool");if(!rippleDisabled){Ripple=initRipple.call(this);}
if(location.hostname.indexOf("contobox")!==-1&&location.pathname.indexOf("demopage")!==-1){if(!isSlideToExpandAvailable()){RollOver=initRollOver.call(this);}}else{RollOver=initRollOver.call(this);}
break;}
function isSlideToExpandAvailable(){var steEnabled=$.param("slide_to_expand",true,"bool");if(steEnabled===false)return false;var steEl=$.get(".slideToExpand");if(!steEl)return false;var steHasDimensions=steEl.offsetHeight&&steEl.offsetWidth;if(!steHasDimensions)return false;var steStyles=window.getComputedStyle(steEl);return steStyles.getPropertyValue("visibility")==="visible";}}});});$.extensions.push(function(){this.addFeature(function(){var Tips=$.ui.Tips($.cBoxMain.Panel);$.Tips=Tips;var tipsData=$.param('tips');if(!tipsData){tipsData={data:[]};}else if(!tipsData.data){tipsData={data:[tipsData]};}
var tipStyleDefault=$.param('guiding_tip_style','generic');var MAIN_SEQUENCE=[];var MAIN_SEQ_INDEX=0;var COMP_SEQUENCE={tab:[],piano:[]};var COMP_SEQ_INDEX={tab:[],piano:[]};var COMP_IDX_MAP=[];var ActiveTabSequence=null;var ActivePianoSequence=null;var wasPlaying=false;var sequenceOptions={startDelay:5000,switchTimeout:5000,resetOnInteraction:true};var componentCounter={tab:0,piano:0};var componentKeyPrefix={tab:'tab_button_',piano:'piano_icon_'};tipsData.data.forEach(function(seqData,i){var seq=[],name;if(i===0){name='main';}else{name=seqData.name;}
initTipSequence(name,seq,seqData||{});MAIN_SEQUENCE.push(seq);});if(!MAIN_SEQUENCE.length){MAIN_SEQUENCE.push([]);}
this.Components.forEach(function(component){var cTipsData=component.param('tips');if(!cTipsData){cTipsData={data:[]};}else if(!cTipsData.data){cTipsData={data:[cTipsData]};}
var type=component.param('type');var idx=componentCounter[type];var pref=componentKeyPrefix[type];COMP_SEQUENCE[type][idx]=[];COMP_SEQ_INDEX[type][idx]=0;COMP_IDX_MAP.push(idx);cTipsData.data.forEach(function(seqData,i){var seq=[],name;if(i===0){name=pref+idx;}else{name=seqData.name;}
initTipSequence(name,seq,seqData||{});COMP_SEQUENCE[type][idx].push(seq);});componentCounter[type]++;});Tips.addSequence(MAIN_SEQUENCE[MAIN_SEQ_INDEX]);this.Layout.on('open',handleUnitFocus).on('close',handleUnitBlur).on('beforeClose',handleAllTipsHide).on('beforeMenuToggle',handleAllTipsHide);$.events.on(window,"focus",handleUnitFocus);$.events.on(window,'blur',handleUnitBlur);if($.ui.Tabs){$.Tabs.on('onTabSwitch',handleTabSwitch);}
if($.ui.PianoBar){$.Piano.on('onOpen',handlePianoOpen).on('onSwitch',handlePianoSwitch).on('onClose',handlePianoClose);}
this.on('postComponentsInit',function(){Tips.initTips();});function initTipSequence(name,seq,cfg){seq.opt=$.extend({},sequenceOptions,cfg.opt);if(cfg.tips&&$.isArray(cfg.tips)){cfg.tips.forEach(function(p){if(p.opt.name){if(!p.opt.style){p.opt.style=tipStyleDefault;}
Tips.initTip(p.selector,p.opt);if(!p.opt.excludeFromSeq){seq.push(p.opt.name);}}});}
Tips.registerSequence(name,seq);}
function disableNonPianoIconTips(flag){var regExp=new RegExp('^'+componentKeyPrefix['piano']);MAIN_SEQUENCE[0].forEach(function(key){if(!regExp.test(key))Tips.getTip(key).disabled(flag);});}
function handleTabSwitch(e){var data=e.data,Seq;Tips.hideAllTips().stopSequence();if(ActiveTabSequence){Tips.removeSequence(ActiveTabSequence);ActiveTabSequence=null;}
var seqIndex=COMP_SEQ_INDEX['tab'][data.tab];if((Seq=COMP_SEQUENCE['tab'][data.tab][seqIndex])&&Seq.length){Tips.addSequence(Seq);ActiveTabSequence=Seq;}
MAIN_SEQUENCE.forEach(function(seq){var index=seq.indexOf(componentKeyPrefix['tab']+data.tab);if(index>-1){seq.splice(index,1);}});Tips.playSequence();}
function handlePianoSwitch(e){var data=e.data,Seq;Tips.hideAllTips().stopSequence();if(ActivePianoSequence){Tips.removeSequence(ActivePianoSequence);ActivePianoSequence=null;}
var seqIndex=COMP_SEQ_INDEX['piano'][data.frame];if((Seq=COMP_SEQUENCE['piano'][data.frame][seqIndex])&&Seq.length){Tips.addSequence(Seq);ActivePianoSequence=Seq;}
MAIN_SEQUENCE.forEach(function(seq){var index=seq.indexOf(componentKeyPrefix['piano']+data.frame);if(index>-1){seq.splice(index,1);}});Tips.playSequence();}
function handlePianoOpen(){if(ActiveTabSequence){Tips.stopSequence().removeSequence(ActiveTabSequence);}
disableNonPianoIconTips(true);}
function handlePianoClose(){var Seq;Tips.hideAllTips().stopSequence();if(ActivePianoSequence){Tips.removeSequence(ActivePianoSequence);ActivePianoSequence=null;}
if((Seq=ActiveTabSequence)&&Seq.length){Tips.addSequence(Seq);}
disableNonPianoIconTips(false);Tips.playSequence();}
function handleUnitFocus(){setTimeout(function(){if(wasPlaying)Tips.playSequence();},10);}
function handleUnitBlur(){setTimeout(function(){wasPlaying=Tips.isSequencePlaying();Tips.stopSequence();},10);}
function handleAllTipsHide(){Tips.hideAllTips();}
var RESTORE_SEQUENCES=[];var mainSeqIsStored=false;this.extend({switchTipSequence:function(name){var seqKey=name;var seqToSwitch=Tips.getSequenceByName(seqKey);var seqIndex=MAIN_SEQUENCE.indexOf(seqToSwitch);var remSeq=[];if(seqIndex>-1){Tips.hideAllTips().stopSequence();var seqArr=Tips.getQueue();seqArr.forEach(function(seq){Tips.removeSequence(seq);remSeq.push(seq);});if(!mainSeqIsStored){RESTORE_SEQUENCES=remSeq;mainSeqIsStored=true;}
Tips.addSequence(seqToSwitch);Tips.playSequence();}
return this;},switchToDefaultTipSequence:function(){if(mainSeqIsStored){Tips.hideAllTips().stopSequence();var seqArr=Tips.getQueue();seqArr.forEach(function(seq){Tips.removeSequence(seq);});RESTORE_SEQUENCES.forEach(function(seq){Tips.addSequence(seq);});RESTORE_SEQUENCES.length=0;Tips.playSequence();mainSeqIsStored=false;}
return this;},switchComponentTipSequence_:function(comp,name){var activeSeq=null;var type=comp.param('type');var idx=COMP_IDX_MAP[comp.getIndex()];var pref=componentKeyPrefix[type];var seqKey=name?name:pref+idx;var seqToSwitch=$.Tips.getSequenceByName(seqKey);var seqIndex=COMP_SEQUENCE[type][idx].indexOf(seqToSwitch);if(seqIndex>-1&&comp.hasFocus()){if(type==='tab'){activeSeq=ActiveTabSequence;}else if(type==='piano'){activeSeq=ActivePianoSequence;}
Tips.hideAllTips().stopSequence();if(activeSeq&&COMP_SEQUENCE[type][idx].indexOf(activeSeq)>-1){Tips.removeSequence(activeSeq);}
COMP_SEQ_INDEX[type][idx]=seqIndex;if(type==='tab'){ActiveTabSequence=seqToSwitch;}else if(type==='piano'){ActivePianoSequence=seqToSwitch;}
Tips.addSequence(seqToSwitch);Tips.playSequence();}
return this;},switchToDefaultComponentTipSequence_:function(comp){this.switchComponentTipSequence_(comp);return this;}});});});$.components.push(function(){this.extend({initialize:function(){this._super.initialize.call(this);function timeNow(){return(new Date()).getTime();}
var ROTATIONDURATION=this.param("rotation_duration",0.0,"float")*1000;var TABTOOPEN=this.param("tab_to_open",0,"int");var TRANSITIONDURATION=1000;var index=this.getIndex();var tabFrame=this.getComponentTabFrame();var hidden=this.param('hide_tab');if(hidden){$.addClass(tabFrame,'hidetab');return;}
var allhtmlboxContainers=Array.prototype.filter.call(($.Tabs?$.Tabs.getTabFrames():$.getAll('.tab-scroll-container > .tab-frame')),function(tab){return tab.className.indexOf('hidetab')===-1;});var totalhtmlboxContainers=allhtmlboxContainers.length;var pauseRotation=false;var transitioning=false;var pauseRotationPromised=false;var HBObj={index:index,ready:false,isVisible:false,totalRotationDuration:ROTATIONDURATION+TRANSITIONDURATION,tabToOpen:TABTOOPEN,tabFrame:tabFrame,startTime:-1};$.addClass(tabFrame,"htmlbox-tab-frame");var currenttime,tdiff,nextindex,nextthereafter;function handleCurrentHTMLBoxAnimation(){if(HBObj.ready&&HBObj.isVisible&&!pauseRotation){currenttime=timeNow();tdiff=currenttime-HBObj.startTime;if(tdiff>=ROTATIONDURATION){HBObj.tabFrame.style.opacity=1-((tdiff-ROTATIONDURATION)/TRANSITIONDURATION);transitioning=true;if(tdiff>=HBObj.totalRotationDuration){HBObj.isVisible=false;HBObj.tabFrame.style.opacity=HBObj.tabFrame.style.zIndex=null;if(HBObj.index+1>=totalhtmlboxContainers){nextindex=0;}else{nextindex=HBObj.index+1;}
nextthereafter=nextindex+1;if(nextthereafter>=totalhtmlboxContainers){nextthereafter=0;}
$.htmlboxes[nextindex].isVisible=true;$.htmlboxes[nextindex].startTime=timeNow();$.htmlboxes[nextindex].tabFrame.style.opacity=1;$.htmlboxes[nextindex].tabFrame.style.zIndex=2;$.htmlboxes[nextthereafter].tabFrame.style.zIndex=1;transitioning=false;if(pauseRotationPromised){pauseRotation=true;pauseRotationPromised=false;}}}}
window.requestAnimationFrame(handleCurrentHTMLBoxAnimation);}
if(!$.Expansion&&ROTATIONDURATION){if(index===0){HBObj.isVisible=true;tabFrame.style.zIndex=2;}else if(index===1){tabFrame.style.zIndex=1;}
if(!$.htmlboxes){$.htmlboxes=[];}
if(!hidden){$.htmlboxes.push(HBObj);}
if(totalhtmlboxContainers>1){if($.htmlboxes.length===totalhtmlboxContainers){var i;for(i=0;i<totalhtmlboxContainers;i++){$.htmlboxes[i].ready=true;}
$.htmlboxes[0].startTime=timeNow();}
$.addClass(document.body,"banner-rotation");window.requestAnimationFrame(handleCurrentHTMLBoxAnimation);$.Banner.on("expanded",function(){if(transitioning){pauseRotationPromised=true;}else{pauseRotation=true;}});$.Banner.on("collapsed",function(){pauseRotation=false;HBObj.startTime=timeNow();});}}}});});
    ENV.ref = $.base64Decode(ENV.ref);
    ENV.clickTag = $.base64Decode(ENV.clickTag);
    ENV.fromUrl = $.base64Decode(ENV.fromUrl);
	if ($.Banner) {
		$.Banner.initialize({"components":[{"cl":0,"ext":[],"inst_id":129869,"name":"htmlbox","show_as":"main_tab","type":"tab"}],"layout":{"ext":[0,1],"type":"desktop"}});
	}
})(window);
</script>

    
</div>

</body>
</html>
*/}.toString().slice(15, -3).replace(/__AST_FWDSLSH__/g, "*/").replace(/\-VENDOR\-/g, __vndr);
    var PHID = "cbox_ph_71317";
    var PARAMS = {"dynamic_width":false,"format":"300x600","height":"600","insert_method":"","width":"300"};
    var STATS = {"ad_id":32924,"cookieid":"58d463aea9b9486b97d50c371b7773b5","fingerprint":"","from_url":"https://www.halifaxtoday.ca/local-news/mooseheads-dnd-appreciation-night-goes-friday-1115066","http_referrer":"","ifr":false,"lid":"a_DFP_!!_c_4853000820_!!_s_halifaxtoday.ca","ltype":1,"sid":"0e4843955b0442f68ffa13d309695d92","type":"","uagent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36","view_date":1541691612,"view_ip":"142.177.81.10","website_domain":"halifaxtoday.ca","zone_id":41166};
    var burl = "https://am.contobox.com/";
    function trackBSstatus (wasFound) {
        STATS.found = wasFound;
        STATS.cachebust = Math.random();
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = burl + "v3/frontend/creatives/viewbootstrapcount.js?stats=" + window.encodeURIComponent(JSON.stringify(STATS)) + "&zone_id=" + STATS.zone_id;
        window.document.getElementsByTagName('head')[0].appendChild(script);
    }
    (function(d){var f=d.createElement('iframe'),p=d.getElementById(PHID),tp;if(checkEnv()&&PARAMS.dynamic_width&&top!==self&&isTheSameDomain()){if(tp=getTopIFrameElement()){p=tp;}}
if(p){p.parentNode.insertBefore(f,p);}else{d.body.appendChild(f);}
f.id='cbox-fn-'+IID+'-banner-iframe';f.style.visibility='hidden';var fd=f.contentWindow.document;fd.open('text/html','replace');fd.write(BODY);fd.close();function getTopIFrameElement(){var s=self,iframe=false,tmp;try{function getParentIFrame(s){if(top===s){return false;}
var iFrames=s.parent.document.getElementsByTagName('IFRAME'),i,len=iFrames.length;for(i=0;i<len;i++){if(iFrames[i].contentWindow===s){return iFrames[i];}}
return false;};while(tmp=getParentIFrame(s)){iframe=tmp;s=s.parent;}
return iframe;}catch(e){return false;}}
function isTheSameDomain(){try{if(!top.location.href){return false;}
return true;}catch(e){return false;}}
function checkEnv(){var host=location.hostname,path=location.pathname;if((host.indexOf('contobox')!==-1)&&(path.indexOf('heatmap')!==-1)){return false;}
return true;}}(document));
})();
